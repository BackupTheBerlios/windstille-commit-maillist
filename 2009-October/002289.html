<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Windstille-commit] r3292 - trunk/windstille
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/windstille-commit/2009-October/index.html" >
   <LINK REL="made" HREF="mailto:windstille-commit%40lists.berlios.de?Subject=Re%3A%20%5BWindstille-commit%5D%20r3292%20-%20trunk/windstille&In-Reply-To=%3C200910052036.n95Kan63030873%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002288.html">
   <LINK REL="Next"  HREF="002290.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Windstille-commit] r3292 - trunk/windstille</H1>
    <B>grumbel at BerliOS</B> 
    <A HREF="mailto:windstille-commit%40lists.berlios.de?Subject=Re%3A%20%5BWindstille-commit%5D%20r3292%20-%20trunk/windstille&In-Reply-To=%3C200910052036.n95Kan63030873%40sheep.berlios.de%3E"
       TITLE="[Windstille-commit] r3292 - trunk/windstille">grumbel at mail.berlios.de
       </A><BR>
    <I>Mon Oct  5 22:36:49 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002288.html">[Windstille-commit] r3291 - in trunk/windstille/src: app armature	editor engine input objects particles screen scripting sound	sprite3d tile
</A></li>
        <LI>Next message: <A HREF="002290.html">[Windstille-commit] r3293 - trunk/windstille/external
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2289">[ date ]</a>
              <a href="thread.html#2289">[ thread ]</a>
              <a href="subject.html#2289">[ subject ]</a>
              <a href="author.html#2289">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: grumbel
Date: 2009-10-05 22:36:48 +0200 (Mon, 05 Oct 2009)
New Revision: 3292

Modified:
   trunk/windstille/TODO
Log:
TODO updates

Modified: trunk/windstille/TODO
===================================================================
--- trunk/windstille/TODO	2009-10-05 20:28:45 UTC (rev 3291)
+++ trunk/windstille/TODO	2009-10-05 20:36:48 UTC (rev 3292)
@@ -10,6 +10,15 @@
 in the context of the whole game or if a potential performance
 enhanchment, actually enhanchmes anything at all.
 
+Testing
+=======
+
+* write testcases (can be manual) for the SceneGraph
+
+* how to implemented stencil in the editor?
+
+* create some better graphics for stencil testing
+
 Timeline
 ========
 
@@ -43,7 +52,7 @@
 
 * implement load of timeline
 
-* using UI manager doesn't work when toolbar is  on the Notepad
+* using UI manager doesn't work when toolbar is on the Notepad
 
 * add ability to scale selections
 
@@ -129,55 +138,11 @@
   * apply changes instantly
   * use the Undo/Redo system
 
-Editor Restructuring
-====================
-
-* 'delete layer' should set the layer selection to something valid
-
-* add a toggleable safe-area overlay that shows how much fits on a screen
-
-* SceneGraph needs to be updated while drag&amp;drop is in progress
-
-* delete/remove/erase naming is a bit mixed up in a few places
-
-* being able to directly mark Edges still feels wonky, need to rethink the thing again
-
-* copy&amp;paste works only very limited with edges, i.e. copying from one
-  sector to another causes crazy stuff to happen as the nodes it links
-  to are on another sector
-
-* draw NavGraph lines thicker (i.e. glLineWidth())
-
-* color code them by layer (how to figure out the color?)
-
-* add special drawing for different edge types (i.e. draw stairs for stair type edges)
-
-* snapping for navgraph is limited to moving the object, should also
-  work when creating the nodes in the first place
-
-* horizontal/vertical navgraph edges are near impossible to select
-  (bounding box is just 1px height)
-
-* objects can't snap to NavGraphNode's as they are not part of the
-  normal layer structure, would also need inverse point-snapping to
-  work properly, as they shouldn't snap to the bounding_box of the node
-
-* implement a stop-watch HUD element
-
-* it takes 25sec to run through every corner of the worker.wst map (75 meter + stairs in size)
-
-* add auto-visible button similar to auto-lock button
-
-#0  0x081115a7 in Vector2f::operator+ (this=0x0, other=@0xbff04558) at src/math/vector2f.hpp:56
-#1  0x0816e342 in Selection::on_move_update (this=0x92043b8, offset=@0xbff04558) at src/editor/selection.cpp:130
-#2  0x0816c80f in SelectTool::mouse_up (this=0x8999dd0, event=0x8f878a0, wst=@0x8f8e5a0) at src/editor/select_tool.cpp:205
-#3  0x08174a22 in WindstilleWidget::mouse_up (this=0x8f8e5a0, ev=0x8f878a0) at src/editor/windstille_widget.cpp:372
-#4  0x08177788 in sigc::bound_mem_functor1&lt;bool, WindstilleWidget, _GdkEventButton*&gt;::operator() (this=0x902fc34, _A_a1=@0xbff04664) at /usr/include/sigc++-2.0/sigc++/functors/mem_fun.h:1851
-#5  0x081772bf in sigc::adaptor_functor&lt;sigc::bound_mem_functor1&lt;bool, WindstilleWidget, _GdkEventButton*&gt; &gt;::operator()&lt;_GdkEventButton* const&amp;&gt; (this=0x902fc30, _A_arg1=@0xbff04664)
-
 Overview
 ========
 
+* add a way to force render path (i.e. which Compositor to use)
+
 * do demo sector with burning barrels, snow and steam, to get the
   feeling of cold, could extend the trainstation to that
 
@@ -253,12 +218,6 @@
   * film grain
 
   * lense flare
-
-* add a glScissor()/Display::push/pop_cliprect() Node
-
-* add a stencil node:
-
-  * StencilDrawable(DrawableHandle stencil, DrawableHandle child);
 
 SceneGraph
 ==========
@@ -292,6 +251,7 @@
     node)
 
 * SceneGraph could be used to promote rotation and scaling to children
+  (i.e. ModelviewMatrixDrawable)
 
 Navigation Graph
 ================
@@ -313,8 +273,22 @@
 Display
 =======
 
-* Display::aspect_size is ugly, turning it into a Display::set_size() wouldn't help much
+* image-grid in Sprite seems broken
 
+* SurfaceManager::load_grid() bypasses TexturePacker, doesn't do
+  border pixel duplication
+
+* maybe add special support for opaque textures, i.e. Textures with
+  1-bit alpha, which could be used to bucket sort drawing requests and
+  reduce texture switches (in case those ever start posing a problem)
+
+* figure out how to enable mipmapping into the tile and surface packer
+  (no longer needed as both tile and surface packer are considered obsolete)
+
+* Display::aspect_size is ugly, turning it into a Display::set_size()
+  wouldn't help much, should be part of some GraphicContext object
+  that is passed around to Drawable::render()
+
 * OpenGLState class is really slow (rewrite it to not use std::map, also remove the impl allocation)
 
 * Display::push/pop_cliprect() doesn't handle different aspect-ratios properly
@@ -547,24 +521,13 @@
 ==============
 
 * split music, voice and sound fx into seperate context or allow to
-  change their volume by other means
+  change their volume independently by other means
 
 Miscellaneous
 =============
 
-* figure out how to enable mipmapping into the tile and surface packer
-
 * View class could be done away, as it doesn't have any clear purpose
 
-* SurfaceManager::load_grid() bypasses TexturePacker, doesn't do
-  border pixel duplication
-
-* replace power_of_two function with one not based on a slow while() loop
-
-* maybe add special support for opaque textures, i.e. Textures with
-  1-bit alpha, which could be used to bucket sort drawing requests and
-  reduce texture switches (in case those ever start posing a problem)
-
 * replace lisp::Writer with custom FileWriter (used in config)
 
 * add (maybe) a LispWriter::start_section(name, bool compact) to create:
@@ -582,35 +545,6 @@
   with the current FileReader is the way sections are handled, which
   isn't pretty
 
-* image-grid in Sprite seems broken
-
-* remove GameObject::get_world(), use Sector::current() instead
-  (difference might matter on sector change)
-
-* move has_suffix, has_prefix and stuff into StringUtil class
-
-* get rid of global debug
-
-* work on Object introspection, see: ~/projects/lang/c++/introspection.cpp
-
-  class GameObject {
-    PropertiesClass property_class() {
-      static PropertyClass* this_class = 0;
-      if (!this_class) {
-                 
-      } else {
-
-      }
-    }
-    Properties properties() {
-       static PropertiesClass this_class;
-       if (!PropertiesClass 
-    }
-  }
-
-* remove DEBUG macro or give it a clearer defined purpose, currently
-  used only in a few tiny places
-
 * add way to TextArea to layout text with a fixed indent after a
   linebreak (for use in the PDA):
 
@@ -620,21 +554,16 @@
 
 * cleanup the parenting code
 
-* why does src/navigation/node.hpp use SegmentPosition? Doesn't seem
-  right
-
 * set dynamic maximum size for auto resizing Menus depending on
   resolution
 
-* add way to jump without running
-
 * animation must be less strongly coupled to movement
 
 * add way to skip through SpeechManager Speech lines (B-button)
 
 * raycasting in laserpointer is broken, doesn't work if angle is 0
   (maybe not worth to fix since it will be replaced with
-  NavigationMesh)
+  NavigationMesh) [obsolete]
 
 * get rid of global game_time variable
 
@@ -681,7 +610,8 @@
 ======
 
 * OpenGL 2.0 supports non-power-of-two textures with mipmaps, that
-  should be used instead of the texture packer
+  should be used instead of the texture packer [mostly done, except
+  for backward compability stuff]
 
 * mipmapping needs to be enabled
 
@@ -696,7 +626,7 @@
 }
 
 * Check if <A HREF="http://developer.nvidia.com/object/np2_mipmapping.html">http://developer.nvidia.com/object/np2_mipmapping.html</A> can
-  be used to improve visual quality
+  be used to improve visual quality or if GLU is already using that
 
 Profiling
 =========
@@ -715,8 +645,8 @@
 Bugs
 ====
 
-* drawing is broken after loading a level, only get fixed when
-  toggling Light layer, (bug in OpenGLState maybe?)
+* drawing in the editor is broken after loading a level, only gets
+  fixed when toggling Light layer, (bug in OpenGLState maybe?)
 
 * quickly tapping forward-back-hold down forward makes your character
   play the walking animation without actually moving anywhere
@@ -727,7 +657,7 @@
   std::exception: No marker with name 'RightFoot' defined in action 'Stand'
 
   in general the game shouldn't crash when stuff isn't found, but
-  instead fallback to placeholders and give a error message on the console
+  instead fallback to placeholders and give a warning message on the console
 
 * miniswig causes bison++ to crash
 
@@ -825,9 +755,9 @@
 Graphics
 ========
 
-* do not make light larger then 256, maybe even smaller is ok (large
-  light is a waste of space, as you don't see much pixelation in
-  gradients)
+* do not make light sprites larger then 256, maybe even smaller is ok
+  (large light is a waste of space, as you don't see much pixelation
+  in gradients)
 
 * do *NOT* use power of two textures, use multiple of 64/128 instead
   (128 is easy to snap, power of two doesn't help, since textures are
@@ -870,6 +800,51 @@
 Editor
 ======
 
+* mark the zero-spot in the editor (i.e. thicker lines for zero)
+
+* 'delete layer' should set the layer selection to something valid
+
+* add a toggleable safe-area overlay that shows how much fits on a screen
+
+* SceneGraph needs to be updated while drag&amp;drop is in progress
+
+* delete/remove/erase naming is a bit mixed up in a few places
+
+* being able to directly mark Edges still feels wonky, need to rethink the thing again
+
+* copy&amp;paste works only very limited with edges, i.e. copying from one
+  sector to another causes crazy stuff to happen as the nodes it links
+  to are on another sector
+
+* draw NavGraph lines thicker (i.e. glLineWidth())
+
+* color code them by layer (how to figure out the color?)
+
+* add special drawing for different edge types (i.e. draw stairs for stair type edges)
+
+* snapping for navgraph is limited to moving the object, should also
+  work when creating the nodes in the first place
+
+* horizontal/vertical navgraph edges are near impossible to select
+  (bounding box is just 1px height)
+
+* objects can't snap to NavGraphNode's as they are not part of the
+  normal layer structure, would also need inverse point-snapping to
+  work properly, as they shouldn't snap to the bounding_box of the node
+
+* implement a stop-watch HUD element
+
+* it takes 25sec to run through every corner of the worker.wst map (75 meter + stairs in size)
+
+* add auto-visible button similar to auto-lock button
+
+#0  0x081115a7 in Vector2f::operator+ (this=0x0, other=@0xbff04558) at src/math/vector2f.hpp:56
+#1  0x0816e342 in Selection::on_move_update (this=0x92043b8, offset=@0xbff04558) at src/editor/selection.cpp:130
+#2  0x0816c80f in SelectTool::mouse_up (this=0x8999dd0, event=0x8f878a0, wst=@0x8f8e5a0) at src/editor/select_tool.cpp:205
+#3  0x08174a22 in WindstilleWidget::mouse_up (this=0x8f8e5a0, ev=0x8f878a0) at src/editor/windstille_widget.cpp:372
+#4  0x08177788 in sigc::bound_mem_functor1&lt;bool, WindstilleWidget, _GdkEventButton*&gt;::operator() (this=0x902fc34, _A_a1=@0xbff04664) at /usr/include/sigc++-2.0/sigc++/functors/mem_fun.h:1851
+#5  0x081772bf in sigc::adaptor_functor&lt;sigc::bound_mem_functor1&lt;bool, WindstilleWidget, _GdkEventButton*&gt; &gt;::operator()&lt;_GdkEventButton* const&amp;&gt; (this=0x902fc30, _A_arg1=@0xbff04664)
+
 * add a NextLayer, PrevLayer keyboard shortcuts
 
 * add AutoVisible button to Layer dialog


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002288.html">[Windstille-commit] r3291 - in trunk/windstille/src: app armature	editor engine input objects particles screen scripting sound	sprite3d tile
</A></li>
	<LI>Next message: <A HREF="002290.html">[Windstille-commit] r3293 - trunk/windstille/external
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2289">[ date ]</a>
              <a href="thread.html#2289">[ thread ]</a>
              <a href="subject.html#2289">[ subject ]</a>
              <a href="author.html#2289">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/windstille-commit">More information about the Windstille-commit
mailing list</a><br>
</body></html>
