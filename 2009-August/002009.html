<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Windstille-commit] r3012 - in trunk/windstille/src: app display	editor engine font hud input objects screen sound sprite2d	sprite3d tile util
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/windstille-commit/2009-August/index.html" >
   <LINK REL="made" HREF="mailto:windstille-commit%40lists.berlios.de?Subject=Re%3A%20%5BWindstille-commit%5D%20r3012%20-%20in%20trunk/windstille/src%3A%20app%20display%0A%09editor%20engine%20font%20hud%20input%20objects%20screen%20sound%20sprite2d%0A%09sprite3d%20tile%20util&In-Reply-To=%3C200908231326.n7NDQQsm020574%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002008.html">
   <LINK REL="Next"  HREF="002010.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Windstille-commit] r3012 - in trunk/windstille/src: app display	editor engine font hud input objects screen sound sprite2d	sprite3d tile util</H1>
    <B>grumbel at BerliOS</B> 
    <A HREF="mailto:windstille-commit%40lists.berlios.de?Subject=Re%3A%20%5BWindstille-commit%5D%20r3012%20-%20in%20trunk/windstille/src%3A%20app%20display%0A%09editor%20engine%20font%20hud%20input%20objects%20screen%20sound%20sprite2d%0A%09sprite3d%20tile%20util&In-Reply-To=%3C200908231326.n7NDQQsm020574%40sheep.berlios.de%3E"
       TITLE="[Windstille-commit] r3012 - in trunk/windstille/src: app display	editor engine font hud input objects screen sound sprite2d	sprite3d tile util">grumbel at mail.berlios.de
       </A><BR>
    <I>Sun Aug 23 15:26:26 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002008.html">[Windstille-commit] r3011 - in trunk/windstille/src: app display	editor engine font gui hud input lisp objects particles	physfs screen scripting sprite2d tile
</A></li>
        <LI>Next message: <A HREF="002010.html">[Windstille-commit] r3013 - trunk/windstille
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2009">[ date ]</a>
              <a href="thread.html#2009">[ thread ]</a>
              <a href="subject.html#2009">[ subject ]</a>
              <a href="author.html#2009">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: grumbel
Date: 2009-08-23 15:26:22 +0200 (Sun, 23 Aug 2009)
New Revision: 3012

Added:
   trunk/windstille/src/util/currenton.hpp
Modified:
   trunk/windstille/src/app/windstille_main.cpp
   trunk/windstille/src/app/windstille_main.hpp
   trunk/windstille/src/display/opengl_window.cpp
   trunk/windstille/src/display/opengl_window.hpp
   trunk/windstille/src/display/surface_manager.cpp
   trunk/windstille/src/display/surface_manager.hpp
   trunk/windstille/src/display/texture_manager.cpp
   trunk/windstille/src/display/texture_manager.hpp
   trunk/windstille/src/editor/editor_window.cpp
   trunk/windstille/src/editor/editor_window.hpp
   trunk/windstille/src/engine/camera.cpp
   trunk/windstille/src/engine/camera.hpp
   trunk/windstille/src/engine/script_manager.cpp
   trunk/windstille/src/engine/script_manager.hpp
   trunk/windstille/src/engine/sector.cpp
   trunk/windstille/src/engine/sector.hpp
   trunk/windstille/src/font/fonts.cpp
   trunk/windstille/src/font/fonts.hpp
   trunk/windstille/src/hud/controller_help_window.hpp
   trunk/windstille/src/hud/conversation.cpp
   trunk/windstille/src/hud/conversation.hpp
   trunk/windstille/src/hud/dialog_manager.cpp
   trunk/windstille/src/hud/dialog_manager.hpp
   trunk/windstille/src/hud/speech_manager.cpp
   trunk/windstille/src/hud/speech_manager.hpp
   trunk/windstille/src/input/input_manager.cpp
   trunk/windstille/src/input/input_manager.hpp
   trunk/windstille/src/input/input_manager_sdl.cpp
   trunk/windstille/src/input/input_manager_sdl.hpp
   trunk/windstille/src/objects/player.cpp
   trunk/windstille/src/objects/player.hpp
   trunk/windstille/src/screen/game_session.cpp
   trunk/windstille/src/screen/game_session.hpp
   trunk/windstille/src/screen/view.cpp
   trunk/windstille/src/screen/view.hpp
   trunk/windstille/src/sound/sound_manager.cpp
   trunk/windstille/src/sound/sound_manager.hpp
   trunk/windstille/src/sprite2d/manager.cpp
   trunk/windstille/src/sprite2d/manager.hpp
   trunk/windstille/src/sprite3d/manager.cpp
   trunk/windstille/src/sprite3d/manager.hpp
   trunk/windstille/src/tile/tile_factory.cpp
   trunk/windstille/src/tile/tile_factory.hpp
Log:
Replaced manual current() handling with Currenton template mixin

Modified: trunk/windstille/src/app/windstille_main.cpp
===================================================================
--- trunk/windstille/src/app/windstille_main.cpp	2009-08-23 12:50:41 UTC (rev 3011)
+++ trunk/windstille/src/app/windstille_main.cpp	2009-08-23 13:26:22 UTC (rev 3012)
@@ -53,16 +53,12 @@
 #include &quot;util/system.hpp&quot;
 #include &quot;windstille_main.hpp&quot;
 
-WindstilleMain* WindstilleMain::current_ = 0;
-
 WindstilleMain::WindstilleMain()
 {
-  current_ = this;
 }
 
 WindstilleMain::~WindstilleMain()
 {
-  current_ = 0;
 }
 
 int 

Modified: trunk/windstille/src/app/windstille_main.hpp
===================================================================
--- trunk/windstille/src/app/windstille_main.hpp	2009-08-23 12:50:41 UTC (rev 3011)
+++ trunk/windstille/src/app/windstille_main.hpp	2009-08-23 13:26:22 UTC (rev 3012)
@@ -49,16 +49,12 @@
 
 #include &lt;boost/scoped_ptr.hpp&gt;
 
+#include &quot;util/currenton.hpp&quot;
 #include &quot;screen/screen.hpp&quot;
 
-class WindstilleMain
+class WindstilleMain : public Currenton&lt;WindstilleMain&gt;
 { 
-private:
-  static WindstilleMain* current_;
 public:
-  static WindstilleMain* current() { return current_; }
-
-public:
   WindstilleMain();
   ~WindstilleMain();
 

Modified: trunk/windstille/src/display/opengl_window.cpp
===================================================================
--- trunk/windstille/src/display/opengl_window.cpp	2009-08-23 12:50:41 UTC (rev 3011)
+++ trunk/windstille/src/display/opengl_window.cpp	2009-08-23 13:26:22 UTC (rev 3012)
@@ -29,13 +29,8 @@
 #include &quot;display/display.hpp&quot;
 #include &quot;app/config.hpp&quot;
 
-OpenGLWindow* OpenGLWindow::s_current = 0;
-
 OpenGLWindow::OpenGLWindow()
 {
-  assert(!s_current);
-  s_current = this;
-
   atexit(SDL_Quit);
 
   SDL_GL_SetAttribute(SDL_GL_SWAP_CONTROL, 1); // vsync

Modified: trunk/windstille/src/display/opengl_window.hpp
===================================================================
--- trunk/windstille/src/display/opengl_window.hpp	2009-08-23 12:50:41 UTC (rev 3011)
+++ trunk/windstille/src/display/opengl_window.hpp	2009-08-23 13:26:22 UTC (rev 3012)
@@ -22,14 +22,11 @@
 #include &lt;SDL.h&gt;
 #include &lt;string&gt;
 
-class OpenGLWindow
+#include &quot;util/currenton.hpp&quot;
+
+class OpenGLWindow : public Currenton&lt;OpenGLWindow&gt;
 {
 private:
-  static OpenGLWindow* s_current;
-public:
-  static OpenGLWindow* current() { return s_current; }
-
-private:
   SDL_Surface* m_window;
 
 public:

Modified: trunk/windstille/src/display/surface_manager.cpp
===================================================================
--- trunk/windstille/src/display/surface_manager.cpp	2009-08-23 12:50:41 UTC (rev 3011)
+++ trunk/windstille/src/display/surface_manager.cpp	2009-08-23 13:26:22 UTC (rev 3012)
@@ -34,13 +34,10 @@
 #include &quot;texture_packer.hpp&quot;
 #include &quot;util/util.hpp&quot;
 
-SurfaceManager* SurfaceManager::current_ = 0;
 
 SurfaceManager::SurfaceManager()
   : texture_packer(new TexturePacker(Size(2048, 2048)))
 {
-  assert(current_ == 0);
-  current_ = this;
 }
 
 SurfaceManager::~SurfaceManager()
@@ -55,8 +52,6 @@
         }
     }
 #endif
-
-  current_ = 0;
 }
 
 Surface

Modified: trunk/windstille/src/display/surface_manager.hpp
===================================================================
--- trunk/windstille/src/display/surface_manager.hpp	2009-08-23 12:50:41 UTC (rev 3011)
+++ trunk/windstille/src/display/surface_manager.hpp	2009-08-23 13:26:22 UTC (rev 3012)
@@ -25,7 +25,8 @@
 #include &lt;map&gt;
 
 #include &quot;util/pathname.hpp&quot;
-#include &quot;texture.hpp&quot;
+#include &quot;util/currenton.hpp&quot;
+#include &quot;display/texture.hpp&quot;
 
 class Surface;
 class TexturePacker;
@@ -33,14 +34,9 @@
 /**
  * This class keeps a list of loaded surfaces and manages loading new ones
  */
-class SurfaceManager
+class SurfaceManager : public Currenton&lt;SurfaceManager&gt;
 {
 private:
-  static SurfaceManager* current_; 
-public:
-  static SurfaceManager* current() { return current_; } 
-
-private:
   boost::scoped_ptr&lt;TexturePacker&gt; texture_packer;
   
   typedef std::map&lt;Pathname, Surface&gt; Surfaces;

Modified: trunk/windstille/src/display/texture_manager.cpp
===================================================================
--- trunk/windstille/src/display/texture_manager.cpp	2009-08-23 12:50:41 UTC (rev 3011)
+++ trunk/windstille/src/display/texture_manager.cpp	2009-08-23 13:26:22 UTC (rev 3012)
@@ -31,12 +31,8 @@
 #include &quot;software_surface.hpp&quot;
 #include &quot;physfs/physfs_sdl.hpp&quot;
 
-TextureManager* TextureManager::s_current = 0;
-
 TextureManager::TextureManager()
 {
-  assert(!s_current);
-  s_current = this;
 }
 
 TextureManager::~TextureManager()

Modified: trunk/windstille/src/display/texture_manager.hpp
===================================================================
--- trunk/windstille/src/display/texture_manager.hpp	2009-08-23 12:50:41 UTC (rev 3011)
+++ trunk/windstille/src/display/texture_manager.hpp	2009-08-23 13:26:22 UTC (rev 3012)
@@ -24,6 +24,7 @@
 #include &lt;GL/glew.h&gt;
 #include &lt;GL/gl.h&gt;
 
+#include &quot;util/currenton.hpp&quot;
 #include &quot;util/pathname.hpp&quot;
 
 class Texture;
@@ -31,14 +32,9 @@
 /**
  * This class manages a map of image files to OpenGL textures.
  */
-class TextureManager
+class TextureManager : public Currenton&lt;TextureManager&gt;
 {
-private:
-  static TextureManager* s_current; 
 public:
-  static TextureManager* current() { return s_current; }
-
-public:
   TextureManager();
   ~TextureManager();
 

Modified: trunk/windstille/src/editor/editor_window.cpp
===================================================================
--- trunk/windstille/src/editor/editor_window.cpp	2009-08-23 12:50:41 UTC (rev 3011)
+++ trunk/windstille/src/editor/editor_window.cpp	2009-08-23 13:26:22 UTC (rev 3012)
@@ -45,8 +45,6 @@
 
 #include &quot;editor_window.hpp&quot;
 
-EditorWindow* EditorWindow::current_ = 0;
-
 EditorWindow::EditorWindow(const Glib::RefPtr&lt;const Gdk::GL::Config&gt;&amp; glconfig_)
   : ui_manager(Gtk::UIManager::create()),
     action_group(Gtk::ActionGroup::create()),
@@ -60,8 +58,6 @@
     zoom_tool(new ZoomTool()),
     current_tool(select_tool.get())
 {
-  current_ = this;
-
   set_title(&quot;Windstille Editor&quot;);
   set_default_size(1280, 800);
 
@@ -410,7 +406,6 @@
 
 EditorWindow::~EditorWindow()
 {
-  current_ = 0;
 }
 
 void

Modified: trunk/windstille/src/editor/editor_window.hpp
===================================================================
--- trunk/windstille/src/editor/editor_window.hpp	2009-08-23 12:50:41 UTC (rev 3011)
+++ trunk/windstille/src/editor/editor_window.hpp	2009-08-23 13:26:22 UTC (rev 3012)
@@ -29,10 +29,11 @@
 #include &lt;gtkmm/recentaction.h&gt;
 #include &lt;gtkmm/notebook.h&gt;
 
-#include &quot;selection.hpp&quot;
-#include &quot;minimap_widget.hpp&quot;
-#include &quot;object_selector.hpp&quot;
-#include &quot;layer_manager.hpp&quot;
+#include &quot;util/currenton.hpp&quot;
+#include &quot;editor/selection.hpp&quot;
+#include &quot;editor/minimap_widget.hpp&quot;
+#include &quot;editor/object_selector.hpp&quot;
+#include &quot;editor/layer_manager.hpp&quot;
 
 class Tool;
 class WindstilleWidget;
@@ -42,14 +43,10 @@
 class NavgraphInsertTool;
 class NavgraphSelectTool;
 
-class EditorWindow : public Gtk::Window
+class EditorWindow : public Gtk::Window,
+                     public Currenton&lt;EditorWindow&gt;
 {
 private:
-  static EditorWindow* current_;
-public:
-  static EditorWindow* current() { return current_; }
-
-private:
   Gtk::VBox   vbox;
   Gtk::VBox   sidebar_vbox;
   Gtk::HBox   hbox;

Modified: trunk/windstille/src/engine/camera.cpp
===================================================================
--- trunk/windstille/src/engine/camera.cpp	2009-08-23 12:50:41 UTC (rev 3011)
+++ trunk/windstille/src/engine/camera.cpp	2009-08-23 13:26:22 UTC (rev 3012)
@@ -22,8 +22,6 @@
 #include &quot;display/display.hpp&quot;
 #include &quot;camera.hpp&quot;
 
-Camera* Camera::current_ = 0;
-
 /**
  * Calculate the distance between two camera PathPoints, distance here
  * means not only the distance between the points itself, but also
@@ -65,7 +63,6 @@
   : pos(0, 0), zoom(1.0f)
 {
   path_pos = 0;
-  current_ = this;
   mode     = CAMERA_FOLLOW_PLAYER;
 }
 

Modified: trunk/windstille/src/engine/camera.hpp
===================================================================
--- trunk/windstille/src/engine/camera.hpp	2009-08-23 12:50:41 UTC (rev 3011)
+++ trunk/windstille/src/engine/camera.hpp	2009-08-23 13:26:22 UTC (rev 3012)
@@ -19,12 +19,14 @@
 #ifndef HEADER_WINDSTILLE_ENGINE_CAMERA_HPP
 #define HEADER_WINDSTILLE_ENGINE_CAMERA_HPP
 
+#include &quot;util/currenton.hpp&quot;
+
 /** 
  * This class manages the virtual camera movement, it follows the
  * player, allows the player to watch around, might zoom out if
  * interesting stuff happens out of the screen and such
  */
-class Camera
+class Camera : public Currenton&lt;Camera&gt;
 {
 public:
   enum Mode { CAMERA_INACTIVE, CAMERA_FOLLOW_PLAYER, CAMERA_FOLLOW_PATH };
@@ -61,10 +63,7 @@
   std::vector&lt;PathPoint&gt; path;
   float path_pos;
 
-  static Camera* current_;
 public:
-  static Camera* current() { return current_; }
-
   Camera();
 
   void   update(float delta);

Modified: trunk/windstille/src/engine/script_manager.cpp
===================================================================
--- trunk/windstille/src/engine/script_manager.cpp	2009-08-23 12:50:41 UTC (rev 3011)
+++ trunk/windstille/src/engine/script_manager.cpp	2009-08-23 13:26:22 UTC (rev 3012)
@@ -42,8 +42,6 @@
 // The table (works like a namespace here) where the game objects will appear
 static const char* OBJECTS_TABLE = &quot;objects&quot;;
 
-ScriptManager* ScriptManager::current_ = 0;
-
 // FIXME: Replace this with sq_compilebufer()
 static SQInteger squirrel_read_char(SQUserPointer file)
 {
@@ -70,9 +68,6 @@
 
 ScriptManager::ScriptManager()
 {
-  assert(current_ == 0);
-  current_ = this;
-
   vm = sq_open(1024);
   if(vm == 0)
     {
@@ -129,7 +124,6 @@
   squirrel_vms.clear();
 
   sq_close(vm);
-  current_ = 0;
 }
 
 boost::shared_ptr&lt;SquirrelThread&gt;

Modified: trunk/windstille/src/engine/script_manager.hpp
===================================================================
--- trunk/windstille/src/engine/script_manager.hpp	2009-08-23 12:50:41 UTC (rev 3011)
+++ trunk/windstille/src/engine/script_manager.hpp	2009-08-23 13:26:22 UTC (rev 3012)
@@ -26,6 +26,7 @@
 #include &lt;iostream&gt;
 #include &lt;boost/shared_ptr.hpp&gt;
 
+#include &quot;util/currenton.hpp&quot;
 #include &quot;scripting/wrapper.hpp&quot;
 #include &quot;scripting/util.hpp&quot;
 
@@ -38,14 +39,9 @@
  * It contains functions for loading and starting script, keeps a list of
  * suspended scripts and receives wakeup events for them
  */
-class ScriptManager
+class ScriptManager : public Currenton&lt;ScriptManager&gt;
 {
-private:
-  static ScriptManager* current_;
 public:
-  static ScriptManager* current() { return current_; }
-
-public:
   enum WakeupEvent 
     {
       NO_EVENT,

Modified: trunk/windstille/src/engine/sector.cpp
===================================================================
--- trunk/windstille/src/engine/sector.cpp	2009-08-23 12:50:41 UTC (rev 3011)
+++ trunk/windstille/src/engine/sector.cpp	2009-08-23 13:26:22 UTC (rev 3012)
@@ -51,15 +51,15 @@
 
 #include &quot;sector.hpp&quot;
 
-Sector* Sector::current_ = 0;
+//Sector* Sector::current_ = 0;
 
 Sector::Sector(const Pathname&amp; arg_filename)
-  : filename(arg_filename),
-    collision_engine(new CollisionEngine()),
+  : collision_engine(new CollisionEngine()),
     navigation_graph(new NavigationGraph()),
+    filename(arg_filename),
     player(0)
 { 
-  current_ = this;
+  //current_ = this;
 
   if (debug) std::cout &lt;&lt; &quot;Creating new Sector&quot; &lt;&lt; std::endl;
   

Modified: trunk/windstille/src/engine/sector.hpp
===================================================================
--- trunk/windstille/src/engine/sector.hpp	2009-08-23 12:50:41 UTC (rev 3011)
+++ trunk/windstille/src/engine/sector.hpp	2009-08-23 13:26:22 UTC (rev 3012)
@@ -25,6 +25,7 @@
 #include &lt;boost/scoped_ptr.hpp&gt;
 
 #include &quot;util/pathname.hpp&quot;
+#include &quot;util/currenton.hpp&quot;
 #include &quot;display/color.hpp&quot;
 
 class CollisionEngine;
@@ -39,14 +40,12 @@
 class TileMap;
 
 /** */
-class Sector
-{
-private: 
-  static Sector* current_;  
-public:
-  static Sector* current() { return current_; }
-  
+class Sector : public Currenton&lt;Sector&gt;
+{ 
 private:
+  boost::scoped_ptr&lt;CollisionEngine&gt; collision_engine;
+  boost::scoped_ptr&lt;NavigationGraph&gt; navigation_graph;
+
   Pathname filename;
   std::string name;
   std::string music;
@@ -66,9 +65,6 @@
   TileMap* interactive_tilemap;
   TileMap* interactivebackground_tilemap;
 
-  boost::scoped_ptr&lt;CollisionEngine&gt; collision_engine;
-  boost::scoped_ptr&lt;NavigationGraph&gt; navigation_graph;
-
   Player* player;
 
   void parse_file(const Pathname&amp; filename);

Modified: trunk/windstille/src/font/fonts.cpp
===================================================================
--- trunk/windstille/src/font/fonts.cpp	2009-08-23 12:50:41 UTC (rev 3011)
+++ trunk/windstille/src/font/fonts.cpp	2009-08-23 13:26:22 UTC (rev 3012)
@@ -23,15 +23,11 @@
 #include &quot;font/fonts.hpp&quot;
 #include &quot;util/pathname.hpp&quot;
 
-Fonts* Fonts::s_current = 0;
-
 Fonts::Fonts()
   : ttffont(new TTFFont(Pathname(&quot;fonts/VeraMono.ttf&quot;), 14, BorderFontEffect(1, true))),
     vera12(new TTFFont(Pathname(&quot;fonts/Vera.ttf&quot;),     12, BorderFontEffect(2, true))),
     vera20(new TTFFont(Pathname(&quot;fonts/Vera.ttf&quot;),     20, BorderFontEffect(2, true)))
 {
-  assert(!s_current);
-  s_current = this;
 }
 
 Fonts::~Fonts()

Modified: trunk/windstille/src/font/fonts.hpp
===================================================================
--- trunk/windstille/src/font/fonts.hpp	2009-08-23 12:50:41 UTC (rev 3011)
+++ trunk/windstille/src/font/fonts.hpp	2009-08-23 13:26:22 UTC (rev 3012)
@@ -21,16 +21,12 @@
 
 #include &lt;boost/scoped_ptr.hpp&gt;
 
-#include &quot;ttf_font.hpp&quot;
+#include &quot;util/currenton.hpp&quot;
+#include &quot;font/ttf_font.hpp&quot;
 
-class Fonts 
+class Fonts : public Currenton&lt;Fonts&gt;
 {
-private:
-  static Fonts* s_current;
 public:
-  static Fonts* current() { return s_current; }
-
-public:
   boost::scoped_ptr&lt;TTFFont&gt; ttffont;
   boost::scoped_ptr&lt;TTFFont&gt; vera12;
   boost::scoped_ptr&lt;TTFFont&gt; vera20;

Modified: trunk/windstille/src/hud/controller_help_window.hpp
===================================================================
--- trunk/windstille/src/hud/controller_help_window.hpp	2009-08-23 12:50:41 UTC (rev 3011)
+++ trunk/windstille/src/hud/controller_help_window.hpp	2009-08-23 13:26:22 UTC (rev 3012)
@@ -22,10 +22,13 @@
 #include &quot;screen/screen.hpp&quot;
 #include &lt;boost/shared_ptr.hpp&gt;
 
+#include &quot;util/currenton.hpp&quot;
+
 class ControllerHelpWindowImpl;
 
 /** */
-class ControllerHelpWindow : public Screen
+class ControllerHelpWindow : public Screen,
+                             public Currenton&lt;ControllerHelpWindow&gt;
 {
 private:
   void draw_button(const Vector2f&amp; pos, bool pressed);
@@ -38,8 +41,6 @@
   void draw();
   void update(float delta, const Controller&amp; controller);
 
-  static ControllerHelpWindow* current() { return current_; }
-
 private:
   boost::shared_ptr&lt;ControllerHelpWindowImpl&gt; impl;
   static ControllerHelpWindow* current_;

Modified: trunk/windstille/src/hud/conversation.cpp
===================================================================
--- trunk/windstille/src/hud/conversation.cpp	2009-08-23 12:50:41 UTC (rev 3011)
+++ trunk/windstille/src/hud/conversation.cpp	2009-08-23 13:26:22 UTC (rev 3012)
@@ -27,13 +27,10 @@
 #include &quot;pda.hpp&quot;
 #include &quot;screen/game_session.hpp&quot;
 
-Conversation* Conversation::current_ = 0;
-
 Conversation::Conversation()
   : pos(400, 300),
     time(0)
 {
-  current_ = this;
   active = false;
   selection = 0;
 }

Modified: trunk/windstille/src/hud/conversation.hpp
===================================================================
--- trunk/windstille/src/hud/conversation.hpp	2009-08-23 12:50:41 UTC (rev 3011)
+++ trunk/windstille/src/hud/conversation.hpp	2009-08-23 13:26:22 UTC (rev 3012)
@@ -21,11 +21,14 @@
 
 #include &lt;vector&gt;
 #include &lt;string&gt;
+
 #include &quot;screen/screen.hpp&quot;
+#include &quot;util/currenton.hpp&quot;
 
 /** Displays a list of text strings from which the user can select
     one, used to form multiple-choice dialogs */
-class Conversation : public Screen
+class Conversation : public Screen,
+                     public Currenton&lt;Conversation&gt;
 {
 private:
   Vector2f pos;
@@ -48,10 +51,7 @@
   typedef std::vector&lt;Choice&gt; Choices;
   Choices choices;
   
-  static Conversation* current_;
-public:
-  static Conversation* current() { assert(current_); return current_; }
-  
+public:  
   Conversation();
 
   void draw();

Modified: trunk/windstille/src/hud/dialog_manager.cpp
===================================================================
--- trunk/windstille/src/hud/dialog_manager.cpp	2009-08-23 12:50:41 UTC (rev 3011)
+++ trunk/windstille/src/hud/dialog_manager.cpp	2009-08-23 13:26:22 UTC (rev 3012)
@@ -30,11 +30,8 @@
 #include &quot;util/pathname.hpp&quot;
 #include &quot;app/config.hpp&quot;
 
-DialogManager* DialogManager::current_ = 0;
-
 DialogManager::DialogManager()
 {
-  current_ = this;
 }
 
 DialogManager::~DialogManager()

Modified: trunk/windstille/src/hud/dialog_manager.hpp
===================================================================
--- trunk/windstille/src/hud/dialog_manager.hpp	2009-08-23 12:50:41 UTC (rev 3011)
+++ trunk/windstille/src/hud/dialog_manager.hpp	2009-08-23 13:26:22 UTC (rev 3012)
@@ -22,22 +22,19 @@
 #include &lt;boost/scoped_ptr.hpp&gt;
 #include &lt;vector&gt;
 #include &lt;string&gt;
-#include &quot;sprite2d/sprite.hpp&quot;
+
 #include &quot;app/globals.hpp&quot;
 #include &quot;screen/screen.hpp&quot;
+#include &quot;sprite2d/sprite.hpp&quot;
+#include &quot;util/currenton.hpp&quot;
 
 class TextArea;
 
 /** */
-class DialogManager : public Screen
+class DialogManager : public Screen,
+                      public Currenton&lt;DialogManager&gt;
 {
 private:
-  static DialogManager* current_;
-
-public:
-  static DialogManager* current() { return current_; }
-
-private:
   void create_text();
   
   Sprite portrait;

Modified: trunk/windstille/src/hud/speech_manager.cpp
===================================================================
--- trunk/windstille/src/hud/speech_manager.cpp	2009-08-23 12:50:41 UTC (rev 3011)
+++ trunk/windstille/src/hud/speech_manager.cpp	2009-08-23 13:26:22 UTC (rev 3012)
@@ -21,8 +21,6 @@
 #include &quot;font/fonts.hpp&quot;
 #include &quot;speech_manager.hpp&quot;
 
-SpeechManager* SpeechManager::current_ = 0;
-
 class Speech 
 {
 public:
@@ -80,8 +78,6 @@
 SpeechManager::SpeechManager()
   : speech_id(1)
 {
-  assert(current_ == 0);
-  current_ = this;
 }
 
 SpeechManager::~SpeechManager()
@@ -89,8 +85,6 @@
   for(Speeches::iterator i= speeches.begin(); i != speeches.end(); ++i)
     delete *i;
   speeches.clear();
-
-  current_ = 0;
 }
 
 int

Modified: trunk/windstille/src/hud/speech_manager.hpp
===================================================================
--- trunk/windstille/src/hud/speech_manager.hpp	2009-08-23 12:50:41 UTC (rev 3011)
+++ trunk/windstille/src/hud/speech_manager.hpp	2009-08-23 13:26:22 UTC (rev 3012)
@@ -21,22 +21,19 @@
 
 #include &lt;string&gt;
 #include &lt;vector&gt;
+
 #include &quot;math/vector2f.hpp&quot;
 #include &quot;display/color.hpp&quot;
+#include &quot;util/currenton.hpp&quot;
 
 class Entity;
 class Speech;
 
 /** The SpeechManager displays speech text over characters or
     objects, similar to what you see in LucasArts games */
-class SpeechManager
+class SpeechManager : public Currenton&lt;SpeechManager&gt;
 {
 private:
-  static SpeechManager* current_;
-public:
-  static SpeechManager* current() { return current_; }
-
-private:
   typedef std::vector&lt;Speech*&gt; Speeches;
   Speeches speeches;
   int speech_id;

Modified: trunk/windstille/src/input/input_manager.cpp
===================================================================
--- trunk/windstille/src/input/input_manager.cpp	2009-08-23 12:50:41 UTC (rev 3011)
+++ trunk/windstille/src/input/input_manager.cpp	2009-08-23 13:26:22 UTC (rev 3012)
@@ -27,13 +27,9 @@
 #include &quot;input_manager_impl.hpp&quot;
 #include &quot;input_manager.hpp&quot;
 
-InputManager* InputManager::s_current = 0;
-
 InputManager::InputManager()
   : impl(new InputManagerSDL())
 {
-  assert(!s_current);
-  s_current = this;
 }
 
 InputManager::~InputManager()

Modified: trunk/windstille/src/input/input_manager.hpp
===================================================================
--- trunk/windstille/src/input/input_manager.hpp	2009-08-23 12:50:41 UTC (rev 3011)
+++ trunk/windstille/src/input/input_manager.hpp	2009-08-23 13:26:22 UTC (rev 3012)
@@ -23,20 +23,16 @@
 #include &lt;vector&gt;
 #include &lt;boost/scoped_ptr.hpp&gt;
 
-#include &quot;controller.hpp&quot;
-#include &quot;input_event.hpp&quot;
+#include &quot;input/controller.hpp&quot;
+#include &quot;input/input_event.hpp&quot;
+#include &quot;util/currenton.hpp&quot;
 
 class InputManagerImpl;
 
 /** */
-class InputManager
+class InputManager : public Currenton&lt;InputManager&gt;
 {
-private:
-  static InputManager* s_current;
 public:
-  static InputManager* current() { return s_current; }
-
-public:
   InputManager();
   ~InputManager();
 

Modified: trunk/windstille/src/input/input_manager_sdl.cpp
===================================================================
--- trunk/windstille/src/input/input_manager_sdl.cpp	2009-08-23 12:50:41 UTC (rev 3011)
+++ trunk/windstille/src/input/input_manager_sdl.cpp	2009-08-23 13:26:22 UTC (rev 3012)
@@ -33,8 +33,6 @@
 #include &quot;wiimote.hpp&quot;
 #endif
 
-InputManagerSDL* InputManagerSDL::current_ = 0;
-
 const int dead_zone = 0;
 
 class InputManagerSDLImpl
@@ -229,8 +227,6 @@
 InputManagerSDL::InputManagerSDL()
   : impl(new InputManagerSDLImpl)
 {
-  current_ = this;
-
   for (int i = 0; i &lt; SDLK_LAST; ++i) {
     char* key_name = SDL_GetKeyName(static_cast&lt;SDLKey&gt;(i));
     impl-&gt;keyidmapping[key_name] = static_cast&lt;SDLKey&gt;(i);

Modified: trunk/windstille/src/input/input_manager_sdl.hpp
===================================================================
--- trunk/windstille/src/input/input_manager_sdl.hpp	2009-08-23 12:50:41 UTC (rev 3011)
+++ trunk/windstille/src/input/input_manager_sdl.hpp	2009-08-23 13:26:22 UTC (rev 3012)
@@ -21,8 +21,10 @@
 
 #include &lt;SDL.h&gt;
 #include &lt;boost/scoped_ptr.hpp&gt;
-#include &quot;input_manager_impl.hpp&quot;
 
+#include &quot;input/input_manager_impl.hpp&quot;
+#include &quot;util/currenton.hpp&quot;
+
 class FileReader;
 class InputManagerSDLImpl;
 
@@ -92,14 +94,10 @@
 };
 
 /** */
-class InputManagerSDL : public InputManagerImpl
+class InputManagerSDL : public InputManagerImpl,
+                        public Currenton&lt;InputManagerSDL&gt;
 {
-private:
-  static InputManagerSDL* current_;
 public:
-  static InputManagerSDL* current() { return current_; }
-
-public:
   InputManagerSDL();
   virtual ~InputManagerSDL();
 

Modified: trunk/windstille/src/objects/player.cpp
===================================================================
--- trunk/windstille/src/objects/player.cpp	2009-08-23 12:50:41 UTC (rev 3011)
+++ trunk/windstille/src/objects/player.cpp	2009-08-23 13:26:22 UTC (rev 3012)
@@ -43,13 +43,9 @@
 static const float WALK_SPEED = 128.0;
 static const float RUN_SPEED = 256.0;
 
-Player* Player::current_ = 0;
-
 Player::Player () 
  : state(STAND)
 {
-  current_ = this;
-
   sprite = Sprite3D(Pathname(&quot;models/characters/jane/jane.wsprite&quot;));
   pos.x = 320;
   pos.y = 200;
@@ -80,7 +76,6 @@
 
 Player::~Player()
 {
-  current_ = 0;
 }
 
 void

Modified: trunk/windstille/src/objects/player.hpp
===================================================================
--- trunk/windstille/src/objects/player.hpp	2009-08-23 12:50:41 UTC (rev 3011)
+++ trunk/windstille/src/objects/player.hpp	2009-08-23 13:26:22 UTC (rev 3012)
@@ -27,13 +27,15 @@
 #include &quot;sound/sound_source.hpp&quot;
 #include &quot;sprite2d/sprite.hpp&quot;
 #include &quot;sprite3d/sprite3d.hpp&quot;
+#include &quot;util/currenton.hpp&quot;
 
 class Controller;
 class Contact;
 class LaserPointer;
 class Weapon;
 
-class Player : public Entity
+class Player : public Entity,
+               public Currenton&lt;Player&gt;
 {
 private:
   Sprite3D sprite;
@@ -163,11 +165,6 @@
   void try_set_action(const std::string&amp; name, float speed = 1.0);
 
   Direction get_direction() const;
-
-public:
-  static Player* current() { return current_; }
-private:
-  static Player* current_;
 };
 
 #endif

Modified: trunk/windstille/src/screen/game_session.cpp
===================================================================
--- trunk/windstille/src/screen/game_session.cpp	2009-08-23 12:50:41 UTC (rev 3011)
+++ trunk/windstille/src/screen/game_session.cpp	2009-08-23 13:26:22 UTC (rev 3012)
@@ -55,8 +55,6 @@
 #include &quot;view.hpp&quot;
 
 #include &quot;game_session.hpp&quot;
-
-GameSession* GameSession::current_ = 0; 
 
 class GameSessionImpl
 {
@@ -126,8 +124,6 @@
 GameSession::GameSession(const Pathname&amp; arg_filename)
   : impl(new GameSessionImpl())
 {
-  current_ = this;
-
   impl-&gt;filename = arg_filename;
 
   if (debug) std::cout &lt;&lt; &quot;Creating new GameSession&quot; &lt;&lt; std::endl;
@@ -139,7 +135,6 @@
 
 GameSession::~GameSession()
 {
-  current_ = 0;
 }
 
 void

Modified: trunk/windstille/src/screen/game_session.hpp
===================================================================
--- trunk/windstille/src/screen/game_session.hpp	2009-08-23 12:50:41 UTC (rev 3011)
+++ trunk/windstille/src/screen/game_session.hpp	2009-08-23 13:26:22 UTC (rev 3012)
@@ -26,8 +26,9 @@
 #include &quot;app/globals.hpp&quot;
 #include &quot;display/scene_context.hpp&quot;
 #include &quot;hud/controller_help_window.hpp&quot;
-#include &quot;screen.hpp&quot;
+#include &quot;screen/screen.hpp&quot;
 #include &quot;sprite2d/sprite.hpp&quot;
+#include &quot;util/currenton.hpp&quot;
 
 class PDA;
 class EnergyBar;
@@ -41,16 +42,12 @@
 
 class GameSessionImpl;
 
-class GameSession : public Screen
+class GameSession : public Screen,
+                    public Currenton&lt;GameSession&gt;
 {
 public:
   enum ControlState { DIALOG, GAME, CONVERSATION };
-private:
-  static GameSession* current_; 
 
-public:
-  static GameSession* current() { return current_; }
-
   GameSession(const Pathname&amp; arg_filename);
   virtual ~GameSession();
 

Modified: trunk/windstille/src/screen/view.cpp
===================================================================
--- trunk/windstille/src/screen/view.cpp	2009-08-23 12:50:41 UTC (rev 3011)
+++ trunk/windstille/src/screen/view.cpp	2009-08-23 13:26:22 UTC (rev 3012)
@@ -24,14 +24,12 @@
 #include &quot;input/input_manager.hpp&quot;
 #include &quot;view.hpp&quot;
 
-View* View::current_ = 0;
 
 View::View()
   : state(Display::get_width(), Display::get_height()),
     zoom(1.0), 
     transform(0, 0)
 {
-  current_ = this;
 }
 
 void

Modified: trunk/windstille/src/screen/view.hpp
===================================================================
--- trunk/windstille/src/screen/view.hpp	2009-08-23 12:50:41 UTC (rev 3011)
+++ trunk/windstille/src/screen/view.hpp	2009-08-23 13:26:22 UTC (rev 3012)
@@ -22,13 +22,14 @@
 #include &quot;display/graphic_context_state.hpp&quot;
 #include &quot;engine/camera.hpp&quot;
 #include &quot;math/vector2f.hpp&quot;
+#include &quot;util/currenton.hpp&quot;
 
 class Controller;
 class SceneContext;
 
 /** This class is the gui component which renders the world to the
     screen */
-class View
+class View : public Currenton&lt;View&gt;
 {
 private:
   GraphicContextState state;
@@ -50,11 +51,6 @@
 
   void draw(SceneContext&amp; gc);
   void update(float delta);
-
-  static View* current() { return current_; }
-
-protected:
-  static View* current_;
 };
 
 #endif

Modified: trunk/windstille/src/sound/sound_manager.cpp
===================================================================
--- trunk/windstille/src/sound/sound_manager.cpp	2009-08-23 12:50:41 UTC (rev 3011)
+++ trunk/windstille/src/sound/sound_manager.cpp	2009-08-23 13:26:22 UTC (rev 3012)
@@ -29,7 +29,6 @@
 
 #include &quot;sound_manager.hpp&quot;
 
-SoundManager* SoundManager::current_ = 0;
 
 SoundManager::SoundManager()
   : device(0), 
@@ -37,9 +36,6 @@
     sound_enabled(false), 
     music_enabled(true)
 {
-  assert(current_ == 0);
-  current_ = this; 
-
   try 
     {
       device = alcOpenDevice(0);
@@ -98,8 +94,6 @@
     {
       alcCloseDevice(device);
     }
-
-  current_ = 0; 
 }
 
 ALuint

Modified: trunk/windstille/src/sound/sound_manager.hpp
===================================================================
--- trunk/windstille/src/sound/sound_manager.hpp	2009-08-23 12:50:41 UTC (rev 3011)
+++ trunk/windstille/src/sound/sound_manager.hpp	2009-08-23 13:26:22 UTC (rev 3012)
@@ -29,6 +29,7 @@
 #include &lt;AL/al.h&gt;
 
 #include &quot;math/vector2f.hpp&quot;
+#include &quot;util/currenton.hpp&quot;
 
 typedef void* SoundHandle;
 
@@ -36,7 +37,7 @@
 class SoundSource;
 class StreamSoundSource;
 
-class SoundManager
+class SoundManager : public Currenton&lt;SoundManager&gt;
 {
 public:
   SoundManager();
@@ -97,11 +98,6 @@
 
   bool music_enabled;
   std::string current_music;
-
-private:
-  static SoundManager* current_; 
-public:
-  static SoundManager* current() { return current_; } 
 };
 
 #endif

Modified: trunk/windstille/src/sprite2d/manager.cpp
===================================================================
--- trunk/windstille/src/sprite2d/manager.cpp	2009-08-23 12:50:41 UTC (rev 3011)
+++ trunk/windstille/src/sprite2d/manager.cpp	2009-08-23 13:26:22 UTC (rev 3012)
@@ -26,12 +26,8 @@
 #include &quot;sprite2d/data.hpp&quot;
 #include &quot;sprite2d/sprite.hpp&quot;
 
-SpriteManager* SpriteManager::s_current = 0;
-
 SpriteManager::SpriteManager()
 {
-  assert(!s_current);
-  s_current = this;
 }
 
 SpriteManager::~SpriteManager()

Modified: trunk/windstille/src/sprite2d/manager.hpp
===================================================================
--- trunk/windstille/src/sprite2d/manager.hpp	2009-08-23 12:50:41 UTC (rev 3011)
+++ trunk/windstille/src/sprite2d/manager.hpp	2009-08-23 13:26:22 UTC (rev 3012)
@@ -24,19 +24,16 @@
 #include &lt;map&gt;
 #include &lt;boost/shared_ptr.hpp&gt;
 
+#include &quot;util/currenton.hpp&quot;
+
 class Pathname;
 class SpriteData;
 
 typedef boost::shared_ptr&lt;SpriteData&gt; SpriteDataPtr;
 
-class SpriteManager
+class SpriteManager : public Currenton&lt;SpriteManager&gt;
 {
-private:
-  static SpriteManager* s_current;
 public:
-  static SpriteManager* current() { return s_current; }
-
-public:
   SpriteManager();
   ~SpriteManager();
 

Modified: trunk/windstille/src/sprite3d/manager.cpp
===================================================================
--- trunk/windstille/src/sprite3d/manager.cpp	2009-08-23 12:50:41 UTC (rev 3011)
+++ trunk/windstille/src/sprite3d/manager.cpp	2009-08-23 13:26:22 UTC (rev 3012)
@@ -23,12 +23,8 @@
 
 namespace sprite3d {
 
-Manager* Manager::s_current = 0;
-
 Manager::Manager()
 {
-  assert(!s_current);
-  s_current = this;
 }
 
 Manager::~Manager()

Modified: trunk/windstille/src/sprite3d/manager.hpp
===================================================================
--- trunk/windstille/src/sprite3d/manager.hpp	2009-08-23 12:50:41 UTC (rev 3011)
+++ trunk/windstille/src/sprite3d/manager.hpp	2009-08-23 13:26:22 UTC (rev 3012)
@@ -23,19 +23,15 @@
 #include &lt;map&gt;
 
 #include &quot;util/pathname.hpp&quot;
+#include &quot;util/currenton.hpp&quot;
 
 namespace sprite3d {
 
 class Data;
 
-class Manager
+class Manager : public Currenton&lt;Manager&gt;
 {
-private:
-  static Manager* s_current;
 public:
-  static Manager* current() { return s_current; }
-
-public:
   Manager();
   ~Manager();
 

Modified: trunk/windstille/src/tile/tile_factory.cpp
===================================================================
--- trunk/windstille/src/tile/tile_factory.cpp	2009-08-23 12:50:41 UTC (rev 3011)
+++ trunk/windstille/src/tile/tile_factory.cpp	2009-08-23 13:26:22 UTC (rev 3012)
@@ -34,8 +34,6 @@
 #include &quot;display/texture.hpp&quot;
 #include &quot;physfs/physfs_sdl.hpp&quot;
 
-TileFactory* TileFactory::current_ = 0;
-
 /** Check if the given region of the given image is fully transparent */
 bool surface_empty(const SoftwareSurface&amp; image, int sx, int sy, int w, int h)
 { 
@@ -55,9 +53,6 @@
 
 TileFactory::TileFactory(const std::string&amp; filename)
 {
-  assert(!current_);
-  current_ = this;
-
   packers.push_back(new TilePacker(1024, 1024));
   packers.push_back(new TilePacker(1024, 1024));
   color_packer     = 0;

Modified: trunk/windstille/src/tile/tile_factory.hpp
===================================================================
--- trunk/windstille/src/tile/tile_factory.hpp	2009-08-23 12:50:41 UTC (rev 3011)
+++ trunk/windstille/src/tile/tile_factory.hpp	2009-08-23 13:26:22 UTC (rev 3012)
@@ -21,13 +21,15 @@
 
 #include &lt;map&gt;
 #include &lt;string&gt;
-#include &quot;tile_description.hpp&quot;
 
+#include &quot;tile/tile_description.hpp&quot;
+#include &quot;util/currenton.hpp&quot;
+
 class Tile;
 class TilePacker;
 
 /** */
-class TileFactory
+class TileFactory : public Currenton&lt;TileFactory&gt;
 {
 private:
   typedef std::vector&lt;Tile*&gt; Tiles;
@@ -36,8 +38,6 @@
   TilePackers packers;
   int color_packer;
 
-  static TileFactory* current_;
-
   friend class TileDescription;
 
   std::vector&lt;TileDescription*&gt; descriptions;
@@ -63,9 +63,6 @@
    */
   void pack(int id, int colmap, const SoftwareSurface&amp; image, const Rect&amp; rect);
 
-  /** Access the default TileFactor*/
-  static TileFactory* current() { return current_; }
-
 private:
   void parse_tiles(FileReader&amp; reader);
 };

Added: trunk/windstille/src/util/currenton.hpp
===================================================================
--- trunk/windstille/src/util/currenton.hpp	2009-08-23 12:50:41 UTC (rev 3011)
+++ trunk/windstille/src/util/currenton.hpp	2009-08-23 13:26:22 UTC (rev 3012)
@@ -0,0 +1,48 @@
+/*
+**  Windstille - A Sci-Fi Action-Adventure Game
+**  Copyright (C) 2009 Ingo Ruhnke &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/windstille-commit">grumbel at gmx.de</A>&gt;
+**
+**  This program is free software: you can redistribute it and/or modify
+**  it under the terms of the GNU General Public License as published by
+**  the Free Software Foundation, either version 3 of the License, or
+**  (at your option) any later version.
+**  
+**  This program is distributed in the hope that it will be useful,
+**  but WITHOUT ANY WARRANTY; without even the implied warranty of
+**  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+**  GNU General Public License for more details.
+**  
+**  You should have received a copy of the GNU General Public License
+**  along with this program.  If not, see &lt;<A HREF="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</A>&gt;.
+*/
+
+#ifndef HEADER_WINDSTILLE_UTIL_CURRENTON_HPP
+#define HEADER_WINDSTILLE_UTIL_CURRENTON_HPP
+
+#include &lt;assert.h&gt;
+
+/** 
+ *   A 'Currenton' allows access to the currently active instance of a
+ *   class. It is kind of like a singleton, but without handling the
+ *   object construction itself or in other words its a glorified
+ *   global variable that points to the instance of a class.
+ */
+template&lt;class C&gt;
+class Currenton
+{
+private:
+  static C* s_current; 
+
+protected:
+  Currenton()  { assert(!s_current); s_current = static_cast&lt;C*&gt;(this); }
+  ~Currenton() { s_current = 0; }
+  
+public:
+  static C* current() { return s_current; }
+};
+
+template&lt;class C&gt; C* Currenton&lt;C&gt;::s_current = 0;
+
+#endif
+
+/* EOF */


Property changes on: trunk/windstille/src/util/currenton.hpp
___________________________________________________________________
Name: svn:eol-style
   + native


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002008.html">[Windstille-commit] r3011 - in trunk/windstille/src: app display	editor engine font gui hud input lisp objects particles	physfs screen scripting sprite2d tile
</A></li>
	<LI>Next message: <A HREF="002010.html">[Windstille-commit] r3013 - trunk/windstille
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2009">[ date ]</a>
              <a href="thread.html#2009">[ thread ]</a>
              <a href="subject.html#2009">[ subject ]</a>
              <a href="author.html#2009">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/windstille-commit">More information about the Windstille-commit
mailing list</a><br>
</body></html>
