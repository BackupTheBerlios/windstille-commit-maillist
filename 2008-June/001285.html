<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Windstille-commit] r2265 - in trunk/windstille: . contrib	contrib/vs2003build src src/display src/gui src/input	src/objects src/particles src/sprite3d src/tinygettext
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/windstille-commit/2008-June/index.html" >
   <LINK REL="made" HREF="mailto:windstille-commit%40lists.berlios.de?Subject=Re%3A%20%5BWindstille-commit%5D%20r2265%20-%20in%20trunk/windstille%3A%20.%20contrib%0A%09contrib/vs2003build%20src%20src/display%20src/gui%20src/input%0A%09src/objects%20src/particles%20src/sprite3d%20src/tinygettext&In-Reply-To=%3C200806262134.m5QLY9rG027329%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="001286.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Windstille-commit] r2265 - in trunk/windstille: . contrib	contrib/vs2003build src src/display src/gui src/input	src/objects src/particles src/sprite3d src/tinygettext</H1>
    <B>jamesgregory at mail.berlios.de</B> 
    <A HREF="mailto:windstille-commit%40lists.berlios.de?Subject=Re%3A%20%5BWindstille-commit%5D%20r2265%20-%20in%20trunk/windstille%3A%20.%20contrib%0A%09contrib/vs2003build%20src%20src/display%20src/gui%20src/input%0A%09src/objects%20src/particles%20src/sprite3d%20src/tinygettext&In-Reply-To=%3C200806262134.m5QLY9rG027329%40sheep.berlios.de%3E"
       TITLE="[Windstille-commit] r2265 - in trunk/windstille: . contrib	contrib/vs2003build src src/display src/gui src/input	src/objects src/particles src/sprite3d src/tinygettext">jamesgregory at mail.berlios.de
       </A><BR>
    <I>Thu Jun 26 23:34:09 CEST 2008</I>
    <P><UL>
        
        <LI>Next message: <A HREF="001286.html">[Windstille-commit] r2266 - trunk/windstille/src
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1285">[ date ]</a>
              <a href="thread.html#1285">[ thread ]</a>
              <a href="subject.html#1285">[ subject ]</a>
              <a href="author.html#1285">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: jamesgregory
Date: 2008-06-26 23:33:50 +0200 (Thu, 26 Jun 2008)
New Revision: 2265

Added:
   trunk/windstille/contrib/
   trunk/windstille/contrib/vs2003build/
   trunk/windstille/contrib/vs2003build/Windstille.sln
   trunk/windstille/contrib/vs2003build/Windstille.vcproj
Modified:
   trunk/windstille/src/display/display.cpp
   trunk/windstille/src/display/surface_manager.cpp
   trunk/windstille/src/display/texture_manager.cpp
   trunk/windstille/src/gui/root_component.cpp
   trunk/windstille/src/input/input_manager_sdl.cpp
   trunk/windstille/src/math.hpp
   trunk/windstille/src/menu_manager.cpp
   trunk/windstille/src/objects/swarm.cpp
   trunk/windstille/src/particles/particle_system.hpp
   trunk/windstille/src/screen_manager.cpp
   trunk/windstille/src/sector.cpp
   trunk/windstille/src/sprite3d/data.cpp
   trunk/windstille/src/sprite3d/sprite3d.cpp
   trunk/windstille/src/tinygettext/tinygettext.cpp
   trunk/windstille/src/util.cpp
   trunk/windstille/src/util.hpp
   trunk/windstille/src/windstille_main.cpp
Log:
a bunch of minor changes to make it compile and run with MSVC 2003

Added: trunk/windstille/contrib/vs2003build/Windstille.sln
===================================================================
--- trunk/windstille/contrib/vs2003build/Windstille.sln	2008-05-27 03:54:44 UTC (rev 2264)
+++ trunk/windstille/contrib/vs2003build/Windstille.sln	2008-06-26 21:33:50 UTC (rev 2265)
@@ -0,0 +1,35 @@
+&#65279;
+Microsoft Visual Studio Solution File, Format Version 8.00
+Project(&quot;{8BC9CEB8-8B4A-11D0-8D11-00A0C91BC942}&quot;) = &quot;Windstille&quot;, &quot;Windstille.vcproj&quot;, &quot;{DC61143E-A9ED-4309-88AA-314F6E76F99D}&quot;
+	ProjectSection(ProjectDependencies) = postProject
+	EndProjectSection
+EndProject
+Global
+	GlobalSection(SolutionConfiguration) = preSolution
+		Debug = Debug
+		Release = Release
+	EndGlobalSection
+	GlobalSection(ProjectConfiguration) = postSolution
+		{DC61143E-A9ED-4309-88AA-314F6E76F99D}.Debug.ActiveCfg = Debug|Win32
+		{DC61143E-A9ED-4309-88AA-314F6E76F99D}.Debug.Build.0 = Debug|Win32
+		{DC61143E-A9ED-4309-88AA-314F6E76F99D}.Release.ActiveCfg = Release|Win32
+		{DC61143E-A9ED-4309-88AA-314F6E76F99D}.Release.Build.0 = Release|Win32
+	EndGlobalSection
+	GlobalSection(ExtensibilityGlobals) = postSolution
+	EndGlobalSection
+	GlobalSection(ExtensibilityAddIns) = postSolution
+	EndGlobalSection
+	GlobalSection(SolutionConfigurationPlatforms) = preSolution
+		Debug|Win32 = Debug|Win32
+		Release|Win32 = Release|Win32
+	EndGlobalSection
+	GlobalSection(ProjectConfigurationPlatforms) = postSolution
+		{DC61143E-A9ED-4309-88AA-314F6E76F99D}.Debug|Win32.ActiveCfg = Debug|Win32
+		{DC61143E-A9ED-4309-88AA-314F6E76F99D}.Debug|Win32.Build.0 = Debug|Win32
+		{DC61143E-A9ED-4309-88AA-314F6E76F99D}.Release|Win32.ActiveCfg = Release|Win32
+		{DC61143E-A9ED-4309-88AA-314F6E76F99D}.Release|Win32.Build.0 = Release|Win32
+	EndGlobalSection
+	GlobalSection(SolutionProperties) = preSolution
+		HideSolutionNode = FALSE
+	EndGlobalSection
+EndGlobal

Added: trunk/windstille/contrib/vs2003build/Windstille.vcproj
===================================================================
--- trunk/windstille/contrib/vs2003build/Windstille.vcproj	2008-05-27 03:54:44 UTC (rev 2264)
+++ trunk/windstille/contrib/vs2003build/Windstille.vcproj	2008-06-26 21:33:50 UTC (rev 2265)
@@ -0,0 +1,1412 @@
+&lt;?xml version=&quot;1.0&quot; encoding=&quot;Windows-1252&quot;?&gt;
+&lt;VisualStudioProject
+	ProjectType=&quot;Visual C++&quot;
+	Version=&quot;7.10&quot;
+	Name=&quot;Windstille&quot;
+	ProjectGUID=&quot;{DC61143E-A9ED-4309-88AA-314F6E76F99D}&quot;
+	RootNamespace=&quot;Windstille&quot;
+	Keyword=&quot;Win32Proj&quot;&gt;
+	&lt;Platforms&gt;
+		&lt;Platform
+			Name=&quot;Win32&quot;/&gt;
+	&lt;/Platforms&gt;
+	&lt;Configurations&gt;
+		&lt;Configuration
+			Name=&quot;Debug|Win32&quot;
+			OutputDirectory=&quot;$(SolutionDir)&quot;
+			IntermediateDirectory=&quot;$(ConfigurationName)&quot;
+			ConfigurationType=&quot;1&quot;
+			CharacterSet=&quot;1&quot;&gt;
+			&lt;Tool
+				Name=&quot;VCCLCompilerTool&quot;
+				Optimization=&quot;0&quot;
+				AdditionalIncludeDirectories=&quot;&quot;F:\Documents and Settings\James\My Documents\Development\windstille\src&quot;;&quot;F:\Documents and Settings\James\My Documents\Development\windstille\inc&quot;&quot;
+				PreprocessorDefinitions=&quot;WIN32;_DEBUG;_WINDOWS;_USE_MATH_DEFINES&quot;
+				MinimalRebuild=&quot;TRUE&quot;
+				BasicRuntimeChecks=&quot;3&quot;
+				RuntimeLibrary=&quot;3&quot;
+				RuntimeTypeInfo=&quot;TRUE&quot;
+				UsePrecompiledHeader=&quot;0&quot;
+				WarningLevel=&quot;3&quot;
+				Detect64BitPortabilityProblems=&quot;TRUE&quot;
+				DebugInformationFormat=&quot;4&quot;/&gt;
+			&lt;Tool
+				Name=&quot;VCCustomBuildTool&quot;/&gt;
+			&lt;Tool
+				Name=&quot;VCLinkerTool&quot;
+				AdditionalDependencies=&quot;SDL.lib SDLmain.lib squirrel.lib sqstdlib.lib opengl32.lib zlib.lib libpng.lib OpenAL32.lib libiconv.lib libcharset.lib freetype235MT.lib SDL_image.lib libogg.lib libvorbis.lib libvorbisfile.lib&quot;
+				LinkIncremental=&quot;2&quot;
+				AdditionalLibraryDirectories=&quot;lib&quot;
+				GenerateDebugInformation=&quot;TRUE&quot;
+				SubSystem=&quot;2&quot;
+				TargetMachine=&quot;1&quot;/&gt;
+			&lt;Tool
+				Name=&quot;VCMIDLTool&quot;/&gt;
+			&lt;Tool
+				Name=&quot;VCPostBuildEventTool&quot;/&gt;
+			&lt;Tool
+				Name=&quot;VCPreBuildEventTool&quot;/&gt;
+			&lt;Tool
+				Name=&quot;VCPreLinkEventTool&quot;/&gt;
+			&lt;Tool
+				Name=&quot;VCResourceCompilerTool&quot;/&gt;
+			&lt;Tool
+				Name=&quot;VCWebServiceProxyGeneratorTool&quot;/&gt;
+			&lt;Tool
+				Name=&quot;VCXMLDataGeneratorTool&quot;/&gt;
+			&lt;Tool
+				Name=&quot;VCWebDeploymentTool&quot;/&gt;
+			&lt;Tool
+				Name=&quot;VCManagedWrapperGeneratorTool&quot;/&gt;
+			&lt;Tool
+				Name=&quot;VCAuxiliaryManagedWrapperGeneratorTool&quot;/&gt;
+		&lt;/Configuration&gt;
+		&lt;Configuration
+			Name=&quot;Release|Win32&quot;
+			OutputDirectory=&quot;$(SolutionDir)$(ConfigurationName)&quot;
+			IntermediateDirectory=&quot;$(ConfigurationName)&quot;
+			ConfigurationType=&quot;1&quot;
+			CharacterSet=&quot;1&quot;
+			WholeProgramOptimization=&quot;TRUE&quot;&gt;
+			&lt;Tool
+				Name=&quot;VCCLCompilerTool&quot;
+				AdditionalIncludeDirectories=&quot;&quot;F:\Documents and Settings\James\My Documents\Development\windstille\src&quot;;&quot;F:\Documents and Settings\James\My Documents\Development\windstille\inc&quot;&quot;
+				PreprocessorDefinitions=&quot;WIN32;NDEBUG;_WINDOWS;_USE_MATH_DEFINES&quot;
+				RuntimeLibrary=&quot;2&quot;
+				RuntimeTypeInfo=&quot;TRUE&quot;
+				UsePrecompiledHeader=&quot;0&quot;
+				WarningLevel=&quot;3&quot;
+				Detect64BitPortabilityProblems=&quot;TRUE&quot;
+				DebugInformationFormat=&quot;3&quot;/&gt;
+			&lt;Tool
+				Name=&quot;VCCustomBuildTool&quot;/&gt;
+			&lt;Tool
+				Name=&quot;VCLinkerTool&quot;
+				AdditionalDependencies=&quot;SDL.lib SDLmain.lib squirrel.lib sqstdlib.lib opengl32.lib libpng.lib zlib.lib OpenAL32.lib libiconv.lib libcharset.lib freetype235MT.lib SDL_image.lib libogg.lib libvorbis.lib libvorbisfile.lib&quot;
+				LinkIncremental=&quot;1&quot;
+				AdditionalLibraryDirectories=&quot;lib&quot;
+				GenerateDebugInformation=&quot;TRUE&quot;
+				SubSystem=&quot;2&quot;
+				OptimizeReferences=&quot;2&quot;
+				EnableCOMDATFolding=&quot;2&quot;
+				TargetMachine=&quot;1&quot;/&gt;
+			&lt;Tool
+				Name=&quot;VCMIDLTool&quot;/&gt;
+			&lt;Tool
+				Name=&quot;VCPostBuildEventTool&quot;/&gt;
+			&lt;Tool
+				Name=&quot;VCPreBuildEventTool&quot;/&gt;
+			&lt;Tool
+				Name=&quot;VCPreLinkEventTool&quot;/&gt;
+			&lt;Tool
+				Name=&quot;VCResourceCompilerTool&quot;/&gt;
+			&lt;Tool
+				Name=&quot;VCWebServiceProxyGeneratorTool&quot;/&gt;
+			&lt;Tool
+				Name=&quot;VCXMLDataGeneratorTool&quot;/&gt;
+			&lt;Tool
+				Name=&quot;VCWebDeploymentTool&quot;/&gt;
+			&lt;Tool
+				Name=&quot;VCManagedWrapperGeneratorTool&quot;/&gt;
+			&lt;Tool
+				Name=&quot;VCAuxiliaryManagedWrapperGeneratorTool&quot;/&gt;
+		&lt;/Configuration&gt;
+	&lt;/Configurations&gt;
+	&lt;References&gt;
+	&lt;/References&gt;
+	&lt;Files&gt;
+		&lt;Filter
+			Name=&quot;Quelldateien&quot;
+			Filter=&quot;cpp;c;cc;cxx;def;odl;idl;hpj;bat;asm;asmx&quot;
+			UniqueIdentifier=&quot;{4FC737F1-C7A5-4376-A066-2A32D752A2FF}&quot;&gt;
+			&lt;File
+				RelativePath=&quot;.\src\armature_test.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\baby_xml.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\blitter.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\box.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\camera.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\character.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\command_line.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\command_line_generic.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\config.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\console.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\controller_def.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\controller_help_window.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\conversation.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\dialog_manager.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\elevator.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\energy_bar.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\entity.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\file_reader.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\game_object.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\game_session.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\geometry_test.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\getter.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\globals.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\graphic_context_state.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\grenade.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\inventory.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\laser_pointer.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\liquid.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\menu_manager.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\navigation_test.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\particle_viewer.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\pda.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\physics.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\pistol.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\player.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\random.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\response_curve.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\screen.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\screen_manager.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\script_manager.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\scriptable_object.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\sector.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\sexpr_file_reader.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\sexpr_file_reader.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\sprite2dview.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\sprite3dview.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\text_area.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\tile.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\tile_description.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\tile_factory.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\tile_map.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\tile_packer.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\timer.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\title_screen.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\trigger.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\util.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\view.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\windstille_main.cpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;Filter
+				Name=&quot;collision&quot;&gt;
+				&lt;File
+					RelativePath=&quot;.\src\collision\collision_data.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\collision\collision_engine.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\collision\collision_object.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\collision\collision_test.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\collision\ladder_contact.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\collision\stair_contact.cpp&quot;&gt;
+				&lt;/File&gt;
+			&lt;/Filter&gt;
+			&lt;Filter
+				Name=&quot;display&quot;&gt;
+				&lt;File
+					RelativePath=&quot;.\src\display\display.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\display\drawing_context.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\display\framebuffer.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\display\opengl_state.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\display\render_buffer.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\display\scene_context.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\display\shader_object.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\display\shader_program.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\display\surface.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\display\surface_manager.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\display\texture.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\display\texture_manager.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\display\vertex_array_drawing_request.cpp&quot;&gt;
+				&lt;/File&gt;
+			&lt;/Filter&gt;
+			&lt;Filter
+				Name=&quot;font&quot;&gt;
+				&lt;File
+					RelativePath=&quot;.\src\font\border_font_effect.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\font\fonts.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\font\ttf_font.cpp&quot;&gt;
+				&lt;/File&gt;
+			&lt;/Filter&gt;
+			&lt;Filter
+				Name=&quot;gui&quot;&gt;
+				&lt;File
+					RelativePath=&quot;.\src\gui\automap.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\gui\button.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\gui\component.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\gui\component_factory.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\gui\grid_component.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\gui\group_component.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\gui\gui_manager.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\gui\label.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\gui\list_view.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\gui\menu_component.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\gui\menu_item.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\gui\root_component.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\gui\slider.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\gui\tab_component.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\gui\text_view.cpp&quot;&gt;
+				&lt;/File&gt;
+			&lt;/Filter&gt;
+			&lt;Filter
+				Name=&quot;lisp&quot;&gt;
+				&lt;File
+					RelativePath=&quot;.\src\lisp\getters.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\lisp\lexer.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\lisp\lisp.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\lisp\parser.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\lisp\properties.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\lisp\writer.cpp&quot;&gt;
+				&lt;/File&gt;
+			&lt;/Filter&gt;
+			&lt;Filter
+				Name=&quot;input&quot;&gt;
+				&lt;File
+					RelativePath=&quot;.\src\input\controller.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\input\controller_description.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\input\input_configurator.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\input\input_manager.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\input\input_manager_impl.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\input\input_manager_sdl.cpp&quot;&gt;
+				&lt;/File&gt;
+			&lt;/Filter&gt;
+			&lt;Filter
+				Name=&quot;math&quot;&gt;
+				&lt;File
+					RelativePath=&quot;.\src\math\line.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\math\matrix.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\math\origin.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\math\quaternion.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\math\rect.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\math\vector.cpp&quot;&gt;
+				&lt;/File&gt;
+			&lt;/Filter&gt;
+			&lt;Filter
+				Name=&quot;objects&quot;&gt;
+				&lt;File
+					RelativePath=&quot;.\src\objects\background_gradient.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\objects\bomb.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\objects\hedgehog.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\objects\nightvision.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\objects\shockwave.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\objects\spider_mine.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\objects\swarm.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\objects\test_object.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\objects\vrdummy.cpp&quot;&gt;
+				&lt;/File&gt;
+			&lt;/Filter&gt;
+			&lt;Filter
+				Name=&quot;particles&quot;&gt;
+				&lt;File
+					RelativePath=&quot;.\src\particles\deform_drawer.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\particles\particle_system.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\particles\spark_drawer.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\particles\surface_drawer.cpp&quot;&gt;
+				&lt;/File&gt;
+			&lt;/Filter&gt;
+			&lt;Filter
+				Name=&quot;physfs&quot;&gt;
+				&lt;File
+					RelativePath=&quot;.\src\physfs\physfs_sdl.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\physfs\physfs_stream.cpp&quot;&gt;
+				&lt;/File&gt;
+			&lt;/Filter&gt;
+			&lt;Filter
+				Name=&quot;scripting&quot;&gt;
+				&lt;File
+					RelativePath=&quot;.\src\scripting\game_objects.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\scripting\interface.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\scripting\squirrel_error.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\scripting\util.cpp&quot;&gt;
+					&lt;FileConfiguration
+						Name=&quot;Debug|Win32&quot;&gt;
+						&lt;Tool
+							Name=&quot;VCCLCompilerTool&quot;
+							ObjectFile=&quot;$(IntDir)/$(InputName)1.obj&quot;/&gt;
+					&lt;/FileConfiguration&gt;
+					&lt;FileConfiguration
+						Name=&quot;Release|Win32&quot;&gt;
+						&lt;Tool
+							Name=&quot;VCCLCompilerTool&quot;
+							ObjectFile=&quot;$(IntDir)/$(InputName)1.obj&quot;/&gt;
+					&lt;/FileConfiguration&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\scripting\wrapper.cpp&quot;&gt;
+				&lt;/File&gt;
+			&lt;/Filter&gt;
+			&lt;Filter
+				Name=&quot;signals&quot;&gt;
+				&lt;File
+					RelativePath=&quot;.\src\signals\slot.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\signals\slot_generic.cpp&quot;&gt;
+				&lt;/File&gt;
+			&lt;/Filter&gt;
+			&lt;Filter
+				Name=&quot;sound&quot;&gt;
+				&lt;File
+					RelativePath=&quot;.\src\sound\sound_file.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\sound\sound_manager.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\sound\sound_source.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\sound\stream_sound_source.cpp&quot;&gt;
+				&lt;/File&gt;
+			&lt;/Filter&gt;
+			&lt;Filter
+				Name=&quot;sprite2d&quot;&gt;
+				&lt;File
+					RelativePath=&quot;.\src\sprite2d\data.cpp&quot;&gt;
+					&lt;FileConfiguration
+						Name=&quot;Debug|Win32&quot;&gt;
+						&lt;Tool
+							Name=&quot;VCCLCompilerTool&quot;
+							ObjectFile=&quot;$(IntDir)\$(InputName)1.obj&quot;/&gt;
+					&lt;/FileConfiguration&gt;
+					&lt;FileConfiguration
+						Name=&quot;Release|Win32&quot;&gt;
+						&lt;Tool
+							Name=&quot;VCCLCompilerTool&quot;
+							ObjectFile=&quot;$(IntDir)\$(InputName)1.obj&quot;/&gt;
+					&lt;/FileConfiguration&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\sprite2d\manager.cpp&quot;&gt;
+					&lt;FileConfiguration
+						Name=&quot;Debug|Win32&quot;&gt;
+						&lt;Tool
+							Name=&quot;VCCLCompilerTool&quot;
+							ObjectFile=&quot;$(IntDir)\$(InputName)1.obj&quot;/&gt;
+					&lt;/FileConfiguration&gt;
+					&lt;FileConfiguration
+						Name=&quot;Release|Win32&quot;&gt;
+						&lt;Tool
+							Name=&quot;VCCLCompilerTool&quot;
+							ObjectFile=&quot;$(IntDir)\$(InputName)1.obj&quot;/&gt;
+					&lt;/FileConfiguration&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\sprite2d\sprite.cpp&quot;&gt;
+				&lt;/File&gt;
+			&lt;/Filter&gt;
+			&lt;Filter
+				Name=&quot;sprite3d&quot;&gt;
+				&lt;File
+					RelativePath=&quot;.\src\sprite3d\data.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\sprite3d\manager.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\sprite3d\sprite3d.cpp&quot;&gt;
+				&lt;/File&gt;
+			&lt;/Filter&gt;
+			&lt;Filter
+				Name=&quot;tinygettext&quot;&gt;
+				&lt;File
+					RelativePath=&quot;.\src\tinygettext\gettext.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\tinygettext\tinygettext.cpp&quot;&gt;
+				&lt;/File&gt;
+			&lt;/Filter&gt;
+			&lt;Filter
+				Name=&quot;lib&quot;&gt;
+				&lt;File
+					RelativePath=&quot;.\lib\src\glew.c&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\lib\src\physfs.c&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\lib\src\physfs_byteorder.c&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\lib\src\physfs_unicode.c&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\lib\src\windows.c&quot;&gt;
+				&lt;/File&gt;
+				&lt;Filter
+					Name=&quot;archivers&quot;&gt;
+					&lt;File
+						RelativePath=&quot;.\lib\src\archivers\dir.c&quot;&gt;
+					&lt;/File&gt;
+					&lt;File
+						RelativePath=&quot;.\lib\src\archivers\grp.c&quot;&gt;
+					&lt;/File&gt;
+					&lt;File
+						RelativePath=&quot;.\lib\src\archivers\hog.c&quot;&gt;
+					&lt;/File&gt;
+					&lt;File
+						RelativePath=&quot;.\lib\src\archivers\lzma.c&quot;&gt;
+					&lt;/File&gt;
+					&lt;File
+						RelativePath=&quot;.\lib\src\archivers\mvl.c&quot;&gt;
+					&lt;/File&gt;
+					&lt;File
+						RelativePath=&quot;.\lib\src\archivers\qpak.c&quot;&gt;
+					&lt;/File&gt;
+					&lt;File
+						RelativePath=&quot;.\lib\src\archivers\wad.c&quot;&gt;
+					&lt;/File&gt;
+					&lt;File
+						RelativePath=&quot;.\lib\src\archivers\zip.c&quot;&gt;
+					&lt;/File&gt;
+				&lt;/Filter&gt;
+			&lt;/Filter&gt;
+			&lt;Filter
+				Name=&quot;armature&quot;
+				Filter=&quot;&quot;&gt;
+				&lt;File
+					RelativePath=&quot;.\src\armature\armature.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\armature\bone.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\armature\mesh.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\armature\model.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\armature\pose.cpp&quot;&gt;
+				&lt;/File&gt;
+			&lt;/Filter&gt;
+			&lt;Filter
+				Name=&quot;navigation&quot;
+				Filter=&quot;&quot;&gt;
+				&lt;File
+					RelativePath=&quot;.\src\navigation\navigation_graph.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\navigation\node.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\navigation\properties.cpp&quot;&gt;
+					&lt;FileConfiguration
+						Name=&quot;Debug|Win32&quot;&gt;
+						&lt;Tool
+							Name=&quot;VCCLCompilerTool&quot;
+							ObjectFile=&quot;$(IntDir)/$(InputName)1.obj&quot;/&gt;
+					&lt;/FileConfiguration&gt;
+					&lt;FileConfiguration
+						Name=&quot;Release|Win32&quot;&gt;
+						&lt;Tool
+							Name=&quot;VCCLCompilerTool&quot;
+							ObjectFile=&quot;$(IntDir)/$(InputName)1.obj&quot;/&gt;
+					&lt;/FileConfiguration&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\navigation\segment.cpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\navigation\segment_position.cpp&quot;&gt;
+				&lt;/File&gt;
+			&lt;/Filter&gt;
+		&lt;/Filter&gt;
+		&lt;Filter
+			Name=&quot;Headerdateien&quot;
+			Filter=&quot;h;hpp;hxx;hm;inl;inc;xsd&quot;
+			UniqueIdentifier=&quot;{93995380-89BD-4b04-88EB-625FBE52EBFB}&quot;&gt;
+			&lt;File
+				RelativePath=&quot;.\src\armature_test.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\baby_xml.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\blitter.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\box.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\camera.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\character.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\color.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\command_line.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\command_line_generic.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\config.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\console.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\controller_def.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\controller_help_window.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\conversation.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\dialog_manager.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\elevator.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\energy_bar.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\entity.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\field.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\file_reader.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\file_reader_impl.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\game_object.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\game_session.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\geometry_test.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\getter.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\globals.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\graphic_context_state.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\grenade.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\handle.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\inventory.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\laser_pointer.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\liquid.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\lisp_getters.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\math.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\menu_manager.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\navigation_test.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\particle_viewer.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\pda.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\physics.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\pistol.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\player.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\random.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\ref.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\refcounter.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\response_curve.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\screen.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\screen_manager.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\script_manager.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\scriptable_object.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\sector.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\sharedptr.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\spawnpoint.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\sprite2dview.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\sprite3dview.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\text_area.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\tile.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\tile_description.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\tile_factory.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\tile_map.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\tile_packer.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\timer.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\title_screen.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\trigger.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\util.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\view.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\weapon.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\windstille.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;File
+				RelativePath=&quot;.\src\windstille_main.hpp&quot;&gt;
+			&lt;/File&gt;
+			&lt;Filter
+				Name=&quot;collision&quot;&gt;
+				&lt;File
+					RelativePath=&quot;.\src\collision\collision_data.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\collision\collision_engine.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\collision\collision_object.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\collision\collision_test.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\collision\contact.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\collision\ladder_contact.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\collision\stair_contact.hpp&quot;&gt;
+				&lt;/File&gt;
+			&lt;/Filter&gt;
+			&lt;Filter
+				Name=&quot;display&quot;&gt;
+				&lt;File
+					RelativePath=&quot;.\src\display\display.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\display\drawing_context.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\display\drawing_request.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\display\framebuffer.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\display\opengl_state.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\display\render_buffer.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\display\scene_context.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\display\shader_object.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\display\shader_program.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\display\surface.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\display\surface_drawing_parameters.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\display\surface_manager.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\display\texture.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\display\texture_manager.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\display\vertex_array_drawing_request.hpp&quot;&gt;
+				&lt;/File&gt;
+			&lt;/Filter&gt;
+			&lt;Filter
+				Name=&quot;font&quot;&gt;
+				&lt;File
+					RelativePath=&quot;.\src\font\border_font_effect.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\font\font_effect.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\font\fonts.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\font\ttf_font.hpp&quot;&gt;
+				&lt;/File&gt;
+			&lt;/Filter&gt;
+			&lt;Filter
+				Name=&quot;gui&quot;&gt;
+				&lt;File
+					RelativePath=&quot;.\src\gui\automap.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\gui\button.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\gui\component.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\gui\component_factory.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\gui\grid_component.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\gui\group_component.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\gui\gui_manager.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\gui\label.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\gui\list_view.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\gui\menu_component.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\gui\menu_item.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\gui\root_component.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\gui\slider.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\gui\tab_component.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\gui\text_view.hpp&quot;&gt;
+				&lt;/File&gt;
+			&lt;/Filter&gt;
+			&lt;Filter
+				Name=&quot;lisp&quot;&gt;
+				&lt;File
+					RelativePath=&quot;.\src\lisp\getters.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\lisp\lexer.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\lisp\lisp.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\lisp\parser.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\lisp\properties.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\lisp\property_iterator.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\lisp\writer.hpp&quot;&gt;
+				&lt;/File&gt;
+			&lt;/Filter&gt;
+			&lt;Filter
+				Name=&quot;input&quot;&gt;
+				&lt;File
+					RelativePath=&quot;.\src\input\controller.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\input\controller_description.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\input\input_configurator.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\input\input_event.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\input\input_manager.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\input\input_manager_impl.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\input\input_manager_sdl.hpp&quot;&gt;
+				&lt;/File&gt;
+			&lt;/Filter&gt;
+			&lt;Filter
+				Name=&quot;math&quot;&gt;
+				&lt;File
+					RelativePath=&quot;.\src\math\line.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\math\matrix.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\math\origin.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\math\point.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\math\quaternion.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\math\rect.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\math\size.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\math\vector.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\math\vector3.hpp&quot;&gt;
+				&lt;/File&gt;
+			&lt;/Filter&gt;
+			&lt;Filter
+				Name=&quot;tinygettext&quot;&gt;
+				&lt;File
+					RelativePath=&quot;.\src\tinygettext\gettext.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\tinygettext\tinygettext.hpp&quot;&gt;
+				&lt;/File&gt;
+			&lt;/Filter&gt;
+			&lt;Filter
+				Name=&quot;sprite2d&quot;&gt;
+				&lt;File
+					RelativePath=&quot;.\src\sprite2d\data.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\sprite2d\manager.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\sprite2d\sprite.hpp&quot;&gt;
+				&lt;/File&gt;
+			&lt;/Filter&gt;
+			&lt;Filter
+				Name=&quot;sprite3d&quot;&gt;
+				&lt;File
+					RelativePath=&quot;.\src\sprite3d\data.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\sprite3d\manager.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\sprite3d\sprite3d.hpp&quot;&gt;
+				&lt;/File&gt;
+			&lt;/Filter&gt;
+			&lt;Filter
+				Name=&quot;sound&quot;&gt;
+				&lt;File
+					RelativePath=&quot;.\src\sound\sound_file.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\sound\sound_manager.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\sound\sound_source.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\sound\stream_sound_source.hpp&quot;&gt;
+				&lt;/File&gt;
+			&lt;/Filter&gt;
+			&lt;Filter
+				Name=&quot;signals&quot;&gt;
+				&lt;File
+					RelativePath=&quot;.\src\signals\signal.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\signals\signal_v0.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\signals\signal_v1.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\signals\signal_v2.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\signals\signal_v3.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\signals\signal_v4.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\signals\signal_v5.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\signals\signals.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\signals\slot.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\signals\slot_generic.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\signals\slot_v0.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\signals\slot_v1.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\signals\slot_v2.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\signals\slot_v3.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\signals\slot_v4.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\signals\slot_v5.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\signals\slotbuffer_v0.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\signals\slotbuffer_v1.hpp&quot;&gt;
+				&lt;/File&gt;
+			&lt;/Filter&gt;
+			&lt;Filter
+				Name=&quot;scripting&quot;&gt;
+				&lt;File
+					RelativePath=&quot;.\src\scripting\game_objects.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\scripting\interface.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\scripting\serialize.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\scripting\spawn_object.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\scripting\squirrel_error.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\scripting\util.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\scripting\wrapper.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\scripting\wrapper.interface.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\scripting\wrapper_util.hpp&quot;&gt;
+				&lt;/File&gt;
+			&lt;/Filter&gt;
+			&lt;Filter
+				Name=&quot;physfs&quot;&gt;
+				&lt;File
+					RelativePath=&quot;.\src\physfs\physfs_sdl.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\physfs\physfs_stream.hpp&quot;&gt;
+				&lt;/File&gt;
+			&lt;/Filter&gt;
+			&lt;Filter
+				Name=&quot;particles&quot;&gt;
+				&lt;File
+					RelativePath=&quot;.\src\particles\deform_drawer.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\particles\drawer.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\particles\particle_system.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\particles\randomizer.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\particles\spark_drawer.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\particles\surface_drawer.hpp&quot;&gt;
+				&lt;/File&gt;
+			&lt;/Filter&gt;
+			&lt;Filter
+				Name=&quot;objects&quot;&gt;
+				&lt;File
+					RelativePath=&quot;.\src\objects\background_gradient.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\objects\bomb.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\objects\hedgehog.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\objects\nightvision.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\objects\shockwave.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\objects\spider_mine.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\objects\swarm.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\objects\test_object.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\objects\vrdummy.hpp&quot;&gt;
+				&lt;/File&gt;
+			&lt;/Filter&gt;
+			&lt;Filter
+				Name=&quot;armature&quot;
+				Filter=&quot;&quot;&gt;
+				&lt;File
+					RelativePath=&quot;.\src\armature\action.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\armature\armature.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\armature\bone.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\armature\mesh.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\armature\model.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\armature\pose.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\armature\pose_bone.hpp&quot;&gt;
+				&lt;/File&gt;
+			&lt;/Filter&gt;
+			&lt;Filter
+				Name=&quot;navigation&quot;
+				Filter=&quot;&quot;&gt;
+				&lt;File
+					RelativePath=&quot;.\src\navigation\navigation_graph.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\navigation\node.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\navigation\properties.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\navigation\segment.hpp&quot;&gt;
+				&lt;/File&gt;
+				&lt;File
+					RelativePath=&quot;.\src\navigation\segment_position.hpp&quot;&gt;
+				&lt;/File&gt;
+			&lt;/Filter&gt;
+		&lt;/Filter&gt;
+		&lt;Filter
+			Name=&quot;Ressourcendateien&quot;
+			Filter=&quot;rc;ico;cur;bmp;dlg;rc2;rct;bin;rgs;gif;jpg;jpeg;jpe;resx;tiff;tif;png;wav&quot;
+			UniqueIdentifier=&quot;{67DA6AB6-F800-4c08-8B7A-83BB121AAD01}&quot;&gt;
+		&lt;/Filter&gt;
+	&lt;/Files&gt;
+	&lt;Globals&gt;
+	&lt;/Globals&gt;
+&lt;/VisualStudioProject&gt;

Modified: trunk/windstille/src/display/display.cpp
===================================================================
--- trunk/windstille/src/display/display.cpp	2008-05-27 03:54:44 UTC (rev 2264)
+++ trunk/windstille/src/display/display.cpp	2008-06-26 21:33:50 UTC (rev 2265)
@@ -495,7 +495,7 @@
 Display::save_screenshot(const std::string&amp; filename)
 {
   int len = get_width() * get_height() * 3;
-  GLbyte pixels[len];
+  GLbyte* pixels = new GLbyte[len];
   glReadPixels(0, 0, get_width(), get_height(), GL_RGB, GL_UNSIGNED_BYTE, pixels);
 
   if (0)
@@ -558,7 +558,8 @@
           png_write_info(png_ptr, info_ptr);
 
           png_uint_32 height = get_height();
-          png_bytep row_pointers[height];
+
+		  png_bytep* row_pointers = new png_bytep[height];
    
           // generate row pointers
           for (unsigned int k = 0; k &lt; height; k++)
@@ -569,6 +570,9 @@
           png_write_end(png_ptr, info_ptr);
 
           fclose(fp);
+
+		  delete[] pixels;
+		  delete[] row_pointers;
         }
     }
 }

Modified: trunk/windstille/src/display/surface_manager.cpp
===================================================================
--- trunk/windstille/src/display/surface_manager.cpp	2008-05-27 03:54:44 UTC (rev 2264)
+++ trunk/windstille/src/display/surface_manager.cpp	2008-06-26 21:33:50 UTC (rev 2265)
@@ -14,7 +14,7 @@
 #include &quot;texture_manager.hpp&quot;
 #include &quot;physfs/physfs_sdl.hpp&quot;
 
-SurfaceManager::SurfaceManager* surface_manager = 0;
+SurfaceManager* surface_manager = 0;
 
 SurfaceManager::SurfaceManager()
 {

Modified: trunk/windstille/src/display/texture_manager.cpp
===================================================================
--- trunk/windstille/src/display/texture_manager.cpp	2008-05-27 03:54:44 UTC (rev 2264)
+++ trunk/windstille/src/display/texture_manager.cpp	2008-06-26 21:33:50 UTC (rev 2265)
@@ -12,7 +12,7 @@
 #include &quot;texture.hpp&quot;
 #include &quot;physfs/physfs_sdl.hpp&quot;
 
-TextureManager::TextureManager* texture_manager = 0;
+TextureManager* texture_manager = 0;
 
 TextureManager::TextureManager()
 {

Modified: trunk/windstille/src/gui/root_component.cpp
===================================================================
--- trunk/windstille/src/gui/root_component.cpp	2008-05-27 03:54:44 UTC (rev 2264)
+++ trunk/windstille/src/gui/root_component.cpp	2008-06-26 21:33:50 UTC (rev 2265)
@@ -24,6 +24,7 @@
 */
 
 #include &lt;iostream&gt;
+#include &lt;algorithm&gt;
 #include &quot;console.hpp&quot;
 #include &quot;input/controller.hpp&quot;
 #include &quot;root_component.hpp&quot;

Modified: trunk/windstille/src/input/input_manager_sdl.cpp
===================================================================
--- trunk/windstille/src/input/input_manager_sdl.cpp	2008-05-27 03:54:44 UTC (rev 2264)
+++ trunk/windstille/src/input/input_manager_sdl.cpp	2008-06-26 21:33:50 UTC (rev 2265)
@@ -36,7 +36,9 @@
 #include &quot;file_reader.hpp&quot;
 #include &quot;controller_def.hpp&quot;
 #include &quot;input_manager_sdl.hpp&quot;
+#ifdef HAVE_CWIID
 #include &quot;wiimote.hpp&quot;
+#endif
 
 InputManagerSDL* InputManagerSDL::current_ = 0;
 

Modified: trunk/windstille/src/math.hpp
===================================================================
--- trunk/windstille/src/math.hpp	2008-05-27 03:54:44 UTC (rev 2264)
+++ trunk/windstille/src/math.hpp	2008-06-26 21:33:50 UTC (rev 2265)
@@ -57,7 +57,7 @@
 
 inline float normalize_angle(float radians)
 {
-  radians = fmod (radians, 2.0 * M_PI);
+  radians = fmod (radians, static_cast&lt;float&gt;(2.0 * M_PI));
   if (radians &lt; 0.0)
     radians += 2.0 * M_PI;
   // Floating point math is so loathsome.  In sp98test, the assertion

Modified: trunk/windstille/src/menu_manager.cpp
===================================================================
--- trunk/windstille/src/menu_manager.cpp	2008-05-27 03:54:44 UTC (rev 2264)
+++ trunk/windstille/src/menu_manager.cpp	2008-06-26 21:33:50 UTC (rev 2265)
@@ -43,7 +43,9 @@
 #include &quot;armature_test.hpp&quot;
 #include &quot;navigation_test.hpp&quot;
 #include &quot;gui/menu_item.hpp&quot;
+#ifdef HAVE_CWIID
 #include &quot;input/wiimote.hpp&quot;
+#endif
 #include &quot;menu_manager.hpp&quot;
 
 MenuManager menu_manager;
@@ -110,12 +112,14 @@
   slots.push_back(gamma_item-&gt;sig_change().connect(this, &amp;MenuManager::menu_gamma));
   menu-&gt;add_item(gamma_item);
 
+  #ifdef HAVE_CWIID
   if (wiimote)
     {
       ButtonMenuItem* wiimote_button = new ButtonMenuItem(menu,  &quot;Try to Connect Wiimote&quot;);
       slots.push_back(wiimote_button-&gt;sig_click().connect(this, &amp;MenuManager::menu_wiimote));
       menu-&gt;add_item(wiimote_button);
     }
+  #endif
 
   manager-&gt;get_root()-&gt;add_child(group);
   group-&gt;layout();

Modified: trunk/windstille/src/objects/swarm.cpp
===================================================================
--- trunk/windstille/src/objects/swarm.cpp	2008-05-27 03:54:44 UTC (rev 2264)
+++ trunk/windstille/src/objects/swarm.cpp	2008-06-26 21:33:50 UTC (rev 2265)
@@ -95,7 +95,7 @@
 static float normalize(float angle)
 {
   // brings angle into [0,2*M_PI[ range
-  float ret = fmod(fmod(angle, 2*M_PI) + 2*M_PI, 2*M_PI);
+  float ret = fmod(static_cast&lt;float&gt;(fmod(angle, static_cast&lt;float&gt;(2*M_PI)) + 2*M_PI), static_cast&lt;float&gt;(2*M_PI));
   assert(ret &gt;= 0 &amp;&amp; ret &lt; 2*M_PI);
   return ret;
 }

Modified: trunk/windstille/src/particles/particle_system.hpp
===================================================================
--- trunk/windstille/src/particles/particle_system.hpp	2008-05-27 03:54:44 UTC (rev 2264)
+++ trunk/windstille/src/particles/particle_system.hpp	2008-06-26 21:33:50 UTC (rev 2265)
@@ -34,7 +34,7 @@
 
 class SceneContext;
 class Randomizer;
-class Particle;
+struct Particle;
 class ParticleSystem;
 
 struct Particle {

Modified: trunk/windstille/src/screen_manager.cpp
===================================================================
--- trunk/windstille/src/screen_manager.cpp	2008-05-27 03:54:44 UTC (rev 2264)
+++ trunk/windstille/src/screen_manager.cpp	2008-06-26 21:33:50 UTC (rev 2265)
@@ -25,7 +25,9 @@
 
 #include &lt;boost/format.hpp&gt;
 #include &lt;iostream&gt;
+#ifndef WIN32
 #include &lt;unistd.h&gt;
+#endif
 #include &quot;game_session.hpp&quot;
 #include &quot;input/input_manager_sdl.hpp&quot;
 #include &quot;display/display.hpp&quot;
@@ -50,6 +52,9 @@
 #include &quot;gui/text_view.hpp&quot;
 #include &quot;gui/automap.hpp&quot;
 
+#ifdef WIN32
+#define snprintf _snprintf
+#endif
 
 using gui::GUIManager;
 
@@ -245,6 +250,7 @@
                   Display::set_fullscreen(config.get_bool(&quot;fullscreen&quot;));
                   break;
               
+	            #ifndef WIN32
                 case SDLK_F12:
                   {
                     // FIXME: Replace this with Physfs stuff
@@ -259,6 +265,7 @@
                     console &lt;&lt; &quot;Writing screenshot to: '&quot; &lt;&lt; filename &lt;&lt; &quot;'&quot; &lt;&lt; std::endl;
                   }
                   break;
+				  #endif
               
                 default:
                   if (!console.is_active())

Modified: trunk/windstille/src/sector.cpp
===================================================================
--- trunk/windstille/src/sector.cpp	2008-05-27 03:54:44 UTC (rev 2264)
+++ trunk/windstille/src/sector.cpp	2008-06-26 21:33:50 UTC (rev 2265)
@@ -49,6 +49,7 @@
 #include &quot;scriptable_object.hpp&quot;
 #include &quot;navigation/navigation_graph.hpp&quot;
 #include &quot;scripting/squirrel_error.hpp&quot;
+#include &quot;util.hpp&quot;
 
 // The table (works like a namespace here) where the game objects will appear
 #define OBJECTS_TABLE &quot;objects&quot;
@@ -61,9 +62,7 @@
 {
   // make sure squirrel has an &quot;objects&quot; table
   script_manager-&gt;run_script(
-      &quot;if(! (\&quot;&quot; OBJECTS_TABLE &quot;\&quot; in this)) {&quot;
-      &quot;  &quot; OBJECTS_TABLE &quot; &lt;- {};&quot;
-      &quot;}&quot;, &quot;&quot;);
+      &quot;&quot; OBJECTS_TABLE &quot; &lt;- {};&quot;, &quot;&quot;);
   
   if (debug) std::cout &lt;&lt; &quot;Creating new Sector&quot; &lt;&lt; std::endl;
   collision_engine = new CollisionEngine();
@@ -268,7 +267,7 @@
   // get objects table
   HSQUIRRELVM v = script_manager-&gt;get_vm();
   sq_pushroottable(v);
-  sq_pushstring(v, OBJECTS_TABLE, -1);
+  sq_pushstring(v, string_to_wstring(OBJECTS_TABLE).c_str(), -1);
   if(SQ_FAILED(sq_get(v, -2)))
   {
     std::ostringstream msg;
@@ -277,7 +276,7 @@
   }
 
   // remove object from table
-  sq_pushstring(v, object-&gt;get_name().c_str(), object-&gt;get_name().size());
+  sq_pushstring(v, string_to_wstring(object-&gt;get_name()).c_str(), object-&gt;get_name().size());
   if(SQ_FAILED(sq_deleteslot(v, -2, SQFalse) &lt; 0)) {
     std::ostringstream msg;
     msg &lt;&lt; &quot;Couldn't remove squirrel object for '&quot; &lt;&lt; object-&gt;get_name()
@@ -323,7 +322,7 @@
   // get objects table
   HSQUIRRELVM v = script_manager-&gt;get_vm();
   sq_pushroottable(v);
-  sq_pushstring(v, OBJECTS_TABLE, -1);
+  sq_pushstring(v, string_to_wstring(OBJECTS_TABLE).c_str(), -1);
   if(SQ_FAILED(sq_get(v, -2)))
   {
     std::ostringstream msg;
@@ -332,7 +331,7 @@
   }
   
   // create squirrel instance and register in table
-  sq_pushstring(v, object-&gt;get_name().c_str(), object-&gt;get_name().size());
+  sq_pushstring(v, string_to_wstring(object-&gt;get_name()).c_str(), object-&gt;get_name().size());
   create_squirrel_instance(v, object);
   if(SQ_FAILED(sq_createslot(v, -3)))
   {

Modified: trunk/windstille/src/sprite3d/data.cpp
===================================================================
--- trunk/windstille/src/sprite3d/data.cpp	2008-05-27 03:54:44 UTC (rev 2264)
+++ trunk/windstille/src/sprite3d/data.cpp	2008-06-26 21:33:50 UTC (rev 2265)
@@ -46,15 +46,17 @@
 
 static inline std::string read_string(PHYSFS_file* file, size_t size)
 {
-  char buffer[size+1];
+  char* buffer = new char[size+1];
   if(PHYSFS_read(file, buffer, size, 1) != 1) {
     std::ostringstream msg;
     msg &lt;&lt; &quot;Problem reading string value: &quot; &lt;&lt; PHYSFS_getLastError();
     throw std::runtime_error(msg.str());
   }
   buffer[size] = 0;
+  std::string ret = buffer;
+  delete[] buffer;
 
-  return buffer;
+  return ret;
 }
 
 Data::Data(const std::string&amp; filename)

Modified: trunk/windstille/src/sprite3d/sprite3d.cpp
===================================================================
--- trunk/windstille/src/sprite3d/sprite3d.cpp	2008-05-27 03:54:44 UTC (rev 2264)
+++ trunk/windstille/src/sprite3d/sprite3d.cpp	2008-06-26 21:33:50 UTC (rev 2265)
@@ -363,7 +363,7 @@
       state.bind_texture(mesh.texture);
 
       // blend between frame1 + frame2
-      float verts[mesh.vertex_count * 3];
+	  float* verts = new float[mesh.vertex_count * 3];
       if(frame1.rot == frame2.rot) {
         for(uint16_t v = 0; v &lt; mesh.vertex_count*3; ++v) {
           float v1 = vertices1.vertices[v];
@@ -397,6 +397,8 @@
       glTexCoordPointer(2, GL_FLOAT, 0, &amp;*mesh.tex_coords.begin());
       glDrawElements(GL_TRIANGLES, mesh.triangle_count * 3, GL_UNSIGNED_SHORT,
                      &amp;*mesh.vertex_indices.begin());
+
+	  delete[] verts;
     }
 
   assert_gl(&quot;rendering 3d sprite&quot;);      

Modified: trunk/windstille/src/tinygettext/tinygettext.cpp
===================================================================
--- trunk/windstille/src/tinygettext/tinygettext.cpp	2008-05-27 03:54:44 UTC (rev 2264)
+++ trunk/windstille/src/tinygettext/tinygettext.cpp	2008-06-26 21:33:50 UTC (rev 2265)
@@ -28,6 +28,10 @@
 #include &quot;tinygettext.hpp&quot;
 #include &quot;physfs/physfs_stream.hpp&quot;
 
+#ifdef WIN32
+#define ICONV_CONST const
+#endif
+
 //#define TRANSLATION_DEBUG
 
 namespace tinygettext {

Modified: trunk/windstille/src/util.cpp
===================================================================
--- trunk/windstille/src/util.cpp	2008-05-27 03:54:44 UTC (rev 2264)
+++ trunk/windstille/src/util.cpp	2008-06-26 21:33:50 UTC (rev 2265)
@@ -47,4 +47,9 @@
   return out;
 }
 
+const std::wstring string_to_wstring(const std::string&amp; str) {
+	std::wstring tmp(str.begin(), str.end());
+	return tmp;
+}
+
 /* EOF */

Modified: trunk/windstille/src/util.hpp
===================================================================
--- trunk/windstille/src/util.hpp	2008-05-27 03:54:44 UTC (rev 2264)
+++ trunk/windstille/src/util.hpp	2008-06-26 21:33:50 UTC (rev 2265)
@@ -39,5 +39,7 @@
 #endif
 }
 
+const std::wstring string_to_wstring(const std::string&amp; str);
+
 #endif
 

Modified: trunk/windstille/src/windstille_main.cpp
===================================================================
--- trunk/windstille/src/windstille_main.cpp	2008-05-27 03:54:44 UTC (rev 2264)
+++ trunk/windstille/src/windstille_main.cpp	2008-06-26 21:33:50 UTC (rev 2265)
@@ -53,6 +53,11 @@
 #include &quot;particle_viewer.hpp&quot;
 #include &quot;sprite2d/manager.hpp&quot;
 
+#ifdef WIN32
+#include &quot;shlwapi.h&quot;
+#define strcasecmp lstrcmpiA 
+#endif
+
 WindstilleMain::WindstilleMain()
 {
 }
@@ -320,6 +325,7 @@
     size_t l = strlen(*i);
     if((l &gt; extlen) &amp;&amp; ((*i)[l - extlen - 1] == '.')) {
       const char* ext = (*i) + (l - extlen);
+
       if(strcasecmp(ext, archiveExt) == 0) {
         const char* d = PHYSFS_getRealDir(*i);
         char* str = new char[strlen(d) + strlen(dirsep) + l + 1];


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="001286.html">[Windstille-commit] r2266 - trunk/windstille/src
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1285">[ date ]</a>
              <a href="thread.html#1285">[ thread ]</a>
              <a href="subject.html#1285">[ subject ]</a>
              <a href="author.html#1285">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/windstille-commit">More information about the Windstille-commit
mailing list</a><br>
</body></html>
