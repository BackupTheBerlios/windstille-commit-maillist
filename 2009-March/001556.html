<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Windstille-commit] r2559 - trunk/windstille/src/scripting
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/windstille-commit/2009-March/index.html" >
   <LINK REL="made" HREF="mailto:windstille-commit%40lists.berlios.de?Subject=Re%3A%20%5BWindstille-commit%5D%20r2559%20-%20trunk/windstille/src/scripting&In-Reply-To=%3C200903061259.n26CxYNH001620%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001555.html">
   <LINK REL="Next"  HREF="001557.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Windstille-commit] r2559 - trunk/windstille/src/scripting</H1>
    <B>grumbel at BerliOS</B> 
    <A HREF="mailto:windstille-commit%40lists.berlios.de?Subject=Re%3A%20%5BWindstille-commit%5D%20r2559%20-%20trunk/windstille/src/scripting&In-Reply-To=%3C200903061259.n26CxYNH001620%40sheep.berlios.de%3E"
       TITLE="[Windstille-commit] r2559 - trunk/windstille/src/scripting">grumbel at mail.berlios.de
       </A><BR>
    <I>Fri Mar  6 13:59:34 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001555.html">[Windstille-commit] r2558 - in trunk/windstille/src: engine	scripting
</A></li>
        <LI>Next message: <A HREF="001557.html">[Windstille-commit] r2560 - in trunk/windstille/src: display engine	objects particles scripting sprite2d sprite3d util
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1556">[ date ]</a>
              <a href="thread.html#1556">[ thread ]</a>
              <a href="subject.html#1556">[ subject ]</a>
              <a href="author.html#1556">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: grumbel
Date: 2009-03-06 13:59:33 +0100 (Fri, 06 Mar 2009)
New Revision: 2559

Modified:
   trunk/windstille/src/scripting/wrapper.cpp
Log:
New wrapper script

Modified: trunk/windstille/src/scripting/wrapper.cpp
===================================================================
--- trunk/windstille/src/scripting/wrapper.cpp	2009-03-05 18:28:08 UTC (rev 2558)
+++ trunk/windstille/src/scripting/wrapper.cpp	2009-03-06 12:59:33 UTC (rev 2559)
@@ -28,7 +28,7 @@
 static SQInteger GameObject_get_name_wrapper(HSQUIRRELVM vm)
 {
   SQUserPointer data;
-  if(SQ_FAILED(sq_getinstanceup(vm, 1, &amp;data, 0))) {
+  if(SQ_FAILED(sq_getinstanceup(vm, 1, &amp;data, 0)) || !data) {
     sq_throwerror(vm, _SC(&quot;'get_name' called without instance&quot;));
     return SQ_ERROR;
   }
@@ -53,7 +53,7 @@
 static SQInteger GameObject_remove_wrapper(HSQUIRRELVM vm)
 {
   SQUserPointer data;
-  if(SQ_FAILED(sq_getinstanceup(vm, 1, &amp;data, 0))) {
+  if(SQ_FAILED(sq_getinstanceup(vm, 1, &amp;data, 0)) || !data) {
     sq_throwerror(vm, _SC(&quot;'remove' called without instance&quot;));
     return SQ_ERROR;
   }
@@ -77,7 +77,7 @@
 static SQInteger GameObject_set_active_wrapper(HSQUIRRELVM vm)
 {
   SQUserPointer data;
-  if(SQ_FAILED(sq_getinstanceup(vm, 1, &amp;data, 0))) {
+  if(SQ_FAILED(sq_getinstanceup(vm, 1, &amp;data, 0)) || !data) {
     sq_throwerror(vm, _SC(&quot;'set_active' called without instance&quot;));
     return SQ_ERROR;
   }
@@ -106,7 +106,7 @@
 static SQInteger GameObject_set_parent_wrapper(HSQUIRRELVM vm)
 {
   SQUserPointer data;
-  if(SQ_FAILED(sq_getinstanceup(vm, 1, &amp;data, 0))) {
+  if(SQ_FAILED(sq_getinstanceup(vm, 1, &amp;data, 0)) || !data) {
     sq_throwerror(vm, _SC(&quot;'set_parent' called without instance&quot;));
     return SQ_ERROR;
   }
@@ -142,7 +142,7 @@
 static SQInteger TestObject_set_sprite_wrapper(HSQUIRRELVM vm)
 {
   SQUserPointer data;
-  if(SQ_FAILED(sq_getinstanceup(vm, 1, &amp;data, 0))) {
+  if(SQ_FAILED(sq_getinstanceup(vm, 1, &amp;data, 0)) || !data) {
     sq_throwerror(vm, _SC(&quot;'set_sprite' called without instance&quot;));
     return SQ_ERROR;
   }
@@ -171,7 +171,7 @@
 static SQInteger TestObject_set_action_wrapper(HSQUIRRELVM vm)
 {
   SQUserPointer data;
-  if(SQ_FAILED(sq_getinstanceup(vm, 1, &amp;data, 0))) {
+  if(SQ_FAILED(sq_getinstanceup(vm, 1, &amp;data, 0)) || !data) {
     sq_throwerror(vm, _SC(&quot;'set_action' called without instance&quot;));
     return SQ_ERROR;
   }
@@ -200,7 +200,7 @@
 static SQInteger TestObject_set_pos_wrapper(HSQUIRRELVM vm)
 {
   SQUserPointer data;
-  if(SQ_FAILED(sq_getinstanceup(vm, 1, &amp;data, 0))) {
+  if(SQ_FAILED(sq_getinstanceup(vm, 1, &amp;data, 0)) || !data) {
     sq_throwerror(vm, _SC(&quot;'set_pos' called without instance&quot;));
     return SQ_ERROR;
   }
@@ -234,7 +234,7 @@
 static SQInteger TestObject_set_vflip_wrapper(HSQUIRRELVM vm)
 {
   SQUserPointer data;
-  if(SQ_FAILED(sq_getinstanceup(vm, 1, &amp;data, 0))) {
+  if(SQ_FAILED(sq_getinstanceup(vm, 1, &amp;data, 0)) || !data) {
     sq_throwerror(vm, _SC(&quot;'set_vflip' called without instance&quot;));
     return SQ_ERROR;
   }
@@ -263,7 +263,7 @@
 static SQInteger TestObject_attach_wrapper(HSQUIRRELVM vm)
 {
   SQUserPointer data;
-  if(SQ_FAILED(sq_getinstanceup(vm, 1, &amp;data, 0))) {
+  if(SQ_FAILED(sq_getinstanceup(vm, 1, &amp;data, 0)) || !data) {
     sq_throwerror(vm, _SC(&quot;'attach' called without instance&quot;));
     return SQ_ERROR;
   }
@@ -304,7 +304,7 @@
 static SQInteger Player_start_listening_wrapper(HSQUIRRELVM vm)
 {
   SQUserPointer data;
-  if(SQ_FAILED(sq_getinstanceup(vm, 1, &amp;data, 0))) {
+  if(SQ_FAILED(sq_getinstanceup(vm, 1, &amp;data, 0)) || !data) {
     sq_throwerror(vm, _SC(&quot;'start_listening' called without instance&quot;));
     return SQ_ERROR;
   }
@@ -328,7 +328,7 @@
 static SQInteger Player_stop_listening_wrapper(HSQUIRRELVM vm)
 {
   SQUserPointer data;
-  if(SQ_FAILED(sq_getinstanceup(vm, 1, &amp;data, 0))) {
+  if(SQ_FAILED(sq_getinstanceup(vm, 1, &amp;data, 0)) || !data) {
     sq_throwerror(vm, _SC(&quot;'stop_listening' called without instance&quot;));
     return SQ_ERROR;
   }
@@ -359,7 +359,7 @@
 static SQInteger ScriptableObject_move_to_wrapper(HSQUIRRELVM vm)
 {
   SQUserPointer data;
-  if(SQ_FAILED(sq_getinstanceup(vm, 1, &amp;data, 0))) {
+  if(SQ_FAILED(sq_getinstanceup(vm, 1, &amp;data, 0)) || !data) {
     sq_throwerror(vm, _SC(&quot;'move_to' called without instance&quot;));
     return SQ_ERROR;
   }
@@ -403,7 +403,7 @@
 static SQInteger ScriptableObject_start_flash_wrapper(HSQUIRRELVM vm)
 {
   SQUserPointer data;
-  if(SQ_FAILED(sq_getinstanceup(vm, 1, &amp;data, 0))) {
+  if(SQ_FAILED(sq_getinstanceup(vm, 1, &amp;data, 0)) || !data) {
     sq_throwerror(vm, _SC(&quot;'start_flash' called without instance&quot;));
     return SQ_ERROR;
   }
@@ -1710,228 +1710,266 @@
 
   sq_pushstring(v, &quot;set_sector&quot;, -1);
   sq_newclosure(v, &amp;set_sector_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t s &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'set_sector'&quot;);
   }
 
   sq_pushstring(v, &quot;play_music&quot;, -1);
   sq_newclosure(v, &amp;play_music_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t s &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'play_music'&quot;);
   }
 
   sq_pushstring(v, &quot;stop_music&quot;, -1);
   sq_newclosure(v, &amp;stop_music_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t f|i &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'stop_music'&quot;);
   }
 
   sq_pushstring(v, &quot;play_sound&quot;, -1);
   sq_newclosure(v, &amp;play_sound_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t s &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'play_sound'&quot;);
   }
 
   sq_pushstring(v, &quot;caption_add&quot;, -1);
   sq_newclosure(v, &amp;caption_add_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t i s &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'caption_add'&quot;);
   }
 
   sq_pushstring(v, &quot;caption_clear&quot;, -1);
   sq_newclosure(v, &amp;caption_clear_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'caption_clear'&quot;);
   }
 
   sq_pushstring(v, &quot;caption_end&quot;, -1);
   sq_newclosure(v, &amp;caption_end_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'caption_end'&quot;);
   }
 
   sq_pushstring(v, &quot;camera_set_active&quot;, -1);
   sq_newclosure(v, &amp;camera_set_active_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t b &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'camera_set_active'&quot;);
   }
 
   sq_pushstring(v, &quot;camera_continue_path&quot;, -1);
   sq_newclosure(v, &amp;camera_continue_path_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'camera_continue_path'&quot;);
   }
 
   sq_pushstring(v, &quot;camera_begin_path&quot;, -1);
   sq_newclosure(v, &amp;camera_begin_path_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'camera_begin_path'&quot;);
   }
 
   sq_pushstring(v, &quot;camera_add_point&quot;, -1);
   sq_newclosure(v, &amp;camera_add_point_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t f|i f|i f|i &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'camera_add_point'&quot;);
   }
 
   sq_pushstring(v, &quot;camera_end_path&quot;, -1);
   sq_newclosure(v, &amp;camera_end_path_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'camera_end_path'&quot;);
   }
 
   sq_pushstring(v, &quot;camera_set_pos&quot;, -1);
   sq_newclosure(v, &amp;camera_set_pos_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t f|i f|i &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'camera_set_pos'&quot;);
   }
 
   sq_pushstring(v, &quot;camera_set_zoom&quot;, -1);
   sq_newclosure(v, &amp;camera_set_zoom_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t f|i &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'camera_set_zoom'&quot;);
   }
 
   sq_pushstring(v, &quot;set_controller_help_active&quot;, -1);
   sq_newclosure(v, &amp;set_controller_help_active_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t b &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'set_controller_help_active'&quot;);
   }
 
   sq_pushstring(v, &quot;speech_show&quot;, -1);
   sq_newclosure(v, &amp;speech_show_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t s f|i f|i &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'speech_show'&quot;);
   }
 
   sq_pushstring(v, &quot;dialog_show&quot;, -1);
   sq_newclosure(v, &amp;dialog_show_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t i s s s &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'dialog_show'&quot;);
   }
 
   sq_pushstring(v, &quot;wait_for_dialog&quot;, -1);
   sq_newclosure(v, &amp;wait_for_dialog_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'wait_for_dialog'&quot;);
   }
 
   sq_pushstring(v, &quot;wait_for_fade&quot;, -1);
   sq_newclosure(v, &amp;wait_for_fade_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'wait_for_fade'&quot;);
   }
 
   sq_pushstring(v, &quot;wait_for_camera&quot;, -1);
   sq_newclosure(v, &amp;wait_for_camera_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'wait_for_camera'&quot;);
   }
 
   sq_pushstring(v, &quot;conversation_add&quot;, -1);
   sq_newclosure(v, &amp;conversation_add_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t s &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'conversation_add'&quot;);
   }
 
   sq_pushstring(v, &quot;conversation_add2&quot;, -1);
   sq_newclosure(v, &amp;conversation_add2_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t s s &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'conversation_add2'&quot;);
   }
 
   sq_pushstring(v, &quot;conversation_show&quot;, -1);
   sq_newclosure(v, &amp;conversation_show_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'conversation_show'&quot;);
   }
 
   sq_pushstring(v, &quot;conversation_get_selection&quot;, -1);
   sq_newclosure(v, &amp;conversation_get_selection_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'conversation_get_selection'&quot;);
   }
 
   sq_pushstring(v, &quot;wait_for_conversation&quot;, -1);
   sq_newclosure(v, &amp;wait_for_conversation_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'wait_for_conversation'&quot;);
   }
 
   sq_pushstring(v, &quot;add_objective&quot;, -1);
   sq_newclosure(v, &amp;add_objective_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t s s &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'add_objective'&quot;);
   }
 
   sq_pushstring(v, &quot;objective_complete&quot;, -1);
   sq_newclosure(v, &amp;objective_complete_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t s &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'objective_complete'&quot;);
   }
 
   sq_pushstring(v, &quot;is_objective_given&quot;, -1);
   sq_newclosure(v, &amp;is_objective_given_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t s &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'is_objective_given'&quot;);
   }
 
   sq_pushstring(v, &quot;is_objective_complete&quot;, -1);
   sq_newclosure(v, &amp;is_objective_complete_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t s &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'is_objective_complete'&quot;);
   }
 
   sq_pushstring(v, &quot;run_before&quot;, -1);
   sq_newclosure(v, &amp;run_before_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t . &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'run_before'&quot;);
   }
 
   sq_pushstring(v, &quot;save_state&quot;, -1);
   sq_newclosure(v, &amp;save_state_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t . s &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'save_state'&quot;);
   }
 
   sq_pushstring(v, &quot;load_state&quot;, -1);
   sq_newclosure(v, &amp;load_state_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t . s &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'load_state'&quot;);
   }
 
   sq_pushstring(v, &quot;list_objects&quot;, -1);
   sq_newclosure(v, &amp;list_objects_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'list_objects'&quot;);
   }
 
   sq_pushstring(v, &quot;set_debug&quot;, -1);
   sq_newclosure(v, &amp;set_debug_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t b &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'set_debug'&quot;);
   }
 
   sq_pushstring(v, &quot;get_debug&quot;, -1);
   sq_newclosure(v, &amp;get_debug_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'get_debug'&quot;);
   }
 
   sq_pushstring(v, &quot;get_game_speed&quot;, -1);
   sq_newclosure(v, &amp;get_game_speed_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'get_game_speed'&quot;);
   }
 
   sq_pushstring(v, &quot;set_game_speed&quot;, -1);
   sq_newclosure(v, &amp;set_game_speed_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t f|i &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'set_game_speed'&quot;);
   }
 
   sq_pushstring(v, &quot;wait&quot;, -1);
   sq_newclosure(v, &amp;wait_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t f|i &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'wait'&quot;);
   }
@@ -1950,60 +1988,70 @@
 
   sq_pushstring(v, &quot;set_console_font&quot;, -1);
   sq_newclosure(v, &amp;set_console_font_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t s i &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'set_console_font'&quot;);
   }
 
   sq_pushstring(v, &quot;set_gamma&quot;, -1);
   sq_newclosure(v, &amp;set_gamma_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t f|i &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'set_gamma'&quot;);
   }
 
   sq_pushstring(v, &quot;set_gamma_rgb&quot;, -1);
   sq_newclosure(v, &amp;set_gamma_rgb_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t f|i f|i f|i &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'set_gamma_rgb'&quot;);
   }
 
   sq_pushstring(v, &quot;show_config&quot;, -1);
   sq_newclosure(v, &amp;show_config_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'show_config'&quot;);
   }
 
   sq_pushstring(v, &quot;cutscene_begin&quot;, -1);
   sq_newclosure(v, &amp;cutscene_begin_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'cutscene_begin'&quot;);
   }
 
   sq_pushstring(v, &quot;cutscene_end&quot;, -1);
   sq_newclosure(v, &amp;cutscene_end_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'cutscene_end'&quot;);
   }
 
   sq_pushstring(v, &quot;internal_fadeout_rgb&quot;, -1);
   sq_newclosure(v, &amp;internal_fadeout_rgb_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t f|i f|i f|i f|i &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'internal_fadeout_rgb'&quot;);
   }
 
   sq_pushstring(v, &quot;internal_fadein&quot;, -1);
   sq_newclosure(v, &amp;internal_fadein_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t f|i &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'internal_fadein'&quot;);
   }
 
   sq_pushstring(v, &quot;render_mask_get&quot;, -1);
   sq_newclosure(v, &amp;render_mask_get_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'render_mask_get'&quot;);
   }
 
   sq_pushstring(v, &quot;render_mask_set&quot;, -1);
   sq_newclosure(v, &amp;render_mask_set_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t i &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'render_mask_set'&quot;);
   }
@@ -2023,24 +2071,28 @@
   }
   sq_pushstring(v, &quot;get_name&quot;, -1);
   sq_newclosure(v, &amp;GameObject_get_name_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'get_name'&quot;);
   }
 
   sq_pushstring(v, &quot;remove&quot;, -1);
   sq_newclosure(v, &amp;GameObject_remove_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'remove'&quot;);
   }
 
   sq_pushstring(v, &quot;set_active&quot;, -1);
   sq_newclosure(v, &amp;GameObject_set_active_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t b &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'set_active'&quot;);
   }
 
   sq_pushstring(v, &quot;set_parent&quot;, -1);
   sq_newclosure(v, &amp;GameObject_set_parent_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t s &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'set_parent'&quot;);
   }
@@ -2060,30 +2112,35 @@
   }
   sq_pushstring(v, &quot;set_sprite&quot;, -1);
   sq_newclosure(v, &amp;TestObject_set_sprite_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t s &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'set_sprite'&quot;);
   }
 
   sq_pushstring(v, &quot;set_action&quot;, -1);
   sq_newclosure(v, &amp;TestObject_set_action_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t s &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'set_action'&quot;);
   }
 
   sq_pushstring(v, &quot;set_pos&quot;, -1);
   sq_newclosure(v, &amp;TestObject_set_pos_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t f|i f|i &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'set_pos'&quot;);
   }
 
   sq_pushstring(v, &quot;set_vflip&quot;, -1);
   sq_newclosure(v, &amp;TestObject_set_vflip_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t b &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'set_vflip'&quot;);
   }
 
   sq_pushstring(v, &quot;attach&quot;, -1);
   sq_newclosure(v, &amp;TestObject_attach_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t s s &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'attach'&quot;);
   }
@@ -2103,12 +2160,14 @@
   }
   sq_pushstring(v, &quot;start_listening&quot;, -1);
   sq_newclosure(v, &amp;Player_start_listening_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'start_listening'&quot;);
   }
 
   sq_pushstring(v, &quot;stop_listening&quot;, -1);
   sq_newclosure(v, &amp;Player_stop_listening_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'stop_listening'&quot;);
   }
@@ -2128,12 +2187,14 @@
   }
   sq_pushstring(v, &quot;move_to&quot;, -1);
   sq_newclosure(v, &amp;ScriptableObject_move_to_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t f|i f|i f|i f|i &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'move_to'&quot;);
   }
 
   sq_pushstring(v, &quot;start_flash&quot;, -1);
   sq_newclosure(v, &amp;ScriptableObject_start_flash_wrapper, 0);
+  sq_setparamscheck(v, SQ_MATCHTYPEMASKSTRING, &quot;x|t f|i &quot;);
   if(SQ_FAILED(sq_createslot(v, -3))) {
     throw SquirrelError(v, &quot;Couldn't register function 'start_flash'&quot;);
   }


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001555.html">[Windstille-commit] r2558 - in trunk/windstille/src: engine	scripting
</A></li>
	<LI>Next message: <A HREF="001557.html">[Windstille-commit] r2560 - in trunk/windstille/src: display engine	objects particles scripting sprite2d sprite3d util
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1556">[ date ]</a>
              <a href="thread.html#1556">[ thread ]</a>
              <a href="subject.html#1556">[ subject ]</a>
              <a href="author.html#1556">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/windstille-commit">More information about the Windstille-commit
mailing list</a><br>
</body></html>
