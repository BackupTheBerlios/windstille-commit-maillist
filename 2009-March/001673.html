<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Windstille-commit] r2676 - in trunk/windstille/src: . app display	engine gui hud input navigation objects particles screen	sprite2d sprite3d tile util
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/windstille-commit/2009-March/index.html" >
   <LINK REL="made" HREF="mailto:windstille-commit%40lists.berlios.de?Subject=Re%3A%20%5BWindstille-commit%5D%20r2676%20-%20in%20trunk/windstille/src%3A%20.%20app%20display%0A%09engine%20gui%20hud%20input%20navigation%20objects%20particles%20screen%0A%09sprite2d%20sprite3d%20tile%20util&In-Reply-To=%3C200903160029.n2G0Tnn2014617%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001672.html">
   <LINK REL="Next"  HREF="001674.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Windstille-commit] r2676 - in trunk/windstille/src: . app display	engine gui hud input navigation objects particles screen	sprite2d sprite3d tile util</H1>
    <B>grumbel at BerliOS</B> 
    <A HREF="mailto:windstille-commit%40lists.berlios.de?Subject=Re%3A%20%5BWindstille-commit%5D%20r2676%20-%20in%20trunk/windstille/src%3A%20.%20app%20display%0A%09engine%20gui%20hud%20input%20navigation%20objects%20particles%20screen%0A%09sprite2d%20sprite3d%20tile%20util&In-Reply-To=%3C200903160029.n2G0Tnn2014617%40sheep.berlios.de%3E"
       TITLE="[Windstille-commit] r2676 - in trunk/windstille/src: . app display	engine gui hud input navigation objects particles screen	sprite2d sprite3d tile util">grumbel at mail.berlios.de
       </A><BR>
    <I>Mon Mar 16 01:29:49 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001672.html">[Windstille-commit] r2675 - trunk/windstille/src/hud
</A></li>
        <LI>Next message: <A HREF="001674.html">[Windstille-commit] r2677 - trunk/windstille
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1673">[ date ]</a>
              <a href="thread.html#1673">[ thread ]</a>
              <a href="subject.html#1673">[ subject ]</a>
              <a href="author.html#1673">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: grumbel
Date: 2009-03-16 01:29:41 +0100 (Mon, 16 Mar 2009)
New Revision: 2676

Modified:
   trunk/windstille/src/SConscript
   trunk/windstille/src/app/config.cpp
   trunk/windstille/src/app/console.cpp
   trunk/windstille/src/display/blitter.cpp
   trunk/windstille/src/display/drawing_context.cpp
   trunk/windstille/src/display/vertex_array_drawing_request.cpp
   trunk/windstille/src/engine/sector.cpp
   trunk/windstille/src/gui/automap.cpp
   trunk/windstille/src/gui/automap.hpp
   trunk/windstille/src/gui/button.cpp
   trunk/windstille/src/gui/button.hpp
   trunk/windstille/src/gui/grid_component.cpp
   trunk/windstille/src/gui/grid_component.hpp
   trunk/windstille/src/gui/label.cpp
   trunk/windstille/src/gui/slider.cpp
   trunk/windstille/src/gui/tab_component.cpp
   trunk/windstille/src/gui/tab_component.hpp
   trunk/windstille/src/hud/controller_help_window.cpp
   trunk/windstille/src/input/input_manager_sdl.cpp
   trunk/windstille/src/input/wiimote.cpp
   trunk/windstille/src/navigation/navigation_graph.hpp
   trunk/windstille/src/navigation/node.hpp
   trunk/windstille/src/navigation/segment.cpp
   trunk/windstille/src/objects/background_gradient.cpp
   trunk/windstille/src/objects/box.cpp
   trunk/windstille/src/objects/character.cpp
   trunk/windstille/src/objects/elevator.cpp
   trunk/windstille/src/objects/hedgehog.cpp
   trunk/windstille/src/objects/liquid.cpp
   trunk/windstille/src/objects/nightvision.cpp
   trunk/windstille/src/objects/scriptable_object.cpp
   trunk/windstille/src/objects/shockwave.cpp
   trunk/windstille/src/objects/spider_mine.cpp
   trunk/windstille/src/objects/swarm.cpp
   trunk/windstille/src/objects/test_object.cpp
   trunk/windstille/src/objects/trigger.cpp
   trunk/windstille/src/objects/vrdummy.cpp
   trunk/windstille/src/particles/deform_drawer.cpp
   trunk/windstille/src/particles/particle_system.cpp
   trunk/windstille/src/particles/surface_drawer.cpp
   trunk/windstille/src/screen/navigation_test.cpp
   trunk/windstille/src/screen/title_screen.cpp
   trunk/windstille/src/sprite2d/data.cpp
   trunk/windstille/src/sprite3d/sprite3d.cpp
   trunk/windstille/src/tile/tile_description.cpp
   trunk/windstille/src/tile/tile_factory.cpp
   trunk/windstille/src/tile/tile_map.cpp
   trunk/windstille/src/util/file_reader.cpp
   trunk/windstille/src/util/file_reader.hpp
   trunk/windstille/src/util/util.hpp
Log:
Some cleanup, got rid of print_unused_warnings() and fixed some compiler warnings, code is now -W clean

Modified: trunk/windstille/src/SConscript
===================================================================
--- trunk/windstille/src/SConscript	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/SConscript	2009-03-16 00:29:41 UTC (rev 2676)
@@ -81,7 +81,6 @@
 'gui/automap.cpp',
 'gui/button.cpp',
 'gui/component.cpp',
-'gui/component_factory.cpp',
 'gui/grid_component.cpp',
 'gui/group_component.cpp',
 'gui/gui_manager.cpp',

Modified: trunk/windstille/src/app/config.cpp
===================================================================
--- trunk/windstille/src/app/config.cpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/app/config.cpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -343,52 +343,55 @@
 void
 Config::load()
 {
-  try {
-    FileReader reader = FileReader::parse(&quot;config&quot;);
-    if(reader.get_name() != &quot;windstille-config&quot;) {
-      std::cerr &lt;&lt; &quot;Warning: Config file is not a windstille-config file.\n&quot;;
+  try 
+    {
+      FileReader reader = FileReader::parse(&quot;config&quot;);
+      if(reader.get_name() != &quot;windstille-config&quot;) 
+        {
+          std::cerr &lt;&lt; &quot;Warning: Config file is not a windstille-config file.\n&quot;;
+          return;
+        }
+    
+      for(ConfigValues::iterator i = config_values.begin(); i != config_values.end(); ++i)
+        { // FIXME: all this dynamic_casting is overcomplicated crap
+          if (dynamic_cast&lt;ConfigValue&lt;int&gt;*&gt;(i-&gt;second))
+            {
+              int v;
+              if (reader.get(i-&gt;first.c_str(), v))
+                set_int(i-&gt;first, v);
+            }
+          else if (dynamic_cast&lt;ConfigValue&lt;bool&gt;*&gt;(i-&gt;second))
+            {
+              bool v;
+              if (reader.get(i-&gt;first.c_str(), v))
+                set_bool(i-&gt;first, v);
+            }
+          else if (dynamic_cast&lt;ConfigValue&lt;float&gt;*&gt;(i-&gt;second))
+            {
+              float v;
+              if (reader.get(i-&gt;first.c_str(), v))
+                set_float(i-&gt;first, v);
+            }
+          else if (dynamic_cast&lt;ConfigValue&lt;std::string&gt;*&gt;(i-&gt;second))
+            {
+              std::string v;
+              if (reader.get(i-&gt;first.c_str(), v))
+                set_string(i-&gt;first, v);
+            }
+          else 
+            {
+              std::cout &lt;&lt; &quot;Config: Unknown type for: &quot; &lt;&lt; i-&gt;first &lt;&lt; std::endl;
+            }
+        }
+    
+      // TODO read controller config
+    } 
+  catch(std::exception&amp; e) 
+    {
+      std::cerr &lt;&lt; &quot;Couldn't open config file: &quot; &lt;&lt; e.what() &lt;&lt; &quot;\n&quot;
+                &lt;&lt; &quot;This is normal on first startup!\n&quot;;
       return;
     }
-    
-    for(ConfigValues::iterator i = config_values.begin(); i != config_values.end(); ++i)
-      { // FIXME: all this dynamic_casting is overcomplicated crap
-        if (dynamic_cast&lt;ConfigValue&lt;int&gt;*&gt;(i-&gt;second))
-          {
-            int v;
-            if (reader.get(i-&gt;first.c_str(), v))
-              set_int(i-&gt;first, v);
-          }
-        else if (dynamic_cast&lt;ConfigValue&lt;bool&gt;*&gt;(i-&gt;second))
-          {
-            bool v;
-            if (reader.get(i-&gt;first.c_str(), v))
-              set_bool(i-&gt;first, v);
-          }
-        else if (dynamic_cast&lt;ConfigValue&lt;float&gt;*&gt;(i-&gt;second))
-          {
-            float v;
-            if (reader.get(i-&gt;first.c_str(), v))
-              set_float(i-&gt;first, v);
-          }
-        else if (dynamic_cast&lt;ConfigValue&lt;std::string&gt;*&gt;(i-&gt;second))
-          {
-            std::string v;
-            if (reader.get(i-&gt;first.c_str(), v))
-              set_string(i-&gt;first, v);
-          }
-        else 
-          {
-            std::cout &lt;&lt; &quot;Config: Unknown type for: &quot; &lt;&lt; i-&gt;first &lt;&lt; std::endl;
-          }
-      }
-    reader.print_unused_warnings(&quot;configfile&quot;);
-
-    // TODO read controller config
-  } catch(std::exception&amp; e) {
-    std::cerr &lt;&lt; &quot;Couldn't open config file: &quot; &lt;&lt; e.what() &lt;&lt; &quot;\n&quot;
-              &lt;&lt; &quot;This is normal on first startup!\n&quot;;
-    return;
-  }
 }
 
 void

Modified: trunk/windstille/src/app/console.cpp
===================================================================
--- trunk/windstille/src/app/console.cpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/app/console.cpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -359,7 +359,7 @@
 static std::string longest_prefix(const std::string&amp; lhs, const std::string rhs)
 {
   std::string::size_type i;
-  for(i = 0; i &lt; lhs.size() &amp;&amp; i &lt; rhs.size() &amp;&amp; lhs[i] == rhs[i]; ++i);
+  for(i = 0; i &lt; lhs.size() &amp;&amp; i &lt; rhs.size() &amp;&amp; lhs[i] == rhs[i]; ++i) {};
   return lhs.substr(0, i);
 }
 

Modified: trunk/windstille/src/display/blitter.cpp
===================================================================
--- trunk/windstille/src/display/blitter.cpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/display/blitter.cpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -87,11 +87,11 @@
 {
 #if SDL_BYTEORDER == SDL_BIG_ENDIAN
   SDL_Surface* pixelbuffer = SDL_CreateRGBSurface(SDL_SWSURFACE,
-                                                  1024, 1024, 32,
+                                                  width, height, 32,
                                                   0xff000000, 0x00ff0000, 0x0000ff00, 0x000000ff);
 #else
   SDL_Surface* pixelbuffer = SDL_CreateRGBSurface(SDL_SWSURFACE,
-                                                  1024, 1024, 32,
+                                                  width, height, 32,
                                                   0x000000ff, 0x0000ff00, 0x00ff0000, 0xff000000);
 #endif
   return pixelbuffer;

Modified: trunk/windstille/src/display/drawing_context.cpp
===================================================================
--- trunk/windstille/src/display/drawing_context.cpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/display/drawing_context.cpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -48,7 +48,7 @@
   }
   virtual ~FillScreenDrawingRequest() {}
 
-  void draw(const Texture&amp; tmp_texture) {
+  void draw(const Texture&amp; /*tmp_texture*/) {
     OpenGLState state;
     // FIXME: move clear color to opengl_state
     state.activate();
@@ -68,7 +68,7 @@
   {}
   virtual ~TextDrawingRequest() {}
 
-  void draw(const Texture&amp; tmp_texture) {
+  void draw(const Texture&amp; /*tmp_texture*/) {
     glPushMatrix();
     glMultMatrixf(modelview.matrix);
     Fonts::ttffont-&gt;draw(pos, text);
@@ -90,7 +90,7 @@
   virtual ~SurfaceDrawingRequest()
   {}
 
-  void draw(const Texture&amp; tmp_texture) 
+  void draw(const Texture&amp; /*tmp_texture*/) 
   {
     glPushMatrix();
     glMultMatrixf(modelview.matrix);

Modified: trunk/windstille/src/display/vertex_array_drawing_request.cpp
===================================================================
--- trunk/windstille/src/display/vertex_array_drawing_request.cpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/display/vertex_array_drawing_request.cpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -37,7 +37,7 @@
 }
 
 void
-VertexArrayDrawingRequest::draw(const Texture&amp; tmp_texture)
+VertexArrayDrawingRequest::draw(const Texture&amp; /*tmp_texture*/)
 {
   draw(0, num_vertices());
 }

Modified: trunk/windstille/src/engine/sector.cpp
===================================================================
--- trunk/windstille/src/engine/sector.cpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/engine/sector.cpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -117,7 +117,6 @@
       add_object(*i);
     }
 
-  reader.print_unused_warnings(&quot;sector&quot;);
   if (debug) std::cout &lt;&lt; &quot;Finished parsing&quot; &lt;&lt; std::endl;
 }
 

Modified: trunk/windstille/src/gui/automap.cpp
===================================================================
--- trunk/windstille/src/gui/automap.cpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/gui/automap.cpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -25,7 +25,7 @@
 
 namespace gui {
 
-Automap::Automap(FileReader&amp; reader, Component* parent)
+Automap::Automap(Component* parent)
   : Component(parent)
 {
   assert(0);

Modified: trunk/windstille/src/gui/automap.hpp
===================================================================
--- trunk/windstille/src/gui/automap.hpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/gui/automap.hpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -33,7 +33,7 @@
   float   zoom;
 
 public:
-  Automap(FileReader&amp; reader, Component* parent);
+  Automap(Component* parent);
   Automap(const Rectf&amp; rect, Component* parent);
   ~Automap();
 

Modified: trunk/windstille/src/gui/button.cpp
===================================================================
--- trunk/windstille/src/gui/button.cpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/gui/button.cpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -24,7 +24,7 @@
 
 namespace gui {
 
-Button::Button(FileReader&amp; reader, Component* parent)
+Button::Button(Component* parent)
   : Component(parent)
 {
   assert(0);

Modified: trunk/windstille/src/gui/button.hpp
===================================================================
--- trunk/windstille/src/gui/button.hpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/gui/button.hpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -31,7 +31,7 @@
   std::string label;
 
 public:
-  Button(FileReader&amp; reader, Component* parent);
+  Button(Component* parent);
   Button(const std::string&amp; label, Component* parent);
   ~Button();
 

Modified: trunk/windstille/src/gui/grid_component.cpp
===================================================================
--- trunk/windstille/src/gui/grid_component.cpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/gui/grid_component.cpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -23,7 +23,7 @@
 
 namespace gui {
 
-GridComponent::GridComponent(FileReader&amp; reader, Component* parent)
+GridComponent::GridComponent(Component* parent)
   : Component(parent)
 {
   assert(0);  

Modified: trunk/windstille/src/gui/grid_component.hpp
===================================================================
--- trunk/windstille/src/gui/grid_component.hpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/gui/grid_component.hpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -53,7 +53,7 @@
   float padding;
 
 public:
-  GridComponent(FileReader&amp; reader, Component* parent);
+  GridComponent(Component* parent);
   GridComponent(const Rectf&amp; rect, int weight, int height, Component* parent);
   virtual ~GridComponent();
   

Modified: trunk/windstille/src/gui/label.cpp
===================================================================
--- trunk/windstille/src/gui/label.cpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/gui/label.cpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -42,7 +42,7 @@
 }
 
 void
-Label::update(float delta, const Controller&amp; controller)
+Label::update(float /*delta*/, const Controller&amp; /*controller*/)
 {
   set_active(false);
 }

Modified: trunk/windstille/src/gui/slider.cpp
===================================================================
--- trunk/windstille/src/gui/slider.cpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/gui/slider.cpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -84,7 +84,7 @@
 }
 
 void
-Slider::update(float delta, const Controller&amp; controller)
+Slider::update(float /*delta*/, const Controller&amp; controller)
 {
   for(InputEventLst::const_iterator i = controller.get_events().begin(); i != controller.get_events().end(); ++i) 
     {

Modified: trunk/windstille/src/gui/tab_component.cpp
===================================================================
--- trunk/windstille/src/gui/tab_component.cpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/gui/tab_component.cpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -24,7 +24,7 @@
 
 namespace gui {
 
-TabComponent::TabComponent(FileReader&amp; reader, Component* parent)
+TabComponent::TabComponent(Component* parent)
   : Component(parent)
 {
   assert(0);

Modified: trunk/windstille/src/gui/tab_component.hpp
===================================================================
--- trunk/windstille/src/gui/tab_component.hpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/gui/tab_component.hpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -46,7 +46,7 @@
   int current_tab;
 
 public:
-  TabComponent(FileReader&amp; reader, Component* parent);
+  TabComponent(Component* parent);
   TabComponent(const Rectf&amp; rect, Component* parent);
   ~TabComponent();
 

Modified: trunk/windstille/src/hud/controller_help_window.cpp
===================================================================
--- trunk/windstille/src/hud/controller_help_window.cpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/hud/controller_help_window.cpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -127,7 +127,7 @@
 }
 
 void
-ControllerHelpWindow::update(float delta, const Controller&amp; )
+ControllerHelpWindow::update(float /*delta*/, const Controller&amp; )
 {
 }
 

Modified: trunk/windstille/src/input/input_manager_sdl.cpp
===================================================================
--- trunk/windstille/src/input/input_manager_sdl.cpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/input/input_manager_sdl.cpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -478,7 +478,7 @@
 }
 
 void
-InputManagerSDL::update(float delta)
+InputManagerSDL::update(float /*delta*/)
 {
 #ifdef HAVE_CWIID
   if (wiimote &amp;&amp; wiimote-&gt;is_connected())
@@ -565,9 +565,9 @@
 }
 
 void
-InputManagerSDL::bind_joystick_hat_axis(int event, int device, int axis)
+InputManagerSDL::bind_joystick_hat_axis(int /*event*/, int /*device*/, int /*axis*/)
 {
-  
+  assert(!&quot;Implement me&quot;);
 }
 
 void

Modified: trunk/windstille/src/input/wiimote.cpp
===================================================================
--- trunk/windstille/src/input/wiimote.cpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/input/wiimote.cpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -200,7 +200,7 @@
 }
 
 void
-Wiimote::add_button_event(int device, int button, bool down)
+Wiimote::add_button_event(int /*device*/, int button, bool down)
 {
   // std::cout &lt;&lt; &quot;Wiimote::add_button_event: &quot; &lt;&lt; device &lt;&lt; &quot; &quot; &lt;&lt; button &lt;&lt; &quot; &quot; &lt;&lt; down &lt;&lt; std::endl;
   WiimoteEvent event;
@@ -214,7 +214,7 @@
 }
 
 void
-Wiimote::add_axis_event(int device, int axis, float pos)
+Wiimote::add_axis_event(int /*device*/, int axis, float pos)
 {
   //std::cout &lt;&lt; &quot;Wiimote::add_axis_event: &quot; &lt;&lt; device &lt;&lt; &quot; &quot; &lt;&lt; axis &lt;&lt; &quot; &quot; &lt;&lt; pos &lt;&lt; std::endl;
 
@@ -229,7 +229,7 @@
 }
 
 void
-Wiimote::add_acc_event(int device, int accelerometer, float x, float y, float z)
+Wiimote::add_acc_event(int /*device*/, int accelerometer, float x, float y, float z)
 {
   WiimoteEvent event;
 
@@ -270,7 +270,7 @@
 }
 
 void
-Wiimote::on_error(const cwiid_error_mesg&amp; msg)
+Wiimote::on_error(const cwiid_error_mesg&amp; /*msg*/)
 {
   std::cout &lt;&lt; &quot;On Error&quot; &lt;&lt; std::endl;
 
@@ -430,7 +430,7 @@
 }
 
 void
-Wiimote::mesg(cwiid_wiimote_t* w, int mesg_count, union cwiid_mesg mesg[])
+Wiimote::mesg(cwiid_wiimote_t* /*w*/, int mesg_count, union cwiid_mesg mesg[])
 {
   pthread_mutex_lock(&amp;mutex);
 

Modified: trunk/windstille/src/navigation/navigation_graph.hpp
===================================================================
--- trunk/windstille/src/navigation/navigation_graph.hpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/navigation/navigation_graph.hpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -111,6 +111,7 @@
 
   bool valid(Segment* segment);
   bool valid(Node*    node);
+
 private:
   NavigationGraph (const NavigationGraph&amp;);
   NavigationGraph&amp; operator= (const NavigationGraph&amp;);

Modified: trunk/windstille/src/navigation/node.hpp
===================================================================
--- trunk/windstille/src/navigation/node.hpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/navigation/node.hpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -40,13 +40,14 @@
   ~Node();
 
   Vector2f get_pos() const { return pos; }
-  void   set_pos(const Vector2f&amp; p) { pos = p; }
+  void     set_pos(const Vector2f&amp; p) { pos = p; }
 
   /** Connect the given segment to the node, the position is used to
       mark the end of the segment that is actually connected */
   void add_segment(const SegmentPosition&amp; segment);
 
   void remove_segment(Segment* segment);
+
 private:
   Node(const Node&amp;);
   Node&amp; operator=(const Node&amp;);

Modified: trunk/windstille/src/navigation/segment.cpp
===================================================================
--- trunk/windstille/src/navigation/segment.cpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/navigation/segment.cpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -36,7 +36,7 @@
 }
 
 float
-Segment::angle(Segment* seg)
+Segment::angle(Segment* /*seg*/)
 {
   assert(!&quot;Implement me&quot;);
   return 0.0f;

Modified: trunk/windstille/src/objects/background_gradient.cpp
===================================================================
--- trunk/windstille/src/objects/background_gradient.cpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/objects/background_gradient.cpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -50,7 +50,7 @@
 }
   
 void
-BackgroundGradient::update(float delta)
+BackgroundGradient::update(float /*delta*/)
 {
 }
 

Modified: trunk/windstille/src/objects/box.cpp
===================================================================
--- trunk/windstille/src/objects/box.cpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/objects/box.cpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -41,7 +41,6 @@
   props.get(&quot;vel&quot;, vel);
   props.get(&quot;name&quot;, name);
   props.get(&quot;gravity&quot;, gravity);
-  props.print_unused_warnings(&quot;box object&quot;);
   
   if(spritename == &quot;&quot;)
     throw std::runtime_error(&quot;No sprite name specified in Box&quot;);

Modified: trunk/windstille/src/objects/character.cpp
===================================================================
--- trunk/windstille/src/objects/character.cpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/objects/character.cpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -43,7 +43,6 @@
   props.get(&quot;z-pos&quot;, z_pos);
   props.get(&quot;sprite3d&quot;, sprite3d_filename);
   props.get(&quot;action&quot;, action_name);
-  props.print_unused_warnings(&quot;character&quot;);
   
   sprite = Sprite3D(sprite3d_filename);
 

Modified: trunk/windstille/src/objects/elevator.cpp
===================================================================
--- trunk/windstille/src/objects/elevator.cpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/objects/elevator.cpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -29,8 +29,7 @@
   props.get(&quot;sprite&quot;, spritename);
   props.get(&quot;pos&quot;, pos);
   props.get(&quot;name&quot;, name);
-  props.print_unused_warnings(&quot;elevator&quot;);
-
+  
   if(spritename == &quot;&quot;)
     throw std::runtime_error(&quot;No sprite name specified in Elevator&quot;);
 

Modified: trunk/windstille/src/objects/hedgehog.cpp
===================================================================
--- trunk/windstille/src/objects/hedgehog.cpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/objects/hedgehog.cpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -29,8 +29,7 @@
 {
   props.get(&quot;name&quot;, name);
   props.get(&quot;pos&quot;,  pos);
-  props.print_unused_warnings(&quot;hedgehog&quot;);
-  
+    
   direction_left = false;
   state = WALKING;
   light.set_blend_func(GL_SRC_ALPHA, GL_ONE);

Modified: trunk/windstille/src/objects/liquid.cpp
===================================================================
--- trunk/windstille/src/objects/liquid.cpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/objects/liquid.cpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -29,8 +29,7 @@
 
   props.get(&quot;pos&quot;,    pos);
   props.get(&quot;width&quot;,  width);
-  props.print_unused_warnings(&quot;Liquid&quot;);
-
+  
   heightfield1 = &amp;heightfield_store1;
   heightfield2 = &amp;heightfield_store2;
 

Modified: trunk/windstille/src/objects/nightvision.cpp
===================================================================
--- trunk/windstille/src/objects/nightvision.cpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/objects/nightvision.cpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -24,7 +24,7 @@
 #include &quot;display/texture_manager.hpp&quot;
 #include &quot;nightvision.hpp&quot;
 
-Nightvision::Nightvision(FileReader&amp; props)
+Nightvision::Nightvision(FileReader&amp; /*props*/)
   : nightvision(&quot;images/nightvision.sprite&quot;)
 {
   name = &quot;nightvision&quot;;

Modified: trunk/windstille/src/objects/scriptable_object.cpp
===================================================================
--- trunk/windstille/src/objects/scriptable_object.cpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/objects/scriptable_object.cpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -43,8 +43,7 @@
   props.get(&quot;active&quot;, active);
   props.get(&quot;flash-speed&quot;, flash_speed); // FIXME: bad name, should be something more generic
   props.get(&quot;z-pos&quot;, z_pos);
-  props.print_unused_warnings(&quot;scriptable-object&quot;);
-  
+    
   if (use_verb != &quot;&quot;)
     set_useable(true);
   

Modified: trunk/windstille/src/objects/shockwave.cpp
===================================================================
--- trunk/windstille/src/objects/shockwave.cpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/objects/shockwave.cpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -223,8 +223,7 @@
   : noise(&quot;images/noise3.png&quot;)
 {
   props.get(&quot;pos&quot;, pos);
-  props.print_unused_warnings(&quot;Shockwave&quot;);
-
+  
   radius = 100.0f;
 
   noise.set_wrap(GL_REPEAT);

Modified: trunk/windstille/src/objects/spider_mine.cpp
===================================================================
--- trunk/windstille/src/objects/spider_mine.cpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/objects/spider_mine.cpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -26,8 +26,7 @@
 {
   props.get(&quot;name&quot;, name);
   props.get(&quot;pos&quot;,  pos);
-  props.print_unused_warnings(&quot;spidermine&quot;);
-  
+    
   sprite = Sprite(&quot;images/spider_mine.sprite&quot;);
   //sprite.set_scale(.5, .5);
   initial_position = pos;

Modified: trunk/windstille/src/objects/swarm.cpp
===================================================================
--- trunk/windstille/src/objects/swarm.cpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/objects/swarm.cpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -36,8 +36,7 @@
   props.get(&quot;pos&quot;,   pos);
   props.get(&quot;count&quot;, count);
   props.get(&quot;turn-speed&quot;, turn_speed);
-  props.print_unused_warnings(&quot;swarm&quot;);
-
+  
   agents.resize(count);
 
   for(Agents::iterator i = agents.begin(); i != agents.end(); ++i)

Modified: trunk/windstille/src/objects/test_object.cpp
===================================================================
--- trunk/windstille/src/objects/test_object.cpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/objects/test_object.cpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -30,8 +30,7 @@
   props.get(&quot;sprite&quot;, spritename);
   props.get(&quot;pos&quot;, pos);
   props.get(&quot;name&quot;, name);
-  props.print_unused_warnings(&quot;testobject&quot;);
-
+  
   if(spritename == &quot;&quot;)
     throw std::runtime_error(&quot;No sprite name specified in TestObject&quot;);
   sprite = Sprite3D(spritename);

Modified: trunk/windstille/src/objects/trigger.cpp
===================================================================
--- trunk/windstille/src/objects/trigger.cpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/objects/trigger.cpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -37,8 +37,7 @@
   props.get(&quot;height&quot;, height);
   props.get(&quot;callback&quot;, callback);
   props.get(&quot;one-time-trigger&quot;, one_time_trigger);
-  props.print_unused_warnings(&quot;trigger&quot;);
-
+  
   if(x &lt; 0 || y &lt; 0 || width &lt; 0 || height &lt; 0)
     throw std::runtime_error(&quot;Invalid or missing area in Trigger object&quot;);
  
@@ -58,29 +57,31 @@
 }
 
 void
-Trigger::update(float delta)
+Trigger::update(float /*delta*/)
 {
   //FIXME use proper collision detection
   Player* player = Player::current();
-  if(!area.is_inside(player-&gt;get_pos())) {
-    last_trigger = false;
-    return;
-  }
+  if(!area.is_inside(player-&gt;get_pos())) 
+    {
+      last_trigger = false;
+      return;
+    }
   
   if(triggered &amp;&amp; one_time_trigger)
     return;
 
-  if(last_trigger == false) {
-    triggered = true;
-    try 
-      {
-        Sector::current()-&gt;call_script_function(callback);
-      }
-    catch(std::exception&amp; e) 
-      {
-        std::cerr &lt;&lt; &quot;Couldn't run trigger-script: &quot; &lt;&lt; e.what() &lt;&lt; &quot;\n&quot;;
-      }
-  }
+  if(last_trigger == false) 
+    {
+      triggered = true;
+      try 
+        {
+          Sector::current()-&gt;call_script_function(callback);
+        }
+      catch(std::exception&amp; e) 
+        {
+          std::cerr &lt;&lt; &quot;Couldn't run trigger-script: &quot; &lt;&lt; e.what() &lt;&lt; &quot;\n&quot;;
+        }
+    }
   last_trigger = true;
 }
 

Modified: trunk/windstille/src/objects/vrdummy.cpp
===================================================================
--- trunk/windstille/src/objects/vrdummy.cpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/objects/vrdummy.cpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -23,8 +23,7 @@
 {
   props.get(&quot;name&quot;, name);
   props.get(&quot;pos&quot;,  pos);
-  props.print_unused_warnings(&quot;VRDummy&quot;);
-  
+    
   sprite = Sprite3D(&quot;models/characters/vrdummy/vrdummy.wsprite&quot;);
   rotation = 0;
 

Modified: trunk/windstille/src/particles/deform_drawer.cpp
===================================================================
--- trunk/windstille/src/particles/deform_drawer.cpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/particles/deform_drawer.cpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -162,7 +162,7 @@
   bool needs_prepare() { return true; }
 };
 
-DeformDrawer::DeformDrawer(FileReader&amp; props)
+DeformDrawer::DeformDrawer(FileReader&amp; /*props*/)
   : framebuffer(GL_TEXTURE_RECTANGLE_ARB, 800, 600),
     surface(&quot;images/particles/deform2.png&quot;)
 {

Modified: trunk/windstille/src/particles/particle_system.cpp
===================================================================
--- trunk/windstille/src/particles/particle_system.cpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/particles/particle_system.cpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -208,7 +208,6 @@
   //props.get(&quot;line-distribution&quot;,   ); // 2xvector2
   //props.get(&quot;circle&quot;, ); // float
   //props.get(&quot;rect-distribution&quot;, ); // vector2
-  props.print_unused_warnings(&quot;ParticleSystem&quot;);
 }
 
 ParticleSystem::ParticleSystem()
@@ -332,8 +331,9 @@
 }
 
 void
-ParticleSystem::set_cycles(float num)
+ParticleSystem::set_cycles(float /*num*/)
 {
+  assert(!&quot;Implement me&quot;);
 }
 
 void

Modified: trunk/windstille/src/particles/surface_drawer.cpp
===================================================================
--- trunk/windstille/src/particles/surface_drawer.cpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/particles/surface_drawer.cpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -59,8 +59,7 @@
   props.get(&quot;image&quot;, surface_file);
   props.get(&quot;blendfunc-src&quot;, blendfunc_src_str);
   props.get(&quot;blendfunc-dst&quot;, blendfunc_dst_str);
-  props.print_unused_warnings(&quot;SurfaceDrawer&quot;);
-  
+    
   surface = SurfaceManager::current()-&gt;get(surface_file);
 
   blendfunc_src  = string2blendfunc(blendfunc_src_str);

Modified: trunk/windstille/src/screen/navigation_test.cpp
===================================================================
--- trunk/windstille/src/screen/navigation_test.cpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/screen/navigation_test.cpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -109,10 +109,10 @@
     }
 
   cursor += Vector2f(controller.get_axis_state(X_AXIS) * 500.0f * delta,
-                   controller.get_axis_state(Y_AXIS) * 500.0f * delta);
+                     controller.get_axis_state(Y_AXIS) * 500.0f * delta);
 
   stick = Vector2f(controller.get_axis_state(X2_AXIS),
-                 controller.get_axis_state(Y2_AXIS));
+                   controller.get_axis_state(Y2_AXIS));
 
   if (controller.button_was_pressed(PRIMARY_BUTTON))
     {
@@ -222,10 +222,11 @@
         }
 
       std::vector&lt;SegmentPosition&gt; positions = graph-&gt;find_intersections(Line(old_player, player));
-      if (!positions.empty()) {
-        std::cout &lt;&lt; &quot;Doing connection&quot; &lt;&lt; std::endl;
-        connection.reset(new SegmentPosition(positions.front()));
-      }
+      if (!positions.empty()) 
+        {
+          std::cout &lt;&lt; &quot;Doing connection&quot; &lt;&lt; std::endl;
+          connection.reset(new SegmentPosition(positions.front()));
+        }
     }
   
   if (controller.button_was_pressed(SELECT_BUTTON))

Modified: trunk/windstille/src/screen/title_screen.cpp
===================================================================
--- trunk/windstille/src/screen/title_screen.cpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/screen/title_screen.cpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -46,7 +46,7 @@
 }
 
 void
-TitleScreen::update(float delta, const Controller&amp; controller)
+TitleScreen::update(float delta, const Controller&amp; /*controller*/)
 {
   background.update(delta);
 }

Modified: trunk/windstille/src/sprite2d/data.cpp
===================================================================
--- trunk/windstille/src/sprite2d/data.cpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/sprite2d/data.cpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -144,16 +144,13 @@
       grid_reader.get(&quot;x-size&quot;, x_size);
       grid_reader.get(&quot;y-size&quot;, y_size);
 
-      grid_reader.print_unused_warnings(&quot;action image-grid&quot;);
-
       if(filename == &quot;&quot; || x_size &lt;= 0 || y_size &lt;= 0)
         throw std::runtime_error(&quot;Invalid or too few data in image-grid&quot;);
       
       SurfaceManager::current()-&gt;load_grid(dir + &quot;/&quot; + filename,
                                            action-&gt;surfaces, x_size, y_size);
     }
-  reader.print_unused_warnings(&quot;sprite action&quot;);
-  
+    
   if(action-&gt;name == &quot;&quot;)
     throw std::runtime_error(&quot;No Name defined for action&quot;);
   if(action-&gt;surfaces.size() == 0) {

Modified: trunk/windstille/src/sprite3d/sprite3d.cpp
===================================================================
--- trunk/windstille/src/sprite3d/sprite3d.cpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/sprite3d/sprite3d.cpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -246,7 +246,7 @@
     : DrawingRequest(pos, z_pos, modelview), sprite(sprite)
   {}
 
-  void draw(const Texture&amp; tmp_texture)
+  void draw(const Texture&amp; /*tmp_texture*/)
   {
     sprite-&gt;draw(pos, modelview);
   }

Modified: trunk/windstille/src/tile/tile_description.cpp
===================================================================
--- trunk/windstille/src/tile/tile_description.cpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/tile/tile_description.cpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -36,9 +36,7 @@
   props.get(&quot;colmap&quot;, colmap);
   props.get(&quot;width&quot;,  width);
   props.get(&quot;height&quot;, height);
-    
-  props.print_unused_warnings(&quot;tiles&quot;);
-
+  
   if(filename == &quot;&quot;)
     throw std::runtime_error(&quot;Missing color-image&quot;);
 }

Modified: trunk/windstille/src/tile/tile_factory.cpp
===================================================================
--- trunk/windstille/src/tile/tile_factory.cpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/tile/tile_factory.cpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -82,7 +82,6 @@
         // ignore
       }
     }
-  reader.print_unused_warnings(&quot;TileFactory&quot;);
 }
 
 TileFactory::~TileFactory()

Modified: trunk/windstille/src/tile/tile_map.cpp
===================================================================
--- trunk/windstille/src/tile/tile_map.cpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/tile/tile_map.cpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -93,10 +93,7 @@
         }
     }
 
-  props.print_unused_warnings(&quot;tilemap&quot;);
-
-
-  if(field.size() == 0)
+  if (field.size() == 0)
     throw std::runtime_error(&quot;No tiles defined in tilemap&quot;);  
 }
 

Modified: trunk/windstille/src/util/file_reader.cpp
===================================================================
--- trunk/windstille/src/util/file_reader.cpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/util/file_reader.cpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -160,10 +160,4 @@
     return std::vector&lt;FileReader&gt;();
 }
 
-void
-FileReader::print_unused_warnings(const std::string&amp; title) const
-{
-  // unimplemented
-}
-
 /* EOF */

Modified: trunk/windstille/src/util/file_reader.hpp
===================================================================
--- trunk/windstille/src/util/file_reader.hpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/util/file_reader.hpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -75,8 +75,6 @@
   bool read(const char* name, std::vector&lt;float&gt;&amp; v);
   bool read(const char* name, std::vector&lt;std::string&gt;&amp; v);
 
-  void print_unused_warnings(const std::string&amp; title) const;
-
 private:
   boost::shared_ptr&lt;FileReaderImpl&gt; impl;
 };

Modified: trunk/windstille/src/util/util.hpp
===================================================================
--- trunk/windstille/src/util/util.hpp	2009-03-15 00:44:09 UTC (rev 2675)
+++ trunk/windstille/src/util/util.hpp	2009-03-16 00:29:41 UTC (rev 2676)
@@ -54,6 +54,9 @@
         &lt;&lt; gluErrorString(error);
     throw std::runtime_error(msg.str());
   }
+#else
+  // Stop compiler from issueing 'unused parameter'
+  do { (void)(message); } while (0);
 #endif
 }
 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001672.html">[Windstille-commit] r2675 - trunk/windstille/src/hud
</A></li>
	<LI>Next message: <A HREF="001674.html">[Windstille-commit] r2677 - trunk/windstille
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1673">[ date ]</a>
              <a href="thread.html#1673">[ thread ]</a>
              <a href="subject.html#1673">[ subject ]</a>
              <a href="author.html#1673">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/windstille-commit">More information about the Windstille-commit
mailing list</a><br>
</body></html>
