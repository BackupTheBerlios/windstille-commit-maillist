<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Windstille-commit] r2769 - in trunk/windstille: .	data/sectors/trainstation src/editor src/util
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/windstille-commit/2009-March/index.html" >
   <LINK REL="made" HREF="mailto:windstille-commit%40lists.berlios.de?Subject=Re%3A%20%5BWindstille-commit%5D%20r2769%20-%20in%20trunk/windstille%3A%20.%0A%09data/sectors/trainstation%20src/editor%20src/util&In-Reply-To=%3C200903260308.n2Q38CZ1030211%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001765.html">
   <LINK REL="Next"  HREF="001767.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Windstille-commit] r2769 - in trunk/windstille: .	data/sectors/trainstation src/editor src/util</H1>
    <B>grumbel at BerliOS</B> 
    <A HREF="mailto:windstille-commit%40lists.berlios.de?Subject=Re%3A%20%5BWindstille-commit%5D%20r2769%20-%20in%20trunk/windstille%3A%20.%0A%09data/sectors/trainstation%20src/editor%20src/util&In-Reply-To=%3C200903260308.n2Q38CZ1030211%40sheep.berlios.de%3E"
       TITLE="[Windstille-commit] r2769 - in trunk/windstille: .	data/sectors/trainstation src/editor src/util">grumbel at mail.berlios.de
       </A><BR>
    <I>Thu Mar 26 04:08:12 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001765.html">[Windstille-commit] r2768 - in trunk/windstille: .	data/sectors/trainstation src/editor src/util
</A></li>
        <LI>Next message: <A HREF="001767.html">[Windstille-commit] r2770 - in trunk/windstille: . src/editor
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1766">[ date ]</a>
              <a href="thread.html#1766">[ thread ]</a>
              <a href="subject.html#1766">[ subject ]</a>
              <a href="author.html#1766">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: grumbel
Date: 2009-03-26 04:08:10 +0100 (Thu, 26 Mar 2009)
New Revision: 2769

Added:
   trunk/windstille/src/editor/layers.hpp
Removed:
   trunk/windstille/src/editor/layer.hpp
Modified:
   trunk/windstille/TODO
   trunk/windstille/data/sectors/trainstation/trainstation.wst
   trunk/windstille/src/editor/layer_widget.cpp
   trunk/windstille/src/editor/layer_widget.hpp
   trunk/windstille/src/editor/object_model.cpp
   trunk/windstille/src/editor/object_model.hpp
   trunk/windstille/src/editor/sector_model.cpp
   trunk/windstille/src/editor/sector_model.hpp
   trunk/windstille/src/editor/windstille_widget.cpp
   trunk/windstille/src/editor/windstille_widget.hpp
   trunk/windstille/src/util/file_reader.cpp
   trunk/windstille/src/util/file_reader.hpp
   trunk/windstille/src/util/file_reader_impl.hpp
   trunk/windstille/src/util/file_writer.cpp
   trunk/windstille/src/util/file_writer.hpp
Log:
Removed layer count to 16, renamed Layer to Layers

Modified: trunk/windstille/TODO
===================================================================
--- trunk/windstille/TODO	2009-03-26 01:46:44 UTC (rev 2768)
+++ trunk/windstille/TODO	2009-03-26 03:08:10 UTC (rev 2769)
@@ -499,8 +499,19 @@
 Editor
 ======
 
-* lisp can't save uint32_t, maybe should save layer mask as string or so
+* add a way to move object to a different layer
 
+* add keyboard shortcut important stuff:
+
+  - layer toggle 1,2,3,4,5,...
+  - color, light, highlight toggle
+  - mark all objects
+  - delete object
+  - duplicate object
+
+* lisp can't save uint32_t, maybe should save layer mask as string or
+  limit it to a uint16_t or whatever
+
 * add recent files
 
 * add difference between &quot;save&quot; and &quot;save as&quot;, along with overwrite warnings
@@ -511,17 +522,14 @@
 
 * lightmap objects are hard to see
 
-* decal needs to be scalable and have vertices moveable
+* decal needs to be scalable and have vertices moveable, also color
+  needs to be adjustable
 
-* add button to toggle background pattern
-
 * make duplicated objects insert near those from which they where cloned
 
 * WindstilleWidget contains garbage when its first created, it gets
   however cleaned up in later redraws
 
-* think about load/save
-
 * think about Undo/Redo
 
 * layer move tool

Modified: trunk/windstille/data/sectors/trainstation/trainstation.wst
===================================================================
--- trunk/windstille/data/sectors/trainstation/trainstation.wst	2009-03-26 01:46:44 UTC (rev 2768)
+++ trunk/windstille/data/sectors/trainstation/trainstation.wst	2009-03-26 03:08:10 UTC (rev 2769)
@@ -8,1548 +8,1806 @@
     (decal
       (pos -1060.64 577.839)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/light.png&quot;)
       (type 1)
       )
     (decal
       (pos -2115.12 1225.16)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/noise.png&quot;)
       (type 0)
       )
     (decal
       (pos -2120.61 981.188)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/noise.png&quot;)
       (type 0)
       )
     (decal
       (pos -1721.87 520.367)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/objects/elevatordoor_left.png&quot;)
       (type 0)
       )
     (decal
       (pos -1721.87 392.367)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/objects/elevatordoor_left.png&quot;)
       (type 0)
       )
     (decal
       (pos -602.767 343.23)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/dark.png&quot;)
       (type 0)
       )
     (decal
       (pos -1091.77 303.729)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/rooflamp_bloom.png&quot;)
       (type 2)
       )
     (decal
       (pos -1072.91 403.374)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/light.png&quot;)
       (type 2)
       )
     (decal
       (pos -1553.29 729.292)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/light.png&quot;)
       (type 1)
       )
     (decal
       (pos -1210.12 845.062)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/light.png&quot;)
       (type 1)
       )
     (decal
       (pos -475.483 759.19)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/light.png&quot;)
       (type 1)
       )
     (decal
       (pos 2219.07 674.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate_small.png&quot;)
       (type 0)
       )
     (decal
       (pos 2094.53 482.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate.png&quot;)
       (type 0)
       )
     (decal
       (pos 2091.07 674.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate_small.png&quot;)
       (type 0)
       )
     (decal
       (pos 1835.07 674.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate_small.png&quot;)
       (type 0)
       )
     (decal
       (pos 1838.54 482.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate.png&quot;)
       (type 0)
       )
     (decal
       (pos 1963.07 674.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate_small.png&quot;)
       (type 0)
       )
     (decal
       (pos 1451.07 674.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate_small.png&quot;)
       (type 0)
       )
     (decal
       (pos 1326.54 482.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate.png&quot;)
       (type 0)
       )
     (decal
       (pos 1323.07 674.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate_small.png&quot;)
       (type 0)
       )
     (decal
       (pos 1579.07 674.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate_small.png&quot;)
       (type 0)
       )
     (decal
       (pos 1582.54 482.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate.png&quot;)
       (type 0)
       )
     (decal
       (pos 1707.07 674.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate_small.png&quot;)
       (type 0)
       )
     (decal
       (pos 683.078 674.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate_small.png&quot;)
       (type 0)
       )
     (decal
       (pos 558.531 482.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate.png&quot;)
       (type 0)
       )
     (decal
       (pos 555.078 674.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate_small.png&quot;)
       (type 0)
       )
     (decal
       (pos 299.078 674.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate_small.png&quot;)
       (type 0)
       )
     (decal
       (pos 302.531 482.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate.png&quot;)
       (type 0)
       )
     (decal
       (pos 427.078 674.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate_small.png&quot;)
       (type 0)
       )
     (decal
       (pos 939.078 674.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate_small.png&quot;)
       (type 0)
       )
     (decal
       (pos 814.531 482.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate.png&quot;)
       (type 0)
       )
     (decal
       (pos 811.078 674.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate_small.png&quot;)
       (type 0)
       )
     (decal
       (pos 1067.08 674.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate_small.png&quot;)
       (type 0)
       )
     (decal
       (pos 1070.53 482.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate.png&quot;)
       (type 0)
       )
     (decal
       (pos 1195.07 674.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate_small.png&quot;)
       (type 0)
       )
     (decal
       (pos -852.922 674.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate_small.png&quot;)
       (type 0)
       )
     (decal
       (pos -977.465 482.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate.png&quot;)
       (type 0)
       )
     (decal
       (pos -980.925 674.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate_small.png&quot;)
       (type 0)
       )
     (decal
       (pos -340.922 674.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate_small.png&quot;)
       (type 0)
       )
     (decal
       (pos -465.469 482.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate.png&quot;)
       (type 0)
       )
     (decal
       (pos -468.922 674.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate_small.png&quot;)
       (type 0)
       )
     (decal
       (pos -724.922 674.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate_small.png&quot;)
       (type 0)
       )
     (decal
       (pos -721.469 482.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate.png&quot;)
       (type 0)
       )
     (decal
       (pos -596.922 674.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate_small.png&quot;)
       (type 0)
       )
     (decal
       (pos -84.922 674.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate_small.png&quot;)
       (type 0)
       )
     (decal
       (pos -209.469 482.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate.png&quot;)
       (type 0)
       )
     (decal
       (pos -212.922 674.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate_small.png&quot;)
       (type 0)
       )
     (decal
       (pos 43.0781 674.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate_small.png&quot;)
       (type 0)
       )
     (decal
       (pos 46.5312 482.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate.png&quot;)
       (type 0)
       )
     (decal
       (pos 171.078 674.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate_small.png&quot;)
       (type 0)
       )
     (decal
       (pos -916.925 918.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate_bottom.png&quot;)
       (type 0)
       )
     (decal
       (pos -660.925 918.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate_bottom.png&quot;)
       (type 0)
       )
     (decal
       (pos -148.925 918.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate_bottom.png&quot;)
       (type 0)
       )
     (decal
       (pos -404.925 918.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate_bottom.png&quot;)
       (type 0)
       )
     (decal
       (pos 619.075 918.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate_bottom.png&quot;)
       (type 0)
       )
     (decal
       (pos 875.075 918.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate_bottom.png&quot;)
       (type 0)
       )
     (decal
       (pos 363.075 918.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate_bottom.png&quot;)
       (type 0)
       )
     (decal
       (pos 107.075 918.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate_bottom.png&quot;)
       (type 0)
       )
     (decal
       (pos 1899.07 918.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate_bottom.png&quot;)
       (type 0)
       )
     (decal
       (pos 2155.07 918.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate_bottom.png&quot;)
       (type 0)
       )
     (decal
       (pos 1387.07 918.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate_bottom.png&quot;)
       (type 0)
       )
     (decal
       (pos 1643.07 918.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate_bottom.png&quot;)
       (type 0)
       )
     (decal
       (pos 1131.07 918.539)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/tunnelplate_bottom.png&quot;)
       (type 0)
       )
     (decal
       (pos 980.65 428.895)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/rooflamp.png&quot;)
       (type 0)
       )
     (decal
       (pos -189.618 1273.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/stone.png&quot;)
       (type 0)
       )
     (decal
       (pos -445.618 1273.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/stone.png&quot;)
       (type 0)
       )
     (decal
       (pos 578.382 1273.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/stone.png&quot;)
       (type 0)
       )
     (decal
       (pos 834.382 1273.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/stone.png&quot;)
       (type 0)
       )
     (decal
       (pos 322.382 1273.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/stone.png&quot;)
       (type 0)
       )
     (decal
       (pos 66.382 1273.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/stone.png&quot;)
       (type 0)
       )
     (decal
       (pos 1602.39 1273.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/stone.png&quot;)
       (type 0)
       )
     (decal
       (pos 1858.39 1273.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/stone.png&quot;)
       (type 0)
       )
     (decal
       (pos 1346.39 1273.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/stone.png&quot;)
       (type 0)
       )
     (decal
       (pos 1090.39 1273.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/stone.png&quot;)
       (type 0)
       )
     (decal
       (pos 1858.39 1187.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/rail.png&quot;)
       (type 0)
       )
     (decal
       (pos 1346.39 1187.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/rail.png&quot;)
       (type 0)
       )
     (decal
       (pos 1602.39 1187.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/rail.png&quot;)
       (type 0)
       )
     (decal
       (pos 834.382 1187.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/rail.png&quot;)
       (type 0)
       )
     (decal
       (pos 578.382 1187.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/rail.png&quot;)
       (type 0)
       )
     (decal
       (pos 1090.39 1187.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/rail.png&quot;)
       (type 0)
       )
     (decal
       (pos 66.382 1187.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/rail.png&quot;)
       (type 0)
       )
     (decal
       (pos -189.618 1187.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/rail.png&quot;)
       (type 0)
       )
     (decal
       (pos 322.382 1187.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/rail.png&quot;)
       (type 0)
       )
     (decal
       (pos -445.618 1187.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/rail.png&quot;)
       (type 0)
       )
     (decal
       (pos 194.382 1380.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/stone2.png&quot;)
       (type 0)
       )
     (decal
       (pos 706.382 1380.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/stone2.png&quot;)
       (type 0)
       )
     (decal
       (pos 1730.39 1380.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/stone2.png&quot;)
       (type 0)
       )
     (decal
       (pos 1218.39 1380.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/stone2.png&quot;)
       (type 0)
       )
     (decal
       (pos -317.618 1380.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/stone2.png&quot;)
       (type 0)
       )
     (decal
       (pos -687.714 368.055)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/wallplate.png&quot;)
       (type 0)
       )
     (decal
       (pos -661.151 417.93)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/wallplate.png&quot;)
       (type 0)
       )
     (decal
       (pos -917.151 417.93)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/wallplate.png&quot;)
       (type 0)
       )
     (decal
       (pos -917.151 289.93)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/wallplate.png&quot;)
       (type 0)
       )
     (decal
       (pos -917.151 673.93)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/wallplate.png&quot;)
       (type 0)
       )
     (decal
       (pos -917.151 545.93)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/wallplate.png&quot;)
       (type 0)
       )
     (decal
       (pos -442.601 533.52)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/dark.png&quot;)
       (type 0)
       )
     (decal
       (pos -523.101 831.145)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/dark.png&quot;)
       (type 0)
       )
     (decal
       (pos -661.151 673.93)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/wallplate.png&quot;)
       (type 0)
       )
     (decal
       (pos -661.151 545.93)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/wallplate.png&quot;)
       (type 0)
       )
     (decal
       (pos -1173.15 545.93)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/wallplate.png&quot;)
       (type 0)
       )
     (decal
       (pos -1173.15 673.93)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/wallplate.png&quot;)
       (type 0)
       )
     (decal
       (pos -1429.15 545.93)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/wallplate.png&quot;)
       (type 0)
       )
     (decal
       (pos -1429.15 673.93)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/wallplate.png&quot;)
       (type 0)
       )
     (decal
       (pos -1429.15 289.93)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/wallplate.png&quot;)
       (type 0)
       )
     (decal
       (pos -1429.15 417.93)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/wallplate.png&quot;)
       (type 0)
       )
     (decal
       (pos -1173.15 417.93)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/wallplate.png&quot;)
       (type 0)
       )
     (decal
       (pos -1171.2 289.93)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/wallplate.png&quot;)
       (type 0)
       )
     (decal
       (pos -1173.15 801.93)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/wallplate.png&quot;)
       (type 0)
       )
     (decal
       (pos -1429.15 801.93)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/wallplate.png&quot;)
       (type 0)
       )
     (decal
       (pos -1368.62 854.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/stairs.png&quot;)
       (type 0)
       )
     (decal
       (pos -1365.87 618.726)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/stairs.png&quot;)
       (type 0)
       )
     (decal
       (pos -1592.87 918.367)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/stairs.png&quot;)
       (type 0)
       )
     (decal
       (pos -1592.87 687.93)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/stairs.png&quot;)
       (type 0)
       )
     (decal
       (pos -1695.53 1074.91)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/dark.png&quot;)
       (type 0)
       )
     (decal
       (pos -1863.92 1227.11)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/noise.png&quot;)
       (type 0)
       )
     (decal
       (pos -661.151 929.93)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/wallplate.png&quot;)
       (type 0)
       )
     (decal
       (pos -661.151 1057.93)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/wallplate.png&quot;)
       (type 0)
       )
     (decal
       (pos -917.151 801.93)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/wallplate.png&quot;)
       (type 0)
       )
     (decal
       (pos -661.151 801.93)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/wallplate.png&quot;)
       (type 0)
       )
     (decal
       (pos -886.121 964.121)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/dark.png&quot;)
       (type 0)
       )
     (decal
       (pos 240.218 886.438)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/board.png&quot;)
       (type 0)
       )
     (decal
       (pos 889.175 913.438)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/terminal.png&quot;)
       (type 0)
       )
     (decal
       (pos 11.4759 1103.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/ground.png&quot;)
       (type 0)
       )
     (decal
       (pos -296.524 1103.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/ground.png&quot;)
       (type 0)
       )
     (decal
       (pos 935.125 1103.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/ground.png&quot;)
       (type 0)
       )
     (decal
       (pos 1243.12 1103.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/ground.png&quot;)
       (type 0)
       )
     (decal
       (pos 627.476 1103.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/ground.png&quot;)
       (type 0)
       )
     (decal
       (pos 319.476 1103.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/ground.png&quot;)
       (type 0)
       )
     (decal
       (pos 1551.12 1103.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/ground.png&quot;)
       (type 0)
       )
     (decal
       (pos 2166.77 1103.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/ground.png&quot;)
       (type 0)
       )
     (decal
       (pos 1858.77 1103.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/ground.png&quot;)
       (type 0)
       )
     (decal
       (pos 228.959 426.715)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/rooflamp.png&quot;)
       (type 0)
       )
     (decal
       (pos 1640.35 434.301)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/rooflamp.png&quot;)
       (type 0)
       )
     (decal
       (pos -1392.79 326.273)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/handrail2.png&quot;)
       (type 0)
       )
     (decal
       (pos -1281.79 406.929)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/handrail2.png&quot;)
       (type 0)
       )
     (decal
       (pos -1170.79 482.226)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/handrail2.png&quot;)
       (type 0)
       )
     (decal
       (pos -1059.79 558.976)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/handrail2.png&quot;)
       (type 0)
       )
     (decal
       (pos -954.791 632.226)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/handrail2.png&quot;)
       (type 0)
       )
     (decal
       (pos -843.791 708.976)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/handrail2.png&quot;)
       (type 0)
       )
     (decal
       (pos -958.746 821.184)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/dark.png&quot;)
       (type 0)
       )
     (decal
       (pos -714.184 1017.31)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/dark.png&quot;)
       (type 0)
       )
     (decal
       (pos -914.618 938.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/stairs.png&quot;)
       (type 0)
       )
     (decal
       (pos -687.618 1093.8)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/stairs.png&quot;)
       (type 0)
       )
     (decal
       (pos -734.354 784.664)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/handrail2.png&quot;)
       (type 0)
       )
     (decal
       (pos -621.496 968.836)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/handrail.png&quot;)
       (type 0)
       )
     (decal
       (pos -1141.62 974.43)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/stairs.png&quot;)
       (type 0)
       )
     (decal
       (pos -621.791 862.976)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/handrail2.png&quot;)
       (type 0)
       )
     (decal
       (pos -957.618 1273.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/stone.png&quot;)
       (type 0)
       )
     (decal
       (pos -701.618 1273.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/stone.png&quot;)
       (type 0)
       )
     (decal
       (pos -701.618 1187.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/rail.png&quot;)
       (type 0)
       )
     (decal
       (pos -957.618 1187.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/rail.png&quot;)
       (type 0)
       )
     (decal
       (pos -826.493 1380.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/stone2.png&quot;)
       (type 0)
       )
     (decal
       (pos -912.173 1103.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/ground.png&quot;)
       (type 0)
       )
     (decal
       (pos -604.524 1103.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/ground.png&quot;)
       (type 0)
       )
     (decal
       (pos -1530.61 1103.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/ground.png&quot;)
       (type 0)
       )
     (decal
       (pos -1220.17 1103.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/ground.png&quot;)
       (type 0)
       )
     (decal
       (pos -1549.55 1103.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/ground.png&quot;)
       (type 0)
       )
     (decal
       (pos -2365.62 1380.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/stone2.png&quot;)
       (type 0)
       )
     (decal
       (pos -1853.62 1380.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/stone2.png&quot;)
       (type 0)
       )
     (decal
       (pos -1341.62 1380.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/stone2.png&quot;)
       (type 0)
       )
     (decal
       (pos -1725.62 1187.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/rail.png&quot;)
       (type 0)
       )
     (decal
       (pos -2237.62 1187.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/rail.png&quot;)
       (type 0)
       )
     (decal
       (pos -1981.62 1187.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/rail.png&quot;)
       (type 0)
       )
     (decal
       (pos -1469.62 1187.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/rail.png&quot;)
       (type 0)
       )
     (decal
       (pos -1213.62 1187.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/rail.png&quot;)
       (type 0)
       )
     (decal
       (pos -1213.62 1273.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/stone.png&quot;)
       (type 0)
       )
     (decal
       (pos -1725.62 1273.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/stone.png&quot;)
       (type 0)
       )
     (decal
       (pos -1469.62 1273.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/stone.png&quot;)
       (type 0)
       )
     (decal
       (pos -1981.62 1273.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/stone.png&quot;)
       (type 0)
       )
     (decal
       (pos -2237.62 1273.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/stone.png&quot;)
       (type 0)
       )
     (decal
       (pos -1141.62 774.226)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/stairs.png&quot;)
       (type 0)
       )
     (decal
       (pos -1202.71 916.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/door.png&quot;)
       (type 0)
       )
     (decal
       (pos -1592.87 441.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/stairs.png&quot;)
       (type 0)
       )
     (decal
       (pos -1726.45 358.897)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/dark.png&quot;)
       (type 0)
       )
     (decal
       (pos -751.996 886.773)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/handrail.png&quot;)
       (type 0)
       )
     (decal
       (pos -999.683 721.898)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/handrail.png&quot;)
       (type 0)
       )
     (decal
       (pos -870.746 802.398)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/handrail.png&quot;)
       (type 0)
       )
     (decal
       (pos -1126.25 626.586)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/handrail.png&quot;)
       (type 0)
       )
     (decal
       (pos -1270.81 524.211)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/handrail.png&quot;)
       (type 0)
       )
     (decal
       (pos -1404.43 434.336)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/handrail.png&quot;)
       (type 0)
       )
     (decal
       (pos -810.5 422.438)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/roof.png&quot;)
       (type 0)
       )
     (decal
       (pos -165.5 335.625)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/roof2.png&quot;)
       (type 0)
       )
     (decal
       (pos 345.5 335.625)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/roof2.png&quot;)
       (type 0)
       )
     (decal
       (pos 1367.5 335.625)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/roof2.png&quot;)
       (type 0)
       )
     (decal
       (pos 856.5 335.625)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/roof2.png&quot;)
       (type 0)
       )
     (decal
       (pos 2389.5 335.625)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/roof2.png&quot;)
       (type 0)
       )
     (decal
       (pos 1878.5 335.625)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/roof2.png&quot;)
       (type 0)
       )
     (decal
       (pos 234.812 549)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/rooflamp_bloom.png&quot;)
       (type 2)
       )
     (decal
       (pos 995.749 533.375)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/rooflamp_bloom.png&quot;)
       (type 2)
       )
     (decal
       (pos 1658.25 541.188)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/rooflamp_bloom.png&quot;)
       (type 2)
       )
     (decal
       (pos -1433.95 273.652)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/rooflamp_bloom.png&quot;)
       (type 2)
       )
     (decal
       (pos -1348.02 358.027)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/rooflamp_bloom.png&quot;)
       (type 2)
       )
     (decal
       (pos -1604.64 321.266)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/rooflamp_bloom.png&quot;)
       (type 2)
       )
     (decal
       (pos 889.5 909.938)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/rooflamp_bloom.png&quot;)
       (type 2)
       )
     (decal
       (pos 889.5 825.563)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/rooflamp_bloom.png&quot;)
       (type 2)
       )
     (decal
       (pos -163.625 985.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/bench.png&quot;)
       (type 0)
       )
     (decal
       (pos 578.562 985.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/bench.png&quot;)
       (type 0)
       )
     (decal
       (pos 1244.19 985.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/bench.png&quot;)
       (type 0)
       )
     (decal
       (pos 1542.62 985.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/bench.png&quot;)
       (type 0)
       )
     (decal
       (pos 1864.5 985.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/bench.png&quot;)
       (type 0)
       )
     (decal
       (pos 983.756 904.953)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/light.png&quot;)
       (type 1)
       )
     (decal
       (pos 315.072 868.593)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/light.png&quot;)
       (type 1)
       )
     (decal
       (pos 1562.96 829.374)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/light.png&quot;)
       (type 1)
       )
     (decal
       (pos 1626.96 1067.2)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/light.png&quot;)
       (type 1)
       )
     (decal
       (pos 11.075 1013.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/objects/plant.png&quot;)
       (type 0)
       )
     (decal
       (pos 424.131 1013.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/objects/plant.png&quot;)
       (type 0)
       )
     (decal
       (pos -1002.18 1013.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/objects/plant.png&quot;)
       (type 0)
       )
     (decal
       (pos -914.086 1013.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/objects/plant.png&quot;)
       (type 0)
       )
     (decal
       (pos -832.618 1013.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/objects/plant.png&quot;)
       (type 0)
       )
     (decal
       (pos 1064.43 1014.67)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/objects/plant.png&quot;)
       (type 0)
       )
     (decal
       (pos -259.112 904.761)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/light.png&quot;)
       (type 1)
       )
     (decal
       (pos -1181.83 303.2)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/roof2.png&quot;)
       (type 0)
       )
     (decal
       (pos -1721.87 997.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/objects/elevatordoor_left.png&quot;)
       (type 0)
       )
     (decal
       (pos -1721.87 869.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/objects/elevatordoor_left.png&quot;)
       (type 0)
       )
     (decal
       (pos -1721.87 648.367)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/objects/elevatordoor_left.png&quot;)
       (type 0)
       )
     (decal
       (pos -1721.87 776.367)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/objects/elevatordoor_left.png&quot;)
       (type 0)
       )
     (decal
       (pos -2120.61 725.188)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/noise.png&quot;)
       (type 0)
       )
     (decal
       (pos -2123.43 469.188)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/noise.png&quot;)
       (type 0)
       )
     (decal
       (pos -1721.87 1081.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/objects/elevatordoor_left.png&quot;)
       (type 0)
       )
     (decal
       (pos -1652.53 302.712)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/roof2.png&quot;)
       (type 0)
       )
     (decal
       (pos -1867.43 469.188)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/noise.png&quot;)
       (type 0)
       )
     (decal
       (pos -1865.87 725.188)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/noise.png&quot;)
       (type 0)
       )
     (decal
       (pos -1865.87 981.188)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/noise.png&quot;)
       (type 0)
       )
     (decal
       (pos -2264.59 1063.59)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/dark.png&quot;)
       (type 0)
       )
     (decal
       (pos -2259.22 975.602)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/dark.png&quot;)
       (type 0)
       )
     (decal
       (pos -2166.67 1074.01)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/dark.png&quot;)
       (type 0)
       )
     (decal
       (pos -2173.27 303.706)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/roof2.png&quot;)
       (type 0)
       )
     (decal
       (pos -2658.88 301.753)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/roof2.png&quot;)
       (type 0)
       )
     (decal
       (pos -2238.03 381.164)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/dark.png&quot;)
       (type 0)
       )
     (decal
       (pos -2237.28 444.414)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/dark.png&quot;)
       (type 0)
       )
     (decal
       (pos -2245.9 656.102)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/dark.png&quot;)
       (type 0)
       )
     (decal
       (pos -2246.65 592.852)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/dark.png&quot;)
       (type 0)
       )
     (decal
       (pos -2238.51 829.117)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/dark.png&quot;)
       (type 0)
       )
     (decal
       (pos -2080.67 802.977)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/dark.png&quot;)
       (type 0)
       )
     (decal
       (pos -2047.4 581.164)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/dark.png&quot;)
       (type 0)
       )
     (decal
       (pos -2016.55 1049.91)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/dark.png&quot;)
       (type 0)
       )
     (decal
       (pos -810.844 849.183)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/light.png&quot;)
       (type 1)
       )
     (decal
       (pos 676.954 1029.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/objects/box.png&quot;)
       (type 0)
       )
     (decal
       (pos 612.954 1029.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/objects/box.png&quot;)
       (type 0)
       )
     (decal
       (pos 648.954 965.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/objects/box.png&quot;)
       (type 0)
       )
     (decal
       (pos 740.954 1029.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/objects/box.png&quot;)
       (type 0)
       )
     (decal
       (pos 584.954 965.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/objects/box.png&quot;)
       (type 0)
       )
     (decal
       (pos 548.954 1029.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/objects/box.png&quot;)
       (type 0)
       )
     (decal
       (pos 706.554 965.44)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/objects/box.png&quot;)
       (type 0)
       )
     (decal
       (pos 996.814 579.855)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/objects/apartmentlamp_light.png&quot;)
       (type 1)
       )
     (decal
       (pos 264.392 554.465)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/objects/apartmentlamp_light.png&quot;)
       (type 1)
       )
     (decal
       (pos 1649.16 577.902)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/objects/apartmentlamp_light.png&quot;)
       (type 1)
       )
     (decal
       (pos -1636 909.933)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/light.png&quot;)
       (type 1)
       )
     (decal
       (pos -3689.93 712.902)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/steelplate.png&quot;)
       (type 0)
       )
     (decal
       (pos -3886.44 968.902)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/steelplate.png&quot;)
       (type 0)
       )
     (decal
       (pos -3516.44 968.902)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/steelplate.png&quot;)
       (type 0)
       )
     (decal
       (pos -4059.93 712.902)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/steelplate.png&quot;)
       (type 0)
       )
     (decal
       (pos -4256.44 968.902)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/steelplate.png&quot;)
       (type 0)
       )
     (decal
       (pos -4253.74 456.902)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/steelplate.png&quot;)
       (type 0)
       )
     (decal
       (pos -3513.74 456.902)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/steelplate.png&quot;)
       (type 0)
       )
     (decal
       (pos -3883.74 456.902)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/steelplate.png&quot;)
       (type 0)
       )
     (decal
       (pos -4429.93 712.902)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/steelplate.png&quot;)
       (type 0)
       )
     (decal
       (pos -3319.93 712.902)
       (parent &quot;&quot;)
+      (layer 1)
       (path &quot;images/decal/steelplate.png&quot;)
       (type 0)
       )

Deleted: trunk/windstille/src/editor/layer.hpp
===================================================================
--- trunk/windstille/src/editor/layer.hpp	2009-03-26 01:46:44 UTC (rev 2768)
+++ trunk/windstille/src/editor/layer.hpp	2009-03-26 03:08:10 UTC (rev 2769)
@@ -1,62 +0,0 @@
-/*
-**  Windstille - A Sci-Fi Action-Adventure Game
-**  Copyright (C) 2009 Ingo Ruhnke &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/windstille-commit">grumbel at gmx.de</A>&gt;
-**
-**  This program is free software: you can redistribute it and/or modify
-**  it under the terms of the GNU General Public License as published by
-**  the Free Software Foundation, either version 3 of the License, or
-**  (at your option) any later version.
-**  
-**  This program is distributed in the hope that it will be useful,
-**  but WITHOUT ANY WARRANTY; without even the implied warranty of
-**  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-**  GNU General Public License for more details.
-**  
-**  You should have received a copy of the GNU General Public License
-**  along with this program.  If not, see &lt;<A HREF="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</A>&gt;.
-*/
-
-#ifndef HEADER_WINDSTILLE_EDITOR_LAYER_HPP
-#define HEADER_WINDSTILLE_EDITOR_LAYER_HPP
-
-class Layer
-{
-private:
-  uint32_t mask;
-
-public:
-  Layer() : mask(~0) {}
-  Layer(uint32_t mask_) : mask(mask_) {}
-
-  uint32_t get_mask() const { return mask; }
-
-  bool match(const Layer&amp; rhs) const
-  {
-    return (mask &amp; rhs.mask);
-  }
-
-  void set(unsigned int layer, bool enable)
-  {
-    if (enable)
-      {
-        mask = mask | (1&lt;&lt;layer);
-      }
-    else
-      {
-        mask = mask &amp; (~(1&lt;&lt;layer));
-      }
-  }
-
-  bool get(unsigned int layer) const 
-  {
-    return mask &amp; (1&lt;&lt;layer);
-  }
-
-  operator bool() {
-    return mask;
-  }
-};
-
-#endif
-
-/* EOF */

Modified: trunk/windstille/src/editor/layer_widget.cpp
===================================================================
--- trunk/windstille/src/editor/layer_widget.cpp	2009-03-26 01:46:44 UTC (rev 2768)
+++ trunk/windstille/src/editor/layer_widget.cpp	2009-03-26 03:08:10 UTC (rev 2769)
@@ -20,15 +20,15 @@
 #include &lt;gtkmm/togglebutton.h&gt;
 #include &lt;gtkmm/separator.h&gt;
 
-#include &quot;layer.hpp&quot;
+#include &quot;layers.hpp&quot;
 #include &quot;layer_widget.hpp&quot;
 
 LayerWidget::LayerWidget()
-  : table(2, 19, false)
+  : table(2, 9, false)
 {
   int layer_number = 0;
   for(int y = 0; y &lt; 2; ++y)
-    for(int x = 0; x &lt; 19; ++x)
+    for(int x = 0; x &lt; 9; ++x)
       {
         if ((x+1) % 5)
           {
@@ -63,16 +63,15 @@
 void
 LayerWidget::on_layer_toggle(Gtk::ToggleButton* button, int layer)
 {
-  std::cout &lt;&lt; &quot;Layer: &quot; &lt;&lt; layer &lt;&lt; &quot; -&gt; &quot; &lt;&lt; button-&gt;get_active() &lt;&lt; std::endl;
   signal_layer_toggle(layer, button-&gt;get_active());
 }
 
 void
-LayerWidget::update(const Layer&amp; layer)
+LayerWidget::update(const Layers&amp; layers)
 {
-  for(int i = 0; i &lt; 32; ++i)
+  for(int i = 0; i &lt; layers.size(); ++i)
     {
-      buttons[i]-&gt;set_active(layer.get(i));
+      buttons[i]-&gt;set_active(layers.get(i));
     }
 }
 

Modified: trunk/windstille/src/editor/layer_widget.hpp
===================================================================
--- trunk/windstille/src/editor/layer_widget.hpp	2009-03-26 01:46:44 UTC (rev 2768)
+++ trunk/windstille/src/editor/layer_widget.hpp	2009-03-26 03:08:10 UTC (rev 2769)
@@ -22,7 +22,7 @@
 #include &lt;gtkmm/toolitem.h&gt;
 #include &lt;gtkmm/table.h&gt;
 
-class Layer;
+class Layers;
 
 class LayerWidget : public Gtk::ToolItem
 {
@@ -35,7 +35,7 @@
   ~LayerWidget();
 
   void on_layer_toggle(Gtk::ToggleButton* button, int layer);
-  void update(const Layer&amp; layer);
+  void update(const Layers&amp; layers);
 
   sigc::signal&lt;void, int, bool&gt; signal_layer_toggle;
 

Copied: trunk/windstille/src/editor/layers.hpp (from rev 2768, trunk/windstille/src/editor/layer.hpp)
===================================================================
--- trunk/windstille/src/editor/layer.hpp	2009-03-26 01:46:44 UTC (rev 2768)
+++ trunk/windstille/src/editor/layers.hpp	2009-03-26 03:08:10 UTC (rev 2769)
@@ -0,0 +1,70 @@
+/*
+**  Windstille - A Sci-Fi Action-Adventure Game
+**  Copyright (C) 2009 Ingo Ruhnke &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/windstille-commit">grumbel at gmx.de</A>&gt;
+**
+**  This program is free software: you can redistribute it and/or modify
+**  it under the terms of the GNU General Public License as published by
+**  the Free Software Foundation, either version 3 of the License, or
+**  (at your option) any later version.
+**  
+**  This program is distributed in the hope that it will be useful,
+**  but WITHOUT ANY WARRANTY; without even the implied warranty of
+**  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+**  GNU General Public License for more details.
+**  
+**  You should have received a copy of the GNU General Public License
+**  along with this program.  If not, see &lt;<A HREF="http://www.gnu.org/licenses/">http://www.gnu.org/licenses/</A>&gt;.
+*/
+
+#ifndef HEADER_WINDSTILLE_EDITOR_LAYERS_HPP
+#define HEADER_WINDSTILLE_EDITOR_LAYERS_HPP
+
+class Layers
+{
+private:
+  uint16_t mask;
+
+public:
+  Layers() : mask(~0) {}
+  Layers(uint16_t mask_) : mask(mask_) {}
+
+  uint16_t get_mask() const
+  {
+    return mask; 
+  }
+
+  bool match(const Layers&amp; rhs) const
+  {
+    return (mask &amp; rhs.mask);
+  }
+
+  void set(unsigned int layer, bool enable)
+  {
+    if (enable)
+      {
+        mask = mask | (1&lt;&lt;layer);
+      }
+    else
+      {
+        mask = mask &amp; (~(1&lt;&lt;layer));
+      }
+  }
+
+  int size() const 
+  {
+    return 16; 
+  }
+
+  bool get(unsigned int layer) const 
+  {
+    return mask &amp; (1&lt;&lt;layer);
+  }
+
+  operator bool() {
+    return mask;
+  }
+};
+
+#endif
+
+/* EOF */


Property changes on: trunk/windstille/src/editor/layers.hpp
___________________________________________________________________
Name: svn:keywords
   + Id
Name: svn:mergeinfo
   + 
Name: svn:eol-style
   + native

Modified: trunk/windstille/src/editor/object_model.cpp
===================================================================
--- trunk/windstille/src/editor/object_model.cpp	2009-03-26 01:46:44 UTC (rev 2768)
+++ trunk/windstille/src/editor/object_model.cpp	2009-03-26 03:08:10 UTC (rev 2769)
@@ -36,10 +36,9 @@
   reader.get(&quot;pos&quot;,  rel_pos);
   reader.read(&quot;parent&quot;,  parent);
   
-  // FIXME: Bad, will overflow
   int layer_mask = 1;
-  reader.read(&quot;layer&quot;,  layer_mask);
-  layer = Layer(layer_mask);
+  reader.read(&quot;layer&quot;, layer_mask);
+  layers = Layers(layer_mask);
 }
 
 ObjectModel::~ObjectModel()
@@ -54,7 +53,7 @@
   return writer
     .write(&quot;pos&quot;, rel_pos)
     .write(&quot;parent&quot;, parent.get() ? parent-&gt;get_name() : &quot;&quot;)
-    .write(&quot;layer&quot;, layer.get_mask());
+    .write(&quot;layer&quot;, layers.get_mask());
 }
 
 void

Modified: trunk/windstille/src/editor/object_model.hpp
===================================================================
--- trunk/windstille/src/editor/object_model.hpp	2009-03-26 01:46:44 UTC (rev 2768)
+++ trunk/windstille/src/editor/object_model.hpp	2009-03-26 03:08:10 UTC (rev 2769)
@@ -23,7 +23,7 @@
 #include &lt;boost/weak_ptr.hpp&gt;
 #include &lt;string&gt;
 
-#include &quot;layer.hpp&quot;
+#include &quot;layers.hpp&quot;
 #include &quot;util/file_writer.hpp&quot;
 #include &quot;display/surface.hpp&quot;
 #include &quot;math/vector2f.hpp&quot;
@@ -40,7 +40,7 @@
 private:
   std::string name;
   Vector2f    rel_pos;
-  Layer  layer;
+  Layers      layers;
 
   ObjectModelPtr parent_ptr;
   Vector2f move_offset;
@@ -63,8 +63,8 @@
   void on_move_update(const Vector2f&amp; offset);
   void on_move_end(const Vector2f&amp; offset);
 
-  Layer get_layer() const { return layer; }
-  void  set_layer(const Layer&amp; layer_) { layer = layer_; }
+  Layers get_layers() const { return layers; }
+  void   set_layers(const Layers&amp; layers_) { layers = layers_; }
 
   SnapData snap_object(const Rectf&amp; rect) const;
 

Modified: trunk/windstille/src/editor/sector_model.cpp
===================================================================
--- trunk/windstille/src/editor/sector_model.cpp	2009-03-26 01:46:44 UTC (rev 2768)
+++ trunk/windstille/src/editor/sector_model.cpp	2009-03-26 03:08:10 UTC (rev 2769)
@@ -82,11 +82,11 @@
 }
 
 ObjectModelHandle
-SectorModel::get_object_at(const Vector2f&amp; pos, const Layer&amp; layer) const
+SectorModel::get_object_at(const Vector2f&amp; pos, const Layers&amp; layers) const
 {
   for(Objects::const_reverse_iterator i = objects.rbegin(); i != objects.rend(); ++i)
     {
-      if (layer.match((*i)-&gt;get_layer()) &amp;&amp;
+      if (layers.match((*i)-&gt;get_layers()) &amp;&amp;
           (*i)-&gt;get_bounding_box().is_inside(pos))
         {
           return *i;
@@ -96,13 +96,13 @@
 }
 
 SelectionHandle
-SectorModel::get_selection(const Rectf&amp; rect, const Layer&amp; layer) const
+SectorModel::get_selection(const Rectf&amp; rect, const Layers&amp; layers) const
 {
   SelectionHandle selection = Selection::create();
 
   for(Objects::const_reverse_iterator i = objects.rbegin(); i != objects.rend(); ++i)
     {
-      if (layer.match((*i)-&gt;get_layer()) &amp;&amp;
+      if (layers.match((*i)-&gt;get_layers()) &amp;&amp;
           (*i)-&gt;get_bounding_box().is_overlapped(rect))
         {
           selection-&gt;add(*i);

Modified: trunk/windstille/src/editor/sector_model.hpp
===================================================================
--- trunk/windstille/src/editor/sector_model.hpp	2009-03-26 01:46:44 UTC (rev 2768)
+++ trunk/windstille/src/editor/sector_model.hpp	2009-03-26 03:08:10 UTC (rev 2769)
@@ -83,8 +83,8 @@
   void on_row_inserted(const Gtk::TreeModel::Path&amp; path, const Gtk::TreeModel::iterator&amp; iter);
   void on_rows_reordered(const Gtk::TreeModel::Path&amp; path, const Gtk::TreeModel::iterator&amp; iter, int* new_order);
 
-  ObjectModelHandle get_object_at(const Vector2f&amp; pos, const Layer&amp; layer) const;
-  SelectionHandle   get_selection(const Rectf&amp; rect, const Layer&amp; layer) const;
+  ObjectModelHandle get_object_at(const Vector2f&amp; pos, const Layers&amp; layers) const;
+  SelectionHandle   get_selection(const Rectf&amp; rect, const Layers&amp; layers) const;
   
   void raise_to_top(ObjectModelHandle object);
   void lower_to_bottom(ObjectModelHandle object);

Modified: trunk/windstille/src/editor/windstille_widget.cpp
===================================================================
--- trunk/windstille/src/editor/windstille_widget.cpp	2009-03-26 01:46:44 UTC (rev 2768)
+++ trunk/windstille/src/editor/windstille_widget.cpp	2009-03-26 03:08:10 UTC (rev 2769)
@@ -477,9 +477,9 @@
   // if layer mask is 0, set it to all layers instead, so that the
   // object doesn't become unusable
   if (!layer_mask)
-    object-&gt;set_layer(Layer());
+    object-&gt;set_layers(Layers());
   else
-    object-&gt;set_layer(layer_mask);
+    object-&gt;set_layers(layer_mask);
 
   sector_model-&gt;add(object);
 }

Modified: trunk/windstille/src/editor/windstille_widget.hpp
===================================================================
--- trunk/windstille/src/editor/windstille_widget.hpp	2009-03-26 01:46:44 UTC (rev 2768)
+++ trunk/windstille/src/editor/windstille_widget.hpp	2009-03-26 03:08:10 UTC (rev 2769)
@@ -36,7 +36,7 @@
 #include &quot;control_point.hpp&quot;
 #include &quot;decal_object_model.hpp&quot;
 #include &quot;selection.hpp&quot;
-#include &quot;layer.hpp&quot;
+#include &quot;layers.hpp&quot;
 
 class Tool;
 class ScrollTool;
@@ -60,7 +60,7 @@
   DecalObjectModel::MapType map_type;
   Texture background_pattern;
   bool draw_background_pattern;
-  Layer layer_mask;
+  Layers layer_mask;
   
 public:
   WindstilleWidget(const Glib::RefPtr&lt;const Gdk::GL::Config&gt;&amp; glconfig,
@@ -111,7 +111,7 @@
   void set_selection(const SelectionHandle&amp; selection);
   SelectionHandle get_selection() const;
 
-  Layer&amp; get_layer_mask() { return layer_mask; }
+  Layers&amp; get_layer_mask() { return layer_mask; }
 
   SceneContext* get_sc() const { return sc.get(); }
 

Modified: trunk/windstille/src/util/file_reader.cpp
===================================================================
--- trunk/windstille/src/util/file_reader.cpp	2009-03-26 01:46:44 UTC (rev 2768)
+++ trunk/windstille/src/util/file_reader.cpp	2009-03-26 03:08:10 UTC (rev 2769)
@@ -84,15 +84,6 @@
 }
 
 bool
-FileReader::read(const char* name, uint32_t&amp; value)
-{
-  if (impl.get())
-    return impl-&gt;read_uint32(name, value);
-  else
-    return false;
-}
-
-bool
 FileReader::read(const char* name, int&amp; value)
 {
   if (impl.get())

Modified: trunk/windstille/src/util/file_reader.hpp
===================================================================
--- trunk/windstille/src/util/file_reader.hpp	2009-03-26 01:46:44 UTC (rev 2768)
+++ trunk/windstille/src/util/file_reader.hpp	2009-03-26 03:08:10 UTC (rev 2769)
@@ -66,7 +66,6 @@
   // FIXME: Is there any nice way to not use two different names?
   bool read(const char* name, FileReader&amp; v);
 
-  bool read(const char* name, uint32_t&amp; v);
   bool read(const char* name, int&amp;   v);
   bool read(const char* name, float&amp; v);
   bool read(const char* name, bool&amp; v);

Modified: trunk/windstille/src/util/file_reader_impl.hpp
===================================================================
--- trunk/windstille/src/util/file_reader_impl.hpp	2009-03-26 01:46:44 UTC (rev 2768)
+++ trunk/windstille/src/util/file_reader_impl.hpp	2009-03-26 03:08:10 UTC (rev 2769)
@@ -41,7 +41,6 @@
 
   virtual bool read_bool  (const char* name, bool&amp;)        const =0;
   virtual bool read_int   (const char* name, int&amp;)         const =0;
-  virtual bool read_uint32(const char* name, uint32_t&amp;)    const =0;
   virtual bool read_float (const char* name, float&amp;)       const =0;
   virtual bool read_string(const char* name, std::string&amp;) const =0;
 

Modified: trunk/windstille/src/util/file_writer.cpp
===================================================================
--- trunk/windstille/src/util/file_writer.cpp	2009-03-26 01:46:44 UTC (rev 2768)
+++ trunk/windstille/src/util/file_writer.cpp	2009-03-26 03:08:10 UTC (rev 2769)
@@ -80,14 +80,6 @@
 }
 
 FileWriter&amp;
-FileWriter::write(const std::string&amp; name, uint32_t value)
-{
-  indent();
-  out &lt;&lt; &quot;(&quot; &lt;&lt; name &lt;&lt; &quot; &quot; &lt;&lt; value &lt;&lt; &quot;)\n&quot;;
-  return *this;
-}
-
-FileWriter&amp;
 FileWriter::write(const std::string&amp; name, float value)
 {
   indent();

Modified: trunk/windstille/src/util/file_writer.hpp
===================================================================
--- trunk/windstille/src/util/file_writer.hpp	2009-03-26 01:46:44 UTC (rev 2768)
+++ trunk/windstille/src/util/file_writer.hpp	2009-03-26 03:08:10 UTC (rev 2769)
@@ -44,7 +44,6 @@
 
   FileWriter&amp; write(const std::string&amp; name, bool value);
   FileWriter&amp; write(const std::string&amp; name, int value);
-  FileWriter&amp; write(const std::string&amp; name, uint32_t value);
   FileWriter&amp; write(const std::string&amp; name, float value);
   FileWriter&amp; write(const std::string&amp; name, const std::string&amp; value);
   FileWriter&amp; write(const std::string&amp; name, const char* value);


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001765.html">[Windstille-commit] r2768 - in trunk/windstille: .	data/sectors/trainstation src/editor src/util
</A></li>
	<LI>Next message: <A HREF="001767.html">[Windstille-commit] r2770 - in trunk/windstille: . src/editor
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1766">[ date ]</a>
              <a href="thread.html#1766">[ thread ]</a>
              <a href="subject.html#1766">[ subject ]</a>
              <a href="author.html#1766">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/windstille-commit">More information about the Windstille-commit
mailing list</a><br>
</body></html>
