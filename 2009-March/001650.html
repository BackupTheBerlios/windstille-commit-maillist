<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Windstille-commit] r2653 - trunk/windstille
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/windstille-commit/2009-March/index.html" >
   <LINK REL="made" HREF="mailto:windstille-commit%40lists.berlios.de?Subject=Re%3A%20%5BWindstille-commit%5D%20r2653%20-%20trunk/windstille&In-Reply-To=%3C200903121417.n2CEHs4M027594%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001649.html">
   <LINK REL="Next"  HREF="001651.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Windstille-commit] r2653 - trunk/windstille</H1>
    <B>grumbel at BerliOS</B> 
    <A HREF="mailto:windstille-commit%40lists.berlios.de?Subject=Re%3A%20%5BWindstille-commit%5D%20r2653%20-%20trunk/windstille&In-Reply-To=%3C200903121417.n2CEHs4M027594%40sheep.berlios.de%3E"
       TITLE="[Windstille-commit] r2653 - trunk/windstille">grumbel at mail.berlios.de
       </A><BR>
    <I>Thu Mar 12 15:17:54 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001649.html">[Windstille-commit] r2652 - in trunk/windstille/src: engine	scripting
</A></li>
        <LI>Next message: <A HREF="001651.html">[Windstille-commit] r2654 - in trunk/windstille: . data/scripts	data/sectors/apartment src/engine src/hud src/scripting
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1650">[ date ]</a>
              <a href="thread.html#1650">[ thread ]</a>
              <a href="subject.html#1650">[ subject ]</a>
              <a href="author.html#1650">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: grumbel
Date: 2009-03-12 15:17:54 +0100 (Thu, 12 Mar 2009)
New Revision: 2653

Modified:
   trunk/windstille/TODO
Log:
TODO updates

Modified: trunk/windstille/TODO
===================================================================
--- trunk/windstille/TODO	2009-03-12 12:27:16 UTC (rev 2652)
+++ trunk/windstille/TODO	2009-03-12 14:17:54 UTC (rev 2653)
@@ -10,6 +10,41 @@
 Scripting
 =========
 
+* add ability to wait on custom event and add ability to fire of a
+  custom event:
+
+    wait_for(&quot;bob arrives at bar&quot;);
+    ...
+    fire(&quot;bob arrives at bar&quot;);
+
+  also add abilty for callbacks:
+
+    register_callback(&quot;bob arrives at bar&quot;, function(){
+       // do stuff
+    });
+
+  In which VM shall this be executed? In a new one? Wouldn't that be
+  the same as:
+
+    spawn_function(function(){
+       // needed so that the callback can be called multiple times 
+       while(true) { 
+         wait_for(&quot;bob arrives at bar&quot;);
+         // do stuff
+       }
+    });
+
+* think about if scripts spawned in a sector should be parented to the
+  sectors init script or to the root_vm, the later one is currently
+  the case, the first one however would make it easier to share
+  variables between scripts, on the other shared variable should often
+  be available across sectors, so a better sharing mechanism is likely needed
+
+  -&gt; scripts could share state via a 'state' table defined in windstille.nut
+
+* add option to SquirrelThread to be removed after its done or removed
+  when a specific function is called (useful for spawning functions)
+
 * reentering a sector twice barfs because:
 
   std::exception: Squirrel error: sectors/apartment/init.nut:
@@ -71,14 +106,15 @@
   scripts (FIXME: not clear if there is enough benefit and flexibilty
   to try that)
 
-* print and println behave different on console
+* print and println behave different on console (?)
 
 Input Handling
 ==============
 
 * change of input context is troublesome: when the user selects a
   dialog and confirms it, the character starts to walk into the
-  direction that the player indicated.
+  direction that the player indicated, because the stick still points
+  in that direction after OK_BUTTON is pressed.
 
   Possible solution: wait till the controller is in neutral position
   before sending events to the next Screen
@@ -200,6 +236,8 @@
 Level Design
 ============
 
+* fix the particle system in newformat2.wst, speed/lifetime is wrong
+
 * implement light switches in apartment
 
   Currently the light switch-off sequence is done in the use script,


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001649.html">[Windstille-commit] r2652 - in trunk/windstille/src: engine	scripting
</A></li>
	<LI>Next message: <A HREF="001651.html">[Windstille-commit] r2654 - in trunk/windstille: . data/scripts	data/sectors/apartment src/engine src/hud src/scripting
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1650">[ date ]</a>
              <a href="thread.html#1650">[ thread ]</a>
              <a href="subject.html#1650">[ subject ]</a>
              <a href="author.html#1650">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/windstille-commit">More information about the Windstille-commit
mailing list</a><br>
</body></html>
