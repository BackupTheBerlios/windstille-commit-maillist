<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Windstille-commit] r1493 - in trunk/windstille: data data/armature	data/armature/pose src src/armature tools
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/windstille-commit/2007-June/index.html" >
   <LINK REL="made" HREF="mailto:windstille-commit%40lists.berlios.de?Subject=Re%3A%20%5BWindstille-commit%5D%20r1493%20-%20in%20trunk/windstille%3A%20data%20data/armature%0A%09data/armature/pose%20src%20src/armature%20tools&In-Reply-To=%3C200706220222.l5M2MpRE030200%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001144.html">
   <LINK REL="Next"  HREF="001146.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Windstille-commit] r1493 - in trunk/windstille: data data/armature	data/armature/pose src src/armature tools</H1>
    <B>grumbel at BerliOS</B> 
    <A HREF="mailto:windstille-commit%40lists.berlios.de?Subject=Re%3A%20%5BWindstille-commit%5D%20r1493%20-%20in%20trunk/windstille%3A%20data%20data/armature%0A%09data/armature/pose%20src%20src/armature%20tools&In-Reply-To=%3C200706220222.l5M2MpRE030200%40sheep.berlios.de%3E"
       TITLE="[Windstille-commit] r1493 - in trunk/windstille: data data/armature	data/armature/pose src src/armature tools">grumbel at mail.berlios.de
       </A><BR>
    <I>Fri Jun 22 04:22:51 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001144.html">[Windstille-commit] r1492 - in trunk/windstille: data src	src/armature tools
</A></li>
        <LI>Next message: <A HREF="001146.html">[Windstille-commit] r1494 - trunk/windstille/tools
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1145">[ date ]</a>
              <a href="thread.html#1145">[ thread ]</a>
              <a href="subject.html#1145">[ subject ]</a>
              <a href="author.html#1145">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: grumbel
Date: 2007-06-22 04:22:50 +0200 (Fri, 22 Jun 2007)
New Revision: 1493

Added:
   trunk/windstille/data/armature/
   trunk/windstille/data/armature/armature.arm
   trunk/windstille/data/armature/pose/
   trunk/windstille/data/armature/pose/pose-Armature.002-frame001.scm
   trunk/windstille/data/armature/pose/pose-Armature.002-frame002.scm
   trunk/windstille/data/armature/pose/pose-Armature.002-frame003.scm
   trunk/windstille/data/armature/pose/pose-Armature.002-frame004.scm
   trunk/windstille/data/armature/pose/pose-Armature.002-frame005.scm
   trunk/windstille/data/armature/pose/pose-Armature.002-frame006.scm
   trunk/windstille/data/armature/pose/pose-Armature.002-frame007.scm
   trunk/windstille/data/armature/pose/pose-Armature.002-frame008.scm
   trunk/windstille/data/armature/pose/pose-Armature.002-frame009.scm
   trunk/windstille/data/armature/pose/pose-Armature.002-frame010.scm
   trunk/windstille/data/armature/pose/pose-Armature.002-frame011.scm
   trunk/windstille/data/armature/pose/pose-Armature.002-frame012.scm
   trunk/windstille/data/armature/pose/pose-Armature.002-frame013.scm
   trunk/windstille/data/armature/pose/pose-Armature.002-frame014.scm
   trunk/windstille/data/armature/pose/pose-Armature.002-frame015.scm
   trunk/windstille/data/armature/pose/pose-Armature.002-frame016.scm
   trunk/windstille/data/armature/pose/pose-Armature.002-frame017.scm
   trunk/windstille/data/armature/pose/pose-Armature.002-frame018.scm
   trunk/windstille/data/armature/pose/pose-Armature.002-frame019.scm
Modified:
   trunk/windstille/data/armature.arm
   trunk/windstille/data/pose.pose
   trunk/windstille/src/armature/armature.cpp
   trunk/windstille/src/armature/armature.hpp
   trunk/windstille/src/armature/pose.cpp
   trunk/windstille/src/armature_test.cpp
   trunk/windstille/src/armature_test.hpp
   trunk/windstille/tools/bone_export.py
   trunk/windstille/tools/ipo_export.py
   trunk/windstille/tools/pose_export.py
   trunk/windstille/tools/windstille_export.py
Log:
- some simple animation support

Added: trunk/windstille/data/armature/armature.arm
===================================================================
--- trunk/windstille/data/armature/armature.arm	2007-06-22 00:25:15 UTC (rev 1492)
+++ trunk/windstille/data/armature/armature.arm	2007-06-22 02:22:50 UTC (rev 1493)
@@ -0,0 +1,300 @@
+;; -*- scheme -*-
+(armature
+  (name &quot;Armature.002&quot;)
+  (bones
+    (bone
+      (name      &quot;Bone.010&quot;)
+      (children )
+      (parent    &quot;Bone.009&quot;)
+      (head      0.000000 0.000000 -0.000000)
+      (length    0.609991073608)
+      (matrix   -0.885631  0.281301 -0.369496  0.000000
+                -0.399716 -0.056720  0.914883  0.000000
+                 0.236400  0.957942  0.162673  0.000000
+                 0.000000  0.000000  0.000000  1.000000)
+      (quat      0.234692 -0.045868 0.645414 0.725435)
+      (euler     79.917725 21.684511 162.378693)
+     )
+
+    (bone
+      (name      &quot;Bone.009&quot;)
+      (children  &quot;Bone.010&quot;)
+      (parent    &quot;Bone.008&quot;)
+      (head      -0.000000 0.000000 0.000000)
+      (length    0.528390228748)
+      (matrix    0.984876 -0.173263  0.000002  0.000000
+                 0.173263  0.984876  0.000000  0.000000
+                -0.000002 -0.000000  1.000000  0.000000
+                 0.000000  0.000000  0.000000  1.000000)
+      (quat      0.996212 0.000000 -0.000001 -0.086961)
+      (euler     0.000021 -0.000104 -9.977577)
+     )
+
+    (bone
+      (name      &quot;Bone.004&quot;)
+      (children  &quot;Bone.008&quot;)
+      (parent    &quot;Bone.017&quot;)
+      (head      0.120711 -0.025305 0.000000)
+      (length    0.669082939625)
+      (matrix   -0.798969 -0.601373 -0.000000  0.000000
+                 0.601373 -0.798969  0.000000  0.000000
+                -0.000000 -0.000000  1.000000  0.000000
+                 0.000000  0.000000  0.000000  1.000000)
+      (quat      0.317042 0.000000 -0.000000 -0.948411)
+      (euler     0.000001 0.000003 -143.031738)
+     )
+
+    (bone
+      (name      &quot;Bone.007&quot;)
+      (children )
+      (parent    &quot;Bone.006&quot;)
+      (head      -0.000000 0.000000 0.000000)
+      (length    0.580758750439)
+      (matrix   -0.940337 -0.203485  0.272691  0.000000
+                 0.255785  0.105733  0.960934  0.000000
+                -0.224368  0.973352 -0.047376  0.000000
+                 0.000000  0.000000  0.000000  1.000000)
+      (quat      0.171770 -0.018073 -0.723437 -0.668436)
+      (euler     -87.177460 -164.175507 12.210286)
+     )
+
+    (bone
+      (name      &quot;Bone.006&quot;)
+      (children  &quot;Bone.007&quot;)
+      (parent    &quot;Bone.005&quot;)
+      (head      0.000000 -0.000000 -0.000000)
+      (length    0.460424721241)
+      (matrix    0.975521  0.219905 -0.000003  0.000000
+                -0.219905  0.975521  0.000000  0.000000
+                 0.000003  0.000000  1.000000  0.000000
+                 0.000000  0.000000  0.000000  1.000000)
+      (quat      0.993861 -0.000000 0.000001 0.110632)
+      (euler     0.000007 0.000158 12.703450)
+     )
+
+    (bone
+      (name      &quot;Bone.016&quot;)
+      (children  &quot;Bone.018&quot;)
+      (parent    &quot;Bone.015&quot;)
+      (head      0.000000 0.000000 0.000000)
+      (length    0.7483959198)
+      (matrix    0.992324  0.120612 -0.027324  0.000000
+                 0.020425 -0.377748 -0.925683  0.000000
+                -0.121970  0.918019 -0.377312  0.000000
+                 0.000000  0.000000  0.000000  1.000000)
+      (quat      0.556162 -0.828762 -0.042545 0.045035)
+      (euler     -112.175987 1.565737 6.930047)
+     )
+
+    (bone
+      (name      &quot;Bone.008&quot;)
+      (children  &quot;Bone.009&quot;)
+      (parent    &quot;Bone.004&quot;)
+      (head      -0.000000 0.000000 0.000000)
+      (length    0.534853637218)
+      (matrix    0.817942 -0.575300 -0.000003  0.000000
+                 0.575300  0.817942  0.000000  0.000000
+                 0.000002 -0.000002  1.000000  0.000000
+                 0.000000  0.000000  0.000000  1.000000)
+      (quat      0.953400 0.000000 0.000001 -0.301710)
+      (euler     0.000003 0.000157 -35.120655)
+     )
+
+    (bone
+      (name      &quot;Bone.020&quot;)
+      (children )
+      (parent    &quot;Bone.019&quot;)
+      (head      0.000000 0.000000 0.000000)
+      (length    0.78316706419)
+      (matrix    1.000000 -0.000000  0.000000  0.000000
+                -0.000000  0.786170  0.618010  0.000000
+                -0.000000 -0.618010  0.786170  0.000000
+                 0.000000  0.000000  0.000000  1.000000)
+      (quat      0.945032 0.326978 -0.000000 0.000000)
+      (euler     38.170944 -0.000017 -0.000001)
+     )
+
+    (bone
+      (name      &quot;Bone.019&quot;)
+      (children  &quot;Bone.020&quot;)
+      (parent    &quot;Bone.018&quot;)
+      (head      0.000000 0.000000 0.000000)
+      (length    0.885059118271)
+      (matrix    1.000000 -0.000000 -0.000000  0.000000
+                -0.000000  0.904786 -0.425867  0.000000
+                 0.000000  0.425867  0.904786  0.000000
+                 0.000000  0.000000  0.000000  1.000000)
+      (quat      0.975906 -0.218191 0.000000 -0.000000)
+      (euler     -25.205572 0.000022 -0.000006)
+     )
+
+    (bone
+      (name      &quot;Bone.018&quot;)
+      (children  &quot;Bone.019&quot;)
+      (parent    &quot;Bone.016&quot;)
+      (head      0.000000 -0.000000 0.000000)
+      (length    0.71182602644)
+      (matrix    0.999458 -0.018364 -0.027324  0.000000
+                -0.011594  0.580457 -0.814208  0.000000
+                 0.030813  0.814084  0.579929  0.000000
+                 0.000000  0.000000  0.000000  1.000000)
+      (quat      0.888798 -0.458004 0.016353 -0.001904)
+      (euler     -54.539196 1.565734 -1.052639)
+     )
+
+    (bone
+      (name      &quot;Bone.015&quot;)
+      (children  &quot;Bone.016&quot;)
+      (parent    &quot;Bone&quot;)
+      (head      0.000000 0.000000 0.000000)
+      (length    0.392938047647)
+      (matrix    0.994743 -0.102400  0.000000  0.000000
+                 0.102400  0.994743  0.000000  0.000000
+                -0.000000 -0.000000  1.000000  0.000000
+                 0.000000  0.000000  0.000000  1.000000)
+      (quat      0.998685 0.000000 -0.000000 -0.051268)
+      (euler     0.000000 -0.000000 -5.877400)
+     )
+
+    (bone
+      (name      &quot;Bone.005&quot;)
+      (children  &quot;Bone.006&quot;)
+      (parent    &quot;Bone.003&quot;)
+      (head      0.000000 0.000000 0.000000)
+      (length    0.571729123592)
+      (matrix    0.782333  0.622860  0.000001  0.000000
+                -0.622860  0.782333  0.000000  0.000000
+                -0.000000 -0.000000  1.000000  0.000000
+                 0.000000  0.000000  0.000000  1.000000)
+      (quat      0.944016 0.000000 -0.000000 0.329899)
+      (euler     0.000003 -0.000030 38.525307)
+     )
+
+    (bone
+      (name      &quot;Bone.012&quot;)
+      (children )
+      (parent    &quot;Bone.011&quot;)
+      (head      -0.000000 -0.000000 -0.000000)
+      (length    0.616346955299)
+      (matrix   -0.601701 -0.639778  0.478163  0.000000
+                 0.473508  0.196392  0.858615  0.000000
+                -0.643230  0.743044  0.184771  0.000000
+                 0.000000  0.000000  0.000000  1.000000)
+      (quat      0.441436 0.065452 -0.635083 -0.630492)
+      (euler     77.855347 -28.565475 -133.243271)
+     )
+
+    (bone
+      (name      &quot;Bone.013&quot;)
+      (children  &quot;Bone.014&quot;)
+      (parent    &quot;Bone.001&quot;)
+      (head      0.000000 -0.000000 0.000000)
+      (length    0.552089631557)
+      (matrix    0.828948 -0.559326 -0.000001  0.000000
+                 0.559326  0.828948  0.000000  0.000000
+                 0.000000 -0.000000  1.000000  0.000000
+                 0.000000  0.000000  0.000000  1.000000)
+      (quat      0.956281 0.000000 0.000000 -0.292448)
+      (euler     0.000002 0.000034 -34.009186)
+     )
+
+    (bone
+      (name      &quot;Bone.001&quot;)
+      (children  &quot;Bone.013&quot;)
+      (parent    &quot;Bone&quot;)
+      (head      0.486525 0.028998 0.000000)
+      (length    0.355913609266)
+      (matrix   -0.662888 -0.748718  0.000000  0.000000
+                 0.748718 -0.662888 -0.000000  0.000000
+                 0.000000  0.000000  1.000000  0.000000
+                 0.000000  0.000000  0.000000  1.000000)
+      (quat      0.410556 -0.000000 0.000000 -0.911836)
+      (euler     -0.000003 -0.000007 -131.520508)
+     )
+
+    (bone
+      (name      &quot;Bone.002&quot;)
+      (children  &quot;Bone.011&quot;)
+      (parent    &quot;Bone&quot;)
+      (head      -0.360867 -0.016110 -0.000000)
+      (length    0.393084317446)
+      (matrix   -0.500073  0.865983  0.000000  0.000000
+                -0.865983 -0.500073  0.000000  0.000000
+                 0.000000 -0.000000  1.000000  0.000000
+                 0.000000  0.000000  0.000000  1.000000)
+      (quat      0.499964 0.000000 0.000000 0.866046)
+      (euler     0.000002 -0.000003 120.004814)
+     )
+
+    (bone
+      (name      &quot;Bone.003&quot;)
+      (children  &quot;Bone.005&quot;)
+      (parent    &quot;Bone.017&quot;)
+      (head      -0.080474 -0.013809 -0.000000)
+      (length    0.692165970802)
+      (matrix   -0.664364  0.747409  0.000000  0.000000
+                -0.747409 -0.664364  0.000000  0.000000
+                 0.000000 -0.000000  1.000000  0.000000
+                 0.000000  0.000000  0.000000  1.000000)
+      (quat      0.409656 0.000000 0.000000 0.912240)
+      (euler     0.000000 -0.000000 131.633560)
+     )
+
+    (bone ;; a root bone
+      (name      &quot;Bone.017&quot;)
+      (children  &quot;Bone&quot; &quot;Bone.003&quot; &quot;Bone.004&quot;)
+      (parent )
+      (head      0.000000 0.979157 -0.000000)
+      (length    0.259003162384)
+      (matrix    1.000000  0.000000  0.000000  0.000000
+                 0.000000  1.000000  0.000000  0.000000
+                 0.000000  0.000000  1.000000  0.000000
+                 0.000000  0.000000  0.000000  1.000000)
+      (quat      1.000000 0.000000 0.000000 0.000000)
+      (euler     0.000000 -0.000000 0.000000)
+     )
+
+    (bone
+      (name      &quot;Bone.011&quot;)
+      (children  &quot;Bone.012&quot;)
+      (parent    &quot;Bone.002&quot;)
+      (head      0.000000 0.000000 0.000000)
+      (length    0.563668131828)
+      (matrix    0.666182  0.745789 -0.000000  0.000000
+                -0.745789  0.666182  0.000000  0.000000
+                 0.000000 -0.000000  1.000000  0.000000
+                 0.000000  0.000000  0.000000  1.000000)
+      (quat      0.912738 0.000000 0.000000 0.408545)
+      (euler     0.000001 0.000001 48.226898)
+     )
+
+    (bone
+      (name      &quot;Bone&quot;)
+      (children  &quot;Bone.001&quot; &quot;Bone.002&quot; &quot;Bone.015&quot;)
+      (parent    &quot;Bone.017&quot;)
+      (head      -0.000000 0.106902 0.000000)
+      (length    0.844800710678)
+      (matrix    1.000000  0.000000  0.000000  0.000000
+                 0.000000  1.000000  0.000000  0.000000
+                 0.000000  0.000000  1.000000  0.000000
+                 0.000000  0.000000  0.000000  1.000000)
+      (quat      1.000000 0.000000 0.000000 0.000000)
+      (euler     0.000000 -0.000000 0.000000)
+     )
+
+    (bone
+      (name      &quot;Bone.014&quot;)
+      (children )
+      (parent    &quot;Bone.013&quot;)
+      (head      -0.000000 0.000000 0.000000)
+      (length    0.541055560112)
+      (matrix   -0.894525  0.417369 -0.160087  0.000000
+                -0.200734 -0.055060  0.978097  0.000000
+                 0.399413  0.907067  0.133033  0.000000
+                 0.000000  0.000000  0.000000  1.000000)
+      (quat      0.214154 0.082919 0.653152 0.721564)
+      (euler     82.254608 9.211948 154.987091)
+     )
+
+  ) ;; bones
+ ) ;; armature

Added: trunk/windstille/data/armature/pose/pose-Armature.002-frame001.scm
===================================================================
--- trunk/windstille/data/armature/pose/pose-Armature.002-frame001.scm	2007-06-22 00:25:15 UTC (rev 1492)
+++ trunk/windstille/data/armature/pose/pose-Armature.002-frame001.scm	2007-06-22 02:22:50 UTC (rev 1493)
@@ -0,0 +1,57 @@
+;; -*- scheme -*-
+(pose
+  (name &quot;Armature.002&quot;)
+  (bones
+    ;; ignoring 'Bone.010' due to having the identity Quaternion
+    ;; ignoring 'Bone.009' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.004&quot;)
+      (quat 0.736380 0.540556 -0.406869 0.000000))
+    ;; ignoring 'Bone.007' due to having the identity Quaternion
+    ;; ignoring 'Bone.006' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.016&quot;)
+      (quat 0.846600 0.436540 -0.036300 -0.302296))
+    ;; ignoring 'Bone.008' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.020&quot;)
+      (quat 0.715425 0.000000 -0.100495 0.691424))
+    (bone
+      (name &quot;Bone.019&quot;)
+      (quat 0.664517 0.000000 0.541520 -0.514949))
+    (bone
+      (name &quot;Bone.018&quot;)
+      (quat 0.772098 0.000000 -0.230177 0.592354))
+    (bone
+      (name &quot;Bone.015&quot;)
+      (quat 0.997297 -0.045054 -0.014857 -0.056114))
+    ;; ignoring 'Bone.005' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.012&quot;)
+      (quat 0.772734 0.447621 0.051084 0.447110))
+    (bone
+      (name &quot;Bone.013&quot;)
+      (quat 0.950125 -0.020398 0.084046 0.299639))
+    (bone
+      (name &quot;Bone.001&quot;)
+      (quat 0.568982 0.560086 -0.438783 -0.412350))
+    (bone
+      (name &quot;Bone.002&quot;)
+      (quat 0.748372 0.657628 -0.061520 -0.060665))
+    (bone
+      (name &quot;Bone.003&quot;)
+      (quat 0.717549 -0.462735 -0.520576 0.000000))
+    ;; ignoring 'Bone.017' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.011&quot;)
+      (quat 0.739131 0.246644 0.536565 -0.323960))
+    (bone
+      (name &quot;Bone&quot;)
+      (quat 0.995361 -0.020720 -0.008488 -0.093572))
+    (bone
+      (name &quot;Bone.014&quot;)
+      (quat 0.671091 0.710779 0.138496 -0.158901))
+   ) ;; bones
+ ) ;; pose
+
+;; EOF ;;

Added: trunk/windstille/data/armature/pose/pose-Armature.002-frame002.scm
===================================================================
--- trunk/windstille/data/armature/pose/pose-Armature.002-frame002.scm	2007-06-22 00:25:15 UTC (rev 1492)
+++ trunk/windstille/data/armature/pose/pose-Armature.002-frame002.scm	2007-06-22 02:22:50 UTC (rev 1493)
@@ -0,0 +1,57 @@
+;; -*- scheme -*-
+(pose
+  (name &quot;Armature.002&quot;)
+  (bones
+    ;; ignoring 'Bone.010' due to having the identity Quaternion
+    ;; ignoring 'Bone.009' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.004&quot;)
+      (quat 0.739070 0.538207 -0.405102 0.000000))
+    ;; ignoring 'Bone.007' due to having the identity Quaternion
+    ;; ignoring 'Bone.006' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.016&quot;)
+      (quat 0.848401 0.433207 -0.037753 -0.301865))
+    ;; ignoring 'Bone.008' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.020&quot;)
+      (quat 0.717480 -0.001788 -0.101162 0.689191))
+    (bone
+      (name &quot;Bone.019&quot;)
+      (quat 0.665072 0.000559 0.541572 -0.514177))
+    (bone
+      (name &quot;Bone.018&quot;)
+      (quat 0.772393 0.003023 -0.230445 0.591857))
+    (bone
+      (name &quot;Bone.015&quot;)
+      (quat 0.997297 -0.045054 -0.014857 -0.056114))
+    ;; ignoring 'Bone.005' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.012&quot;)
+      (quat 0.772734 0.447621 0.051084 0.447110))
+    (bone
+      (name &quot;Bone.013&quot;)
+      (quat 0.951001 -0.021817 0.083613 0.296866))
+    (bone
+      (name &quot;Bone.001&quot;)
+      (quat 0.569026 0.560027 -0.439345 -0.411771))
+    (bone
+      (name &quot;Bone.002&quot;)
+      (quat 0.748372 0.657628 -0.061520 -0.060665))
+    (bone
+      (name &quot;Bone.003&quot;)
+      (quat 0.720260 -0.460872 -0.518480 0.000000))
+    ;; ignoring 'Bone.017' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.011&quot;)
+      (quat 0.739131 0.246644 0.536565 -0.323960))
+    (bone
+      (name &quot;Bone&quot;)
+      (quat 0.995361 -0.020720 -0.008488 -0.093572))
+    (bone
+      (name &quot;Bone.014&quot;)
+      (quat 0.669841 0.713037 0.135383 -0.156725))
+   ) ;; bones
+ ) ;; pose
+
+;; EOF ;;

Added: trunk/windstille/data/armature/pose/pose-Armature.002-frame003.scm
===================================================================
--- trunk/windstille/data/armature/pose/pose-Armature.002-frame003.scm	2007-06-22 00:25:15 UTC (rev 1492)
+++ trunk/windstille/data/armature/pose/pose-Armature.002-frame003.scm	2007-06-22 02:22:50 UTC (rev 1493)
@@ -0,0 +1,57 @@
+;; -*- scheme -*-
+(pose
+  (name &quot;Armature.002&quot;)
+  (bones
+    ;; ignoring 'Bone.010' due to having the identity Quaternion
+    ;; ignoring 'Bone.009' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.004&quot;)
+      (quat 0.746589 0.531541 -0.400086 0.000000))
+    ;; ignoring 'Bone.007' due to having the identity Quaternion
+    ;; ignoring 'Bone.006' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.016&quot;)
+      (quat 0.853400 0.423773 -0.041848 -0.300623))
+    ;; ignoring 'Bone.008' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.020&quot;)
+      (quat 0.723215 -0.006820 -0.103032 0.682860))
+    (bone
+      (name &quot;Bone.019&quot;)
+      (quat 0.666623 0.002125 0.541716 -0.512009))
+    (bone
+      (name &quot;Bone.018&quot;)
+      (quat 0.773183 0.011522 -0.231188 0.590430))
+    (bone
+      (name &quot;Bone.015&quot;)
+      (quat 0.997297 -0.045054 -0.014857 -0.056114))
+    ;; ignoring 'Bone.005' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.012&quot;)
+      (quat 0.772734 0.447621 0.051084 0.447110))
+    (bone
+      (name &quot;Bone.013&quot;)
+      (quat 0.953412 -0.025807 0.082389 0.289052))
+    (bone
+      (name &quot;Bone.001&quot;)
+      (quat 0.569146 0.559858 -0.440925 -0.410142))
+    (bone
+      (name &quot;Bone.002&quot;)
+      (quat 0.748372 0.657628 -0.061520 -0.060665))
+    (bone
+      (name &quot;Bone.003&quot;)
+      (quat 0.727841 -0.455586 -0.512532 0.000000))
+    ;; ignoring 'Bone.017' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.011&quot;)
+      (quat 0.739131 0.246644 0.536565 -0.323960))
+    (bone
+      (name &quot;Bone&quot;)
+      (quat 0.995361 -0.020720 -0.008488 -0.093572))
+    (bone
+      (name &quot;Bone.014&quot;)
+      (quat 0.666231 0.719339 0.126569 -0.150557))
+   ) ;; bones
+ ) ;; pose
+
+;; EOF ;;

Added: trunk/windstille/data/armature/pose/pose-Armature.002-frame004.scm
===================================================================
--- trunk/windstille/data/armature/pose/pose-Armature.002-frame004.scm	2007-06-22 00:25:15 UTC (rev 1492)
+++ trunk/windstille/data/armature/pose/pose-Armature.002-frame004.scm	2007-06-22 02:22:50 UTC (rev 1493)
@@ -0,0 +1,57 @@
+;; -*- scheme -*-
+(pose
+  (name &quot;Armature.002&quot;)
+  (bones
+    ;; ignoring 'Bone.010' due to having the identity Quaternion
+    ;; ignoring 'Bone.009' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.004&quot;)
+      (quat 0.758214 0.520929 -0.392101 0.000000))
+    ;; ignoring 'Bone.007' due to having the identity Quaternion
+    ;; ignoring 'Bone.006' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.016&quot;)
+      (quat 0.861032 0.408826 -0.048275 -0.298588))
+    ;; ignoring 'Bone.008' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.020&quot;)
+      (quat 0.732056 -0.014707 -0.105943 0.672795))
+    (bone
+      (name &quot;Bone.019&quot;)
+      (quat 0.669023 0.004561 0.541928 -0.508627))
+    (bone
+      (name &quot;Bone.018&quot;)
+      (quat 0.774301 0.024809 -0.232314 0.588109))
+    (bone
+      (name &quot;Bone.015&quot;)
+      (quat 0.997297 -0.045054 -0.014857 -0.056114))
+    ;; ignoring 'Bone.005' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.012&quot;)
+      (quat 0.772734 0.447621 0.051084 0.447110))
+    (bone
+      (name &quot;Bone.013&quot;)
+      (quat 0.957025 -0.032048 0.080459 0.276773))
+    (bone
+      (name &quot;Bone.001&quot;)
+      (quat 0.569328 0.559590 -0.443386 -0.407594))
+    (bone
+      (name &quot;Bone.002&quot;)
+      (quat 0.748372 0.657628 -0.061520 -0.060665))
+    (bone
+      (name &quot;Bone.003&quot;)
+      (quat 0.739569 -0.447172 -0.503066 0.000000))
+    ;; ignoring 'Bone.017' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.011&quot;)
+      (quat 0.739131 0.246644 0.536565 -0.323960))
+    (bone
+      (name &quot;Bone&quot;)
+      (quat 0.995361 -0.020720 -0.008488 -0.093572))
+    (bone
+      (name &quot;Bone.014&quot;)
+      (quat 0.660296 0.729052 0.112602 -0.140761))
+   ) ;; bones
+ ) ;; pose
+
+;; EOF ;;

Added: trunk/windstille/data/armature/pose/pose-Armature.002-frame005.scm
===================================================================
--- trunk/windstille/data/armature/pose/pose-Armature.002-frame005.scm	2007-06-22 00:25:15 UTC (rev 1492)
+++ trunk/windstille/data/armature/pose/pose-Armature.002-frame005.scm	2007-06-22 02:22:50 UTC (rev 1493)
@@ -0,0 +1,57 @@
+;; -*- scheme -*-
+(pose
+  (name &quot;Armature.002&quot;)
+  (bones
+    ;; ignoring 'Bone.010' due to having the identity Quaternion
+    ;; ignoring 'Bone.009' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.004&quot;)
+      (quat 0.773314 0.506562 -0.381289 0.000000))
+    ;; ignoring 'Bone.007' due to having the identity Quaternion
+    ;; ignoring 'Bone.006' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.016&quot;)
+      (quat 0.870756 0.388720 -0.056808 -0.295727))
+    ;; ignoring 'Bone.008' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.020&quot;)
+      (quat 0.743497 -0.025160 -0.109761 0.659190))
+    (bone
+      (name &quot;Bone.019&quot;)
+      (quat 0.672148 0.007756 0.542188 -0.504171))
+    (bone
+      (name &quot;Bone.018&quot;)
+      (quat 0.775560 0.042361 -0.233736 0.584876))
+    (bone
+      (name &quot;Bone.015&quot;)
+      (quat 0.997297 -0.045054 -0.014857 -0.056114))
+    ;; ignoring 'Bone.005' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.012&quot;)
+      (quat 0.772734 0.447621 0.051084 0.447110))
+    (bone
+      (name &quot;Bone.013&quot;)
+      (quat 0.961500 -0.040295 0.077880 0.260441))
+    (bone
+      (name &quot;Bone.001&quot;)
+      (quat 0.569557 0.559227 -0.446619 -0.404229))
+    (bone
+      (name &quot;Bone.002&quot;)
+      (quat 0.748372 0.657628 -0.061520 -0.060665))
+    (bone
+      (name &quot;Bone.003&quot;)
+      (quat 0.754818 -0.435781 -0.490249 0.000000))
+    ;; ignoring 'Bone.017' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.011&quot;)
+      (quat 0.739131 0.246644 0.536565 -0.323960))
+    (bone
+      (name &quot;Bone&quot;)
+      (quat 0.995361 -0.020720 -0.008488 -0.093572))
+    (bone
+      (name &quot;Bone.014&quot;)
+      (quat 0.651902 0.741591 0.093811 -0.127539))
+   ) ;; bones
+ ) ;; pose
+
+;; EOF ;;

Added: trunk/windstille/data/armature/pose/pose-Armature.002-frame006.scm
===================================================================
--- trunk/windstille/data/armature/pose/pose-Armature.002-frame006.scm	2007-06-22 00:25:15 UTC (rev 1492)
+++ trunk/windstille/data/armature/pose/pose-Armature.002-frame006.scm	2007-06-22 02:22:50 UTC (rev 1493)
@@ -0,0 +1,57 @@
+;; -*- scheme -*-
+(pose
+  (name &quot;Armature.002&quot;)
+  (bones
+    ;; ignoring 'Bone.010' due to having the identity Quaternion
+    ;; ignoring 'Bone.009' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.004&quot;)
+      (quat 0.791297 0.488510 -0.367705 0.000000))
+    ;; ignoring 'Bone.007' due to having the identity Quaternion
+    ;; ignoring 'Bone.006' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.016&quot;)
+      (quat 0.882033 0.363659 -0.067269 -0.291968))
+    ;; ignoring 'Bone.008' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.020&quot;)
+      (quat 0.757066 -0.037949 -0.114372 0.642130))
+    (bone
+      (name &quot;Bone.019&quot;)
+      (quat 0.675893 0.011622 0.542473 -0.498755))
+    (bone
+      (name &quot;Bone.018&quot;)
+      (quat 0.776757 0.063758 -0.235370 0.580675))
+    (bone
+      (name &quot;Bone.015&quot;)
+      (quat 0.997297 -0.045054 -0.014857 -0.056114))
+    ;; ignoring 'Bone.005' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.012&quot;)
+      (quat 0.772734 0.447621 0.051084 0.447110))
+    (bone
+      (name &quot;Bone.013&quot;)
+      (quat 0.966495 -0.050351 0.074691 0.240362))
+    (bone
+      (name &quot;Bone.001&quot;)
+      (quat 0.569819 0.558768 -0.450534 -0.400129))
+    (bone
+      (name &quot;Bone.002&quot;)
+      (quat 0.748372 0.657628 -0.061520 -0.060665))
+    (bone
+      (name &quot;Bone.003&quot;)
+      (quat 0.773011 -0.421470 -0.474149 0.000000))
+    ;; ignoring 'Bone.017' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.011&quot;)
+      (quat 0.739131 0.246644 0.536565 -0.323960))
+    (bone
+      (name &quot;Bone&quot;)
+      (quat 0.995361 -0.020720 -0.008488 -0.093572))
+    (bone
+      (name &quot;Bone.014&quot;)
+      (quat 0.640796 0.756376 0.070397 -0.110999))
+   ) ;; bones
+ ) ;; pose
+
+;; EOF ;;

Added: trunk/windstille/data/armature/pose/pose-Armature.002-frame007.scm
===================================================================
--- trunk/windstille/data/armature/pose/pose-Armature.002-frame007.scm	2007-06-22 00:25:15 UTC (rev 1492)
+++ trunk/windstille/data/armature/pose/pose-Armature.002-frame007.scm	2007-06-22 02:22:50 UTC (rev 1493)
@@ -0,0 +1,57 @@
+;; -*- scheme -*-
+(pose
+  (name &quot;Armature.002&quot;)
+  (bones
+    ;; ignoring 'Bone.010' due to having the identity Quaternion
+    ;; ignoring 'Bone.009' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.004&quot;)
+      (quat 0.811581 0.466784 -0.351354 0.000000))
+    ;; ignoring 'Bone.007' due to having the identity Quaternion
+    ;; ignoring 'Bone.006' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.016&quot;)
+      (quat 0.894303 0.333779 -0.079496 -0.287218))
+    ;; ignoring 'Bone.008' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.020&quot;)
+      (quat 0.772301 -0.052875 -0.119671 0.621638))
+    (bone
+      (name &quot;Bone.019&quot;)
+      (quat 0.680165 0.016082 0.542764 -0.492468))
+    (bone
+      (name &quot;Bone.018&quot;)
+      (quat 0.777682 0.088637 -0.237131 0.575433))
+    (bone
+      (name &quot;Bone.015&quot;)
+      (quat 0.997297 -0.045054 -0.014857 -0.056114))
+    ;; ignoring 'Bone.005' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.012&quot;)
+      (quat 0.772734 0.447621 0.051084 0.447110))
+    (bone
+      (name &quot;Bone.013&quot;)
+      (quat 0.971662 -0.062044 0.070921 0.216781))
+    (bone
+      (name &quot;Bone.001&quot;)
+      (quat 0.570100 0.558214 -0.455056 -0.395358))
+    (bone
+      (name &quot;Bone.002&quot;)
+      (quat 0.748372 0.657628 -0.061520 -0.060665))
+    (bone
+      (name &quot;Bone.003&quot;)
+      (quat 0.793577 -0.404249 -0.454774 0.000000))
+    ;; ignoring 'Bone.017' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.011&quot;)
+      (quat 0.739131 0.246644 0.536565 -0.323960))
+    (bone
+      (name &quot;Bone&quot;)
+      (quat 0.995361 -0.020720 -0.008488 -0.093572))
+    (bone
+      (name &quot;Bone.014&quot;)
+      (quat 0.626644 0.772782 0.042511 -0.091205))
+   ) ;; bones
+ ) ;; pose
+
+;; EOF ;;

Added: trunk/windstille/data/armature/pose/pose-Armature.002-frame008.scm
===================================================================
--- trunk/windstille/data/armature/pose/pose-Armature.002-frame008.scm	2007-06-22 00:25:15 UTC (rev 1492)
+++ trunk/windstille/data/armature/pose/pose-Armature.002-frame008.scm	2007-06-22 02:22:50 UTC (rev 1493)
@@ -0,0 +1,57 @@
+;; -*- scheme -*-
+(pose
+  (name &quot;Armature.002&quot;)
+  (bones
+    ;; ignoring 'Bone.010' due to having the identity Quaternion
+    ;; ignoring 'Bone.009' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.004&quot;)
+      (quat 0.833553 0.441375 -0.332231 0.000000))
+    ;; ignoring 'Bone.007' due to having the identity Quaternion
+    ;; ignoring 'Bone.006' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.016&quot;)
+      (quat 0.906972 0.299200 -0.093327 -0.281373))
+    ;; ignoring 'Bone.008' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.020&quot;)
+      (quat 0.788738 -0.069749 -0.125549 0.597716))
+    (bone
+      (name &quot;Bone.019&quot;)
+      (quat 0.684883 0.021070 0.543038 -0.485388))
+    (bone
+      (name &quot;Bone.018&quot;)
+      (quat 0.778119 0.116664 -0.238934 0.569062))
+    (bone
+      (name &quot;Bone.015&quot;)
+      (quat 0.997297 -0.045054 -0.014857 -0.056114))
+    ;; ignoring 'Bone.005' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.012&quot;)
+      (quat 0.772734 0.447621 0.051084 0.447110))
+    (bone
+      (name &quot;Bone.013&quot;)
+      (quat 0.976646 -0.075214 0.066594 0.189922))
+    (bone
+      (name &quot;Bone.001&quot;)
+      (quat 0.570386 0.557563 -0.460117 -0.389969))
+    (bone
+      (name &quot;Bone.002&quot;)
+      (quat 0.748372 0.657628 -0.061520 -0.060665))
+    (bone
+      (name &quot;Bone.003&quot;)
+      (quat 0.815928 -0.384107 -0.432114 0.000000))
+    ;; ignoring 'Bone.017' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.011&quot;)
+      (quat 0.739131 0.246644 0.536565 -0.323960))
+    (bone
+      (name &quot;Bone&quot;)
+      (quat 0.995361 -0.020720 -0.008488 -0.093572))
+    (bone
+      (name &quot;Bone.014&quot;)
+      (quat 0.609066 0.790112 0.010317 -0.068227))
+   ) ;; bones
+ ) ;; pose
+
+;; EOF ;;

Added: trunk/windstille/data/armature/pose/pose-Armature.002-frame009.scm
===================================================================
--- trunk/windstille/data/armature/pose/pose-Armature.002-frame009.scm	2007-06-22 00:25:15 UTC (rev 1492)
+++ trunk/windstille/data/armature/pose/pose-Armature.002-frame009.scm	2007-06-22 02:22:50 UTC (rev 1493)
@@ -0,0 +1,57 @@
+;; -*- scheme -*-
+(pose
+  (name &quot;Armature.002&quot;)
+  (bones
+    ;; ignoring 'Bone.010' due to having the identity Quaternion
+    ;; ignoring 'Bone.009' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.004&quot;)
+      (quat 0.856562 0.412295 -0.310344 0.000000))
+    ;; ignoring 'Bone.007' due to having the identity Quaternion
+    ;; ignoring 'Bone.006' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.016&quot;)
+      (quat 0.919409 0.260079 -0.108578 -0.274329))
+    ;; ignoring 'Bone.008' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.020&quot;)
+      (quat 0.805897 -0.088369 -0.131899 0.570372))
+    (bone
+      (name &quot;Bone.019&quot;)
+      (quat 0.689971 0.026529 0.543278 -0.477584))
+    (bone
+      (name &quot;Bone.018&quot;)
+      (quat 0.777851 0.147505 -0.240695 0.561476))
+    (bone
+      (name &quot;Bone.015&quot;)
+      (quat 0.997297 -0.045054 -0.014857 -0.056114))
+    ;; ignoring 'Bone.005' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.012&quot;)
+      (quat 0.772734 0.447621 0.051084 0.447110))
+    (bone
+      (name &quot;Bone.013&quot;)
+      (quat 0.981091 -0.089697 0.061736 0.160011))
+    (bone
+      (name &quot;Bone.001&quot;)
+      (quat 0.570665 0.556810 -0.465664 -0.384007))
+    (bone
+      (name &quot;Bone.002&quot;)
+      (quat 0.748372 0.657628 -0.061520 -0.060665))
+    (bone
+      (name &quot;Bone.003&quot;)
+      (quat 0.839441 -0.361053 -0.406177 0.000000))
+    ;; ignoring 'Bone.017' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.011&quot;)
+      (quat 0.739131 0.246644 0.536565 -0.323960))
+    (bone
+      (name &quot;Bone&quot;)
+      (quat 0.995361 -0.020720 -0.008488 -0.093572))
+    (bone
+      (name &quot;Bone.014&quot;)
+      (quat 0.587684 0.807574 -0.025947 -0.042184))
+   ) ;; bones
+ ) ;; pose
+
+;; EOF ;;

Added: trunk/windstille/data/armature/pose/pose-Armature.002-frame010.scm
===================================================================
--- trunk/windstille/data/armature/pose/pose-Armature.002-frame010.scm	2007-06-22 00:25:15 UTC (rev 1492)
+++ trunk/windstille/data/armature/pose/pose-Armature.002-frame010.scm	2007-06-22 02:22:50 UTC (rev 1493)
@@ -0,0 +1,57 @@
+;; -*- scheme -*-
+(pose
+  (name &quot;Armature.002&quot;)
+  (bones
+    ;; ignoring 'Bone.010' due to having the identity Quaternion
+    ;; ignoring 'Bone.009' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.004&quot;)
+      (quat 0.879910 0.379615 -0.285747 0.000000))
+    ;; ignoring 'Bone.007' due to having the identity Quaternion
+    ;; ignoring 'Bone.006' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.016&quot;)
+      (quat 0.930951 0.216663 -0.125031 -0.265997))
+    ;; ignoring 'Bone.008' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.020&quot;)
+      (quat 0.823279 -0.108511 -0.138602 0.539654))
+    (bone
+      (name &quot;Bone.019&quot;)
+      (quat 0.695360 0.032405 0.543465 -0.469116))
+    (bone
+      (name &quot;Bone.018&quot;)
+      (quat 0.776670 0.180809 -0.242331 0.552601))
+    (bone
+      (name &quot;Bone.015&quot;)
+      (quat 0.997297 -0.045054 -0.014857 -0.056114))
+    ;; ignoring 'Bone.005' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.012&quot;)
+      (quat 0.772734 0.447621 0.051084 0.447110))
+    (bone
+      (name &quot;Bone.013&quot;)
+      (quat 0.984644 -0.105319 0.056376 0.127298))
+    (bone
+      (name &quot;Bone.001&quot;)
+      (quat 0.570926 0.555951 -0.471645 -0.377510))
+    (bone
+      (name &quot;Bone.002&quot;)
+      (quat 0.748372 0.657628 -0.061520 -0.060665))
+    (bone
+      (name &quot;Bone.003&quot;)
+      (quat 0.863447 -0.335135 -0.377019 0.000000))
+    ;; ignoring 'Bone.017' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.011&quot;)
+      (quat 0.739131 0.246644 0.536565 -0.323960))
+    (bone
+      (name &quot;Bone&quot;)
+      (quat 0.995361 -0.020720 -0.008488 -0.093572))
+    (bone
+      (name &quot;Bone.014&quot;)
+      (quat 0.562175 0.824281 -0.065906 -0.013291))
+   ) ;; bones
+ ) ;; pose
+
+;; EOF ;;

Added: trunk/windstille/data/armature/pose/pose-Armature.002-frame011.scm
===================================================================
--- trunk/windstille/data/armature/pose/pose-Armature.002-frame011.scm	2007-06-22 00:25:15 UTC (rev 1492)
+++ trunk/windstille/data/armature/pose/pose-Armature.002-frame011.scm	2007-06-22 02:22:50 UTC (rev 1493)
@@ -0,0 +1,57 @@
+;; -*- scheme -*-
+(pose
+  (name &quot;Armature.002&quot;)
+  (bones
+    ;; ignoring 'Bone.010' due to having the identity Quaternion
+    ;; ignoring 'Bone.009' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.004&quot;)
+      (quat 0.902857 0.343502 -0.258566 0.000000))
+    ;; ignoring 'Bone.007' due to having the identity Quaternion
+    ;; ignoring 'Bone.006' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.016&quot;)
+      (quat 0.940927 0.169326 -0.142425 -0.256320))
+    ;; ignoring 'Bone.008' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.020&quot;)
+      (quat 0.840375 -0.129917 -0.145533 0.505680))
+    (bone
+      (name &quot;Bone.019&quot;)
+      (quat 0.700987 0.038647 0.543584 -0.460044))
+    (bone
+      (name &quot;Bone.018&quot;)
+      (quat 0.774382 0.216193 -0.243761 0.542378))
+    (bone
+      (name &quot;Bone.015&quot;)
+      (quat 0.997297 -0.045054 -0.014857 -0.056114))
+    ;; ignoring 'Bone.005' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.012&quot;)
+      (quat 0.772734 0.447621 0.051084 0.447110))
+    (bone
+      (name &quot;Bone.013&quot;)
+      (quat 0.986969 -0.121888 0.050553 0.092083))
+    (bone
+      (name &quot;Bone.001&quot;)
+      (quat 0.571156 0.554982 -0.478015 -0.370509))
+    (bone
+      (name &quot;Bone.002&quot;)
+      (quat 0.748372 0.657628 -0.061520 -0.060665))
+    (bone
+      (name &quot;Bone.003&quot;)
+      (quat 0.887244 -0.306475 -0.344777 0.000000))
+    ;; ignoring 'Bone.017' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.011&quot;)
+      (quat 0.739131 0.246644 0.536565 -0.323960))
+    (bone
+      (name &quot;Bone&quot;)
+      (quat 0.995361 -0.020720 -0.008488 -0.093572))
+    (bone
+      (name &quot;Bone.014&quot;)
+      (quat 0.532343 0.839286 -0.109006 0.018108))
+   ) ;; bones
+ ) ;; pose
+
+;; EOF ;;

Added: trunk/windstille/data/armature/pose/pose-Armature.002-frame012.scm
===================================================================
--- trunk/windstille/data/armature/pose/pose-Armature.002-frame012.scm	2007-06-22 00:25:15 UTC (rev 1492)
+++ trunk/windstille/data/armature/pose/pose-Armature.002-frame012.scm	2007-06-22 02:22:50 UTC (rev 1493)
@@ -0,0 +1,57 @@
+;; -*- scheme -*-
+(pose
+  (name &quot;Armature.002&quot;)
+  (bones
+    ;; ignoring 'Bone.010' due to having the identity Quaternion
+    ;; ignoring 'Bone.009' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.004&quot;)
+      (quat 0.924651 0.304252 -0.229022 0.000000))
+    ;; ignoring 'Bone.007' due to having the identity Quaternion
+    ;; ignoring 'Bone.006' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.016&quot;)
+      (quat 0.948695 0.118606 -0.160450 -0.245287))
+    ;; ignoring 'Bone.008' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.020&quot;)
+      (quat 0.856675 -0.152287 -0.152556 0.468662))
+    (bone
+      (name &quot;Bone.019&quot;)
+      (quat 0.706788 0.045204 0.543619 -0.450428))
+    (bone
+      (name &quot;Bone.018&quot;)
+      (quat 0.770820 0.253234 -0.244910 0.530781))
+    (bone
+      (name &quot;Bone.015&quot;)
+      (quat 0.997297 -0.045054 -0.014857 -0.056114))
+    ;; ignoring 'Bone.005' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.012&quot;)
+      (quat 0.772734 0.447621 0.051084 0.447110))
+    (bone
+      (name &quot;Bone.013&quot;)
+      (quat 0.987759 -0.139187 0.044314 0.054722))
+    (bone
+      (name &quot;Bone.001&quot;)
+      (quat 0.571345 0.553899 -0.484735 -0.363033))
+    (bone
+      (name &quot;Bone.002&quot;)
+      (quat 0.748372 0.657628 -0.061520 -0.060665))
+    (bone
+      (name &quot;Bone.003&quot;)
+      (quat 0.910110 -0.275294 -0.309698 0.000000))
+    ;; ignoring 'Bone.017' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.011&quot;)
+      (quat 0.739131 0.246644 0.536565 -0.323960))
+    (bone
+      (name &quot;Bone&quot;)
+      (quat 0.995361 -0.020720 -0.008488 -0.093572))
+    (bone
+      (name &quot;Bone.014&quot;)
+      (quat 0.498192 0.851639 -0.154478 0.051507))
+   ) ;; bones
+ ) ;; pose
+
+;; EOF ;;

Added: trunk/windstille/data/armature/pose/pose-Armature.002-frame013.scm
===================================================================
--- trunk/windstille/data/armature/pose/pose-Armature.002-frame013.scm	2007-06-22 00:25:15 UTC (rev 1492)
+++ trunk/windstille/data/armature/pose/pose-Armature.002-frame013.scm	2007-06-22 02:22:50 UTC (rev 1493)
@@ -0,0 +1,57 @@
+;; -*- scheme -*-
+(pose
+  (name &quot;Armature.002&quot;)
+  (bones
+    ;; ignoring 'Bone.010' due to having the identity Quaternion
+    ;; ignoring 'Bone.009' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.004&quot;)
+      (quat 0.944566 0.262312 -0.197453 0.000000))
+    ;; ignoring 'Bone.007' due to having the identity Quaternion
+    ;; ignoring 'Bone.006' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.016&quot;)
+      (quat 0.953690 0.065224 -0.178756 -0.232952))
+    ;; ignoring 'Bone.008' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.020&quot;)
+      (quat 0.871691 -0.175282 -0.159531 0.428930))
+    (bone
+      (name &quot;Bone.019&quot;)
+      (quat 0.712703 0.052025 0.543558 -0.440333))
+    (bone
+      (name &quot;Bone.018&quot;)
+      (quat 0.765856 0.291458 -0.245712 0.517825))
+    (bone
+      (name &quot;Bone.015&quot;)
+      (quat 0.997297 -0.045054 -0.014857 -0.056114))
+    ;; ignoring 'Bone.005' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.012&quot;)
+      (quat 0.772734 0.447621 0.051084 0.447110))
+    (bone
+      (name &quot;Bone.013&quot;)
+      (quat 0.986757 -0.156979 0.037724 0.015644))
+    (bone
+      (name &quot;Bone.001&quot;)
+      (quat 0.571481 0.552697 -0.491765 -0.355109))
+    (bone
+      (name &quot;Bone.002&quot;)
+      (quat 0.748372 0.657628 -0.061520 -0.060665))
+    (bone
+      (name &quot;Bone.003&quot;)
+      (quat 0.931344 -0.241925 -0.272159 0.000000))
+    ;; ignoring 'Bone.017' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.011&quot;)
+      (quat 0.739131 0.246644 0.536565 -0.323960))
+    (bone
+      (name &quot;Bone&quot;)
+      (quat 0.995361 -0.020720 -0.008488 -0.093572))
+    (bone
+      (name &quot;Bone.014&quot;)
+      (quat 0.459991 0.860483 -0.201347 0.086234))
+   ) ;; bones
+ ) ;; pose
+
+;; EOF ;;

Added: trunk/windstille/data/armature/pose/pose-Armature.002-frame014.scm
===================================================================
--- trunk/windstille/data/armature/pose/pose-Armature.002-frame014.scm	2007-06-22 00:25:15 UTC (rev 1492)
+++ trunk/windstille/data/armature/pose/pose-Armature.002-frame014.scm	2007-06-22 02:22:50 UTC (rev 1493)
@@ -0,0 +1,57 @@
+;; -*- scheme -*-
+(pose
+  (name &quot;Armature.002&quot;)
+  (bones
+    ;; ignoring 'Bone.010' due to having the identity Quaternion
+    ;; ignoring 'Bone.009' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.004&quot;)
+      (quat 0.961948 0.218298 -0.164323 0.000000))
+    ;; ignoring 'Bone.007' due to having the identity Quaternion
+    ;; ignoring 'Bone.006' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.016&quot;)
+      (quat 0.955483 0.010084 -0.196961 -0.219446))
+    ;; ignoring 'Bone.008' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.020&quot;)
+      (quat 0.884983 -0.198523 -0.166315 0.386953))
+    (bone
+      (name &quot;Bone.019&quot;)
+      (quat 0.718669 0.059054 0.543390 -0.429831))
+    (bone
+      (name &quot;Bone.018&quot;)
+      (quat 0.759416 0.330338 -0.246113 0.503579))
+    (bone
+      (name &quot;Bone.015&quot;)
+      (quat 0.997297 -0.045054 -0.014857 -0.056114))
+    ;; ignoring 'Bone.005' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.012&quot;)
+      (quat 0.772734 0.447621 0.051084 0.447110))
+    (bone
+      (name &quot;Bone.013&quot;)
+      (quat 0.983777 -0.174997 0.030861 -0.024642))
+    (bone
+      (name &quot;Bone.001&quot;)
+      (quat 0.571556 0.551371 -0.499069 -0.346760))
+    (bone
+      (name &quot;Bone.002&quot;)
+      (quat 0.748372 0.657628 -0.061520 -0.060665))
+    (bone
+      (name &quot;Bone.003&quot;)
+      (quat 0.950304 -0.206836 -0.232684 0.000000))
+    ;; ignoring 'Bone.017' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.011&quot;)
+      (quat 0.739131 0.246644 0.536565 -0.323960))
+    (bone
+      (name &quot;Bone&quot;)
+      (quat 0.995361 -0.020720 -0.008488 -0.093572))
+    (bone
+      (name &quot;Bone.014&quot;)
+      (quat 0.418325 0.865165 -0.248469 0.121479))
+   ) ;; bones
+ ) ;; pose
+
+;; EOF ;;

Added: trunk/windstille/data/armature/pose/pose-Armature.002-frame015.scm
===================================================================
--- trunk/windstille/data/armature/pose/pose-Armature.002-frame015.scm	2007-06-22 00:25:15 UTC (rev 1492)
+++ trunk/windstille/data/armature/pose/pose-Armature.002-frame015.scm	2007-06-22 02:22:50 UTC (rev 1493)
@@ -0,0 +1,57 @@
+;; -*- scheme -*-
+(pose
+  (name &quot;Armature.002&quot;)
+  (bones
+    ;; ignoring 'Bone.010' due to having the identity Quaternion
+    ;; ignoring 'Bone.009' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.004&quot;)
+      (quat 0.976275 0.172998 -0.130224 0.000000))
+    ;; ignoring 'Bone.007' due to having the identity Quaternion
+    ;; ignoring 'Bone.006' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.016&quot;)
+      (quat 0.953838 -0.045737 -0.214666 -0.204987))
+    ;; ignoring 'Bone.008' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.020&quot;)
+      (quat 0.896187 -0.221595 -0.172771 0.343357))
+    (bone
+      (name &quot;Bone.019&quot;)
+      (quat 0.724620 0.066223 0.543109 -0.419014))
+    (bone
+      (name &quot;Bone.018&quot;)
+      (quat 0.751499 0.369286 -0.246078 0.488183))
+    (bone
+      (name &quot;Bone.015&quot;)
+      (quat 0.997297 -0.045054 -0.014857 -0.056114))
+    ;; ignoring 'Bone.005' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.012&quot;)
+      (quat 0.772734 0.447621 0.051084 0.447110))
+    (bone
+      (name &quot;Bone.013&quot;)
+      (quat 0.978728 -0.192950 0.023822 -0.065535))
+    (bone
+      (name &quot;Bone.001&quot;)
+      (quat 0.571561 0.549918 -0.506613 -0.338011))
+    (bone
+      (name &quot;Bone.002&quot;)
+      (quat 0.748372 0.657628 -0.061520 -0.060665))
+    (bone
+      (name &quot;Bone.003&quot;)
+      (quat 0.966458 -0.170629 -0.191952 0.000000))
+    ;; ignoring 'Bone.017' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.011&quot;)
+      (quat 0.739131 0.246644 0.536565 -0.323960))
+    (bone
+      (name &quot;Bone&quot;)
+      (quat 0.995361 -0.020720 -0.008488 -0.093572))
+    (bone
+      (name &quot;Bone.014&quot;)
+      (quat 0.374105 0.865341 -0.294603 0.156330))
+   ) ;; bones
+ ) ;; pose
+
+;; EOF ;;

Added: trunk/windstille/data/armature/pose/pose-Armature.002-frame016.scm
===================================================================
--- trunk/windstille/data/armature/pose/pose-Armature.002-frame016.scm	2007-06-22 00:25:15 UTC (rev 1492)
+++ trunk/windstille/data/armature/pose/pose-Armature.002-frame016.scm	2007-06-22 02:22:50 UTC (rev 1493)
@@ -0,0 +1,57 @@
+;; -*- scheme -*-
+(pose
+  (name &quot;Armature.002&quot;)
+  (bones
+    ;; ignoring 'Bone.010' due to having the identity Quaternion
+    ;; ignoring 'Bone.009' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.004&quot;)
+      (quat 0.987208 0.127380 -0.095885 0.000000))
+    ;; ignoring 'Bone.007' due to having the identity Quaternion
+    ;; ignoring 'Bone.006' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.016&quot;)
+      (quat 0.948768 -0.101000 -0.231473 -0.189890))
+    ;; ignoring 'Bone.008' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.020&quot;)
+      (quat 0.905046 -0.244048 -0.178766 0.298956))
+    (bone
+      (name &quot;Bone.019&quot;)
+      (quat 0.730479 0.073449 0.542713 -0.408005))
+    (bone
+      (name &quot;Bone.018&quot;)
+      (quat 0.742198 0.407634 -0.245595 0.471869))
+    (bone
+      (name &quot;Bone.015&quot;)
+      (quat 0.997297 -0.045054 -0.014857 -0.056114))
+    ;; ignoring 'Bone.005' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.012&quot;)
+      (quat 0.772734 0.447621 0.051084 0.447110))
+    (bone
+      (name &quot;Bone.013&quot;)
+      (quat 0.971648 -0.210515 0.016729 -0.106319))
+    (bone
+      (name &quot;Bone.001&quot;)
+      (quat 0.571486 0.548335 -0.514359 -0.328888))
+    (bone
+      (name &quot;Bone.002&quot;)
+      (quat 0.748372 0.657628 -0.061520 -0.060665))
+    (bone
+      (name &quot;Bone.003&quot;)
+      (quat 0.979432 -0.134055 -0.150808 0.000000))
+    ;; ignoring 'Bone.017' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.011&quot;)
+      (quat 0.739131 0.246644 0.536565 -0.323960))
+    (bone
+      (name &quot;Bone&quot;)
+      (quat 0.995361 -0.020720 -0.008488 -0.093572))
+    (bone
+      (name &quot;Bone.014&quot;)
+      (quat 0.328548 0.861069 -0.338493 0.189839))
+   ) ;; bones
+ ) ;; pose
+
+;; EOF ;;

Added: trunk/windstille/data/armature/pose/pose-Armature.002-frame017.scm
===================================================================
--- trunk/windstille/data/armature/pose/pose-Armature.002-frame017.scm	2007-06-22 00:25:15 UTC (rev 1492)
+++ trunk/windstille/data/armature/pose/pose-Armature.002-frame017.scm	2007-06-22 02:22:50 UTC (rev 1493)
@@ -0,0 +1,57 @@
+;; -*- scheme -*-
+(pose
+  (name &quot;Armature.002&quot;)
+  (bones
+    ;; ignoring 'Bone.010' due to having the identity Quaternion
+    ;; ignoring 'Bone.009' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.004&quot;)
+      (quat 0.994636 0.082637 -0.062205 0.000000))
+    ;; ignoring 'Bone.007' due to having the identity Quaternion
+    ;; ignoring 'Bone.006' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.016&quot;)
+      (quat 0.940592 -0.154278 -0.246988 -0.174589))
+    ;; ignoring 'Bone.008' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.020&quot;)
+      (quat 0.911438 -0.265377 -0.184177 0.254823))
+    (bone
+      (name &quot;Bone.019&quot;)
+      (quat 0.736148 0.080610 0.542208 -0.396987))
+    (bone
+      (name &quot;Bone.018&quot;)
+      (quat 0.731743 0.444580 -0.244684 0.455006))
+    (bone
+      (name &quot;Bone.015&quot;)
+      (quat 0.997297 -0.045054 -0.014857 -0.056114))
+    ;; ignoring 'Bone.005' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.012&quot;)
+      (quat 0.772734 0.447621 0.051084 0.447110))
+    (bone
+      (name &quot;Bone.013&quot;)
+      (quat 0.962750 -0.227316 0.009739 -0.146097))
+    (bone
+      (name &quot;Bone.001&quot;)
+      (quat 0.571324 0.546623 -0.522266 -0.319422))
+    (bone
+      (name &quot;Bone.002&quot;)
+      (quat 0.748372 0.657628 -0.061520 -0.060665))
+    (bone
+      (name &quot;Bone.003&quot;)
+      (quat 0.989048 -0.098058 -0.110312 0.000000))
+    ;; ignoring 'Bone.017' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.011&quot;)
+      (quat 0.739131 0.246644 0.536565 -0.323960))
+    (bone
+      (name &quot;Bone&quot;)
+      (quat 0.995361 -0.020720 -0.008488 -0.093572))
+    (bone
+      (name &quot;Bone.014&quot;)
+      (quat 0.283173 0.852860 -0.378920 0.221048))
+   ) ;; bones
+ ) ;; pose
+
+;; EOF ;;

Added: trunk/windstille/data/armature/pose/pose-Armature.002-frame018.scm
===================================================================
--- trunk/windstille/data/armature/pose/pose-Armature.002-frame018.scm	2007-06-22 00:25:15 UTC (rev 1492)
+++ trunk/windstille/data/armature/pose/pose-Armature.002-frame018.scm	2007-06-22 02:22:50 UTC (rev 1493)
@@ -0,0 +1,57 @@
+;; -*- scheme -*-
+(pose
+  (name &quot;Armature.002&quot;)
+  (bones
+    ;; ignoring 'Bone.010' due to having the identity Quaternion
+    ;; ignoring 'Bone.009' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.004&quot;)
+      (quat 0.998722 0.040376 -0.030393 0.000000))
+    ;; ignoring 'Bone.007' due to having the identity Quaternion
+    ;; ignoring 'Bone.006' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.016&quot;)
+      (quat 0.930040 -0.203752 -0.260776 -0.159709))
+    ;; ignoring 'Bone.008' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.020&quot;)
+      (quat 0.915408 -0.284939 -0.188874 0.212519))
+    (bone
+      (name &quot;Bone.019&quot;)
+      (quat 0.741474 0.087503 0.541615 -0.386281))
+    (bone
+      (name &quot;Bone.018&quot;)
+      (quat 0.720600 0.479010 -0.243418 0.438216))
+    (bone
+      (name &quot;Bone.015&quot;)
+      (quat 0.997297 -0.045054 -0.014857 -0.056114))
+    ;; ignoring 'Bone.005' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.012&quot;)
+      (quat 0.772734 0.447621 0.051084 0.447110))
+    (bone
+      (name &quot;Bone.013&quot;)
+      (quat 0.952526 -0.242851 0.003085 -0.183599))
+    (bone
+      (name &quot;Bone.001&quot;)
+      (quat 0.571073 0.544785 -0.530278 -0.309661))
+    (bone
+      (name &quot;Bone.002&quot;)
+      (quat 0.748372 0.657628 -0.061520 -0.060665))
+    (bone
+      (name &quot;Bone.003&quot;)
+      (quat 0.995360 -0.063928 -0.071917 0.000000))
+    ;; ignoring 'Bone.017' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.011&quot;)
+      (quat 0.739131 0.246644 0.536565 -0.323960))
+    (bone
+      (name &quot;Bone&quot;)
+      (quat 0.995361 -0.020720 -0.008488 -0.093572))
+    (bone
+      (name &quot;Bone.014&quot;)
+      (quat 0.239925 0.841768 -0.414609 0.248922))
+   ) ;; bones
+ ) ;; pose
+
+;; EOF ;;

Added: trunk/windstille/data/armature/pose/pose-Armature.002-frame019.scm
===================================================================
--- trunk/windstille/data/armature/pose/pose-Armature.002-frame019.scm	2007-06-22 00:25:15 UTC (rev 1492)
+++ trunk/windstille/data/armature/pose/pose-Armature.002-frame019.scm	2007-06-22 02:22:50 UTC (rev 1493)
@@ -0,0 +1,57 @@
+;; -*- scheme -*-
+(pose
+  (name &quot;Armature.002&quot;)
+  (bones
+    ;; ignoring 'Bone.010' due to having the identity Quaternion
+    ;; ignoring 'Bone.009' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.004&quot;)
+      (quat 0.999991 0.003416 -0.002572 0.000000))
+    ;; ignoring 'Bone.007' due to having the identity Quaternion
+    ;; ignoring 'Bone.006' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.016&quot;)
+      (quat 0.918602 -0.246338 -0.272150 -0.146366))
+    ;; ignoring 'Bone.008' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.020&quot;)
+      (quat 0.917227 -0.301606 -0.192656 0.174963))
+    (bone
+      (name &quot;Bone.019&quot;)
+      (quat 0.746138 0.093681 0.540994 -0.376600))
+    (bone
+      (name &quot;Bone.018&quot;)
+      (quat 0.709783 0.508838 -0.241974 0.422778))
+    (bone
+      (name &quot;Bone.015&quot;)
+      (quat 0.997297 -0.045054 -0.014857 -0.056114))
+    ;; ignoring 'Bone.005' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.012&quot;)
+      (quat 0.772734 0.447621 0.051084 0.447110))
+    (bone
+      (name &quot;Bone.013&quot;)
+      (quat 0.942078 -0.256202 -0.002795 -0.216431))
+    (bone
+      (name &quot;Bone.001&quot;)
+      (quat 0.570734 0.542843 -0.538293 -0.299707))
+    (bone
+      (name &quot;Bone.002&quot;)
+      (quat 0.748372 0.657628 -0.061520 -0.060665))
+    (bone
+      (name &quot;Bone.003&quot;)
+      (quat 0.998692 -0.033965 -0.038210 0.000000))
+    ;; ignoring 'Bone.017' due to having the identity Quaternion
+    (bone
+      (name &quot;Bone.011&quot;)
+      (quat 0.739131 0.246644 0.536565 -0.323960))
+    (bone
+      (name &quot;Bone&quot;)
+      (quat 0.995361 -0.020720 -0.008488 -0.093572))
+    (bone
+      (name &quot;Bone.014&quot;)
+      (quat 0.201918 0.829736 -0.443665 0.271898))
+   ) ;; bones
+ ) ;; pose
+
+;; EOF ;;

Modified: trunk/windstille/data/armature.arm
===================================================================
--- trunk/windstille/data/armature.arm	2007-06-22 00:25:15 UTC (rev 1492)
+++ trunk/windstille/data/armature.arm	2007-06-22 02:22:50 UTC (rev 1493)
@@ -1,300 +1,532 @@
 ;; -*- scheme -*-
 (armature
-  (name &quot;Armature.002&quot;)
+  (name &quot;Armature&quot;)
   (bones
     (bone
-      (name      &quot;Bone.010&quot;)
+      (name      &quot;LegNull.L&quot;)
       (children )
-      (parent    &quot;Bone.009&quot;)
-      (head      -0.000000 -0.000000 0.000000)
-      (length    0.609991371632)
-      (matrix   -0.885632  0.281300 -0.369496  0.000000
-                -0.399715 -0.056720  0.914883  0.000000
-                 0.236399  0.957942  0.162673  0.000000
+      (parent    &quot;Lower Leg.L&quot;)
+      (head      0.000000 0.000000 0.000000)
+      (length    0.304411530495)
+      (matrix    0.999972  0.005368  0.005170  0.000000
+                -0.007122  0.892687  0.450621  0.000000
+                -0.002196 -0.450645  0.892701  0.000000
                  0.000000  0.000000  0.000000  1.000000)
-      (quat      0.234692 -0.045868 0.645414 0.725435)
-      (euler     79.917725 21.684511 162.378754)
+      (quat      0.972800 0.231616 -0.001893 0.003210)
+      (euler     26.783894 -0.296207 0.307582)
      )
 
     (bone
-      (name      &quot;Bone.009&quot;)
-      (children  &quot;Bone.010&quot;)
-      (parent    &quot;Bone.008&quot;)
-      (head      0.000000 -0.000000 -0.000000)
-      (length    0.528390169144)
-      (matrix    0.984876 -0.173264  0.000002  0.000000
-                 0.173264  0.984876  0.000000  0.000000
-                -0.000002 -0.000000  1.000000  0.000000
+      (name      &quot;Hip.R&quot;)
+      (children  &quot;Upper Leg.R&quot;)
+      (parent    &quot;Base&quot;)
+      (head      0.040620 -0.025407 0.039311)
+      (length    0.431728333235)
+      (matrix    0.464597  0.621588  0.630696  0.000000
+                 0.637705 -0.729017  0.248730  0.000000
+                 0.614396  0.286639 -0.735089  0.000000
                  0.000000  0.000000  0.000000  1.000000)
-      (quat      0.996212 0.000000 -0.000001 -0.086961)
-      (euler     0.000021 -0.000104 -9.977630)
+      (quat      0.011075 -0.855673 -0.367925 -0.363775)
+      (euler     161.305908 -39.101479 53.224251)
      )
 
     (bone
-      (name      &quot;Bone.004&quot;)
-      (children  &quot;Bone.008&quot;)
-      (parent    &quot;Bone.017&quot;)
-      (head      0.120711 -0.025305 0.000000)
-      (length    0.669082939625)
-      (matrix   -0.798969 -0.601373 -0.000000  0.000000
-                 0.601373 -0.798969  0.000000  0.000000
-                -0.000000 -0.000000  1.000000  0.000000
+      (name      &quot;Foot.L&quot;)
+      (children  &quot;Toes.L&quot;)
+      (parent    &quot;Lower Leg.L&quot;)
+      (head      0.000000 0.000000 0.000000)
+      (length    0.404503107071)
+      (matrix    0.906031  0.404751  0.123627  0.000000
+                -0.132580  0.548868 -0.825328  0.000000
+                -0.401907  0.731382  0.550954  0.000000
                  0.000000  0.000000  0.000000  1.000000)
-      (quat      0.317042 0.000000 -0.000000 -0.948411)
-      (euler     0.000004 0.000012 -143.031738)
+      (quat      0.866870 -0.448946 -0.151561 0.154963)
+      (euler     -56.274601 -7.101489 24.071722)
      )
 
     (bone
-      (name      &quot;Bone.007&quot;)
+      (name      &quot;Upper Arm.L&quot;)
+      (children  &quot;Forearm.L&quot;)
+      (parent    &quot;Shoulder.L&quot;)
+      (head      0.000000 -0.000000 -0.000000)
+      (length    0.532597184181)
+      (matrix    0.910775 -0.272327  0.310365  0.000000
+                 0.149810  0.918392  0.366215  0.000000
+                -0.384767 -0.287044  0.877246  0.000000
+                 0.000000  0.000000  0.000000  1.000000)
+      (quat      0.962602 0.169659 -0.180534 -0.109634)
+      (euler     22.658567 -18.081202 -16.646996)
+     )
+
+    (bone
+      (name      &quot;Belly&quot;)
       (children )
-      (parent    &quot;Bone.006&quot;)
-      (head      -0.000000 -0.000000 -0.000000)
-      (length    0.580758810043)
-      (matrix   -0.940337 -0.203484  0.272692  0.000000
-                 0.255785  0.105733  0.960934  0.000000
-                -0.224367  0.973352 -0.047377  0.000000
+      (parent    &quot;Base&quot;)
+      (head      0.000000 -0.023287 0.366125)
+      (length    0.353247731924)
+      (matrix    1.000000  0.000000  0.000000  0.000000
+                 0.000000 -0.210548  0.977583  0.000000
+                 0.000000 -0.977583 -0.210548  0.000000
                  0.000000  0.000000  0.000000  1.000000)
-      (quat      0.171770 -0.018074 -0.723437 -0.668436)
-      (euler     -87.177452 -164.175507 12.210252)
+      (quat      0.628272 0.777994 0.000000 0.000000)
+      (euler     102.154480 -0.000000 0.000000)
      )
 
     (bone
-      (name      &quot;Bone.006&quot;)
-      (children  &quot;Bone.007&quot;)
-      (parent    &quot;Bone.005&quot;)
+      (name      &quot;Upper Arm.R&quot;)
+      (children  &quot;Forearm.R&quot;)
+      (parent    &quot;Shoulder.R&quot;)
       (head      0.000000 -0.000000 -0.000000)
-      (length    0.460424661636)
-      (matrix    0.975521  0.219905 -0.000003  0.000000
-                -0.219905  0.975521  0.000000  0.000000
-                 0.000003  0.000000  1.000000  0.000000
+      (length    0.532600164413)
+      (matrix    0.910775  0.272329 -0.310364  0.000000
+                -0.149812  0.918392  0.366214  0.000000
+                 0.384767 -0.287043  0.877246  0.000000
                  0.000000  0.000000  0.000000  1.000000)
-      (quat      0.993861 -0.000000 0.000001 0.110632)
-      (euler     0.000007 0.000158 12.703480)
+      (quat      0.962602 0.169659 0.180534 0.109635)
+      (euler     22.658527 18.081165 16.647091)
      )
 
     (bone
-      (name      &quot;Bone.016&quot;)
-      (children  &quot;Bone.018&quot;)
-      (parent    &quot;Bone.015&quot;)
-      (head      0.000000 -0.000000 -0.000000)
-      (length    0.7483959198)
-      (matrix    0.992324  0.120612 -0.027324  0.000000
-                 0.020425 -0.377748 -0.925683  0.000000
-                -0.121970  0.918019 -0.377312  0.000000
+      (name      &quot;Foot.R&quot;)
+      (children  &quot;Toes.R&quot;)
+      (parent    &quot;Lower Leg.R&quot;)
+      (head      0.000000 0.000000 0.000000)
+      (length    0.404503583908)
+      (matrix    0.906031 -0.404751 -0.123628  0.000000
+                 0.132580  0.548868 -0.825328  0.000000
+                 0.401908  0.731382  0.550954  0.000000
                  0.000000  0.000000  0.000000  1.000000)
-      (quat      0.556162 -0.828762 -0.042544 0.045035)
-      (euler     -112.175995 1.565737 6.930044)
+      (quat      0.866870 -0.448946 0.151561 -0.154963)
+      (euler     -56.274616 7.101521 -24.071732)
      )
 
     (bone
-      (name      &quot;Bone.008&quot;)
-      (children  &quot;Bone.009&quot;)
-      (parent    &quot;Bone.004&quot;)
-      (head      -0.000000 0.000000 0.000000)
-      (length    0.534853637218)
-      (matrix    0.817942 -0.575300 -0.000003  0.000000
-                 0.575300  0.817942  0.000000  0.000000
-                 0.000002 -0.000002  1.000000  0.000000
+      (name      &quot;Hip.L&quot;)
+      (children  &quot;Upper Leg.L&quot;)
+      (parent    &quot;Base&quot;)
+      (head      -0.039261 -0.025407 0.039311)
+      (length    0.431728303432)
+      (matrix    0.464598 -0.621588 -0.630696  0.000000
+                -0.637705 -0.729017  0.248730  0.000000
+                -0.614396  0.286638 -0.735089  0.000000
                  0.000000  0.000000  0.000000  1.000000)
-      (quat      0.953400 0.000000 0.000001 -0.301710)
-      (euler     0.000006 0.000148 -35.120655)
+      (quat      0.011075 -0.855673 0.367926 0.363775)
+      (euler     161.305908 39.101467 -53.224239)
      )
 
     (bone
-      (name      &quot;Bone.020&quot;)
+      (name      &quot;LegNull.R&quot;)
       (children )
-      (parent    &quot;Bone.019&quot;)
+      (parent    &quot;Lower Leg.R&quot;)
       (head      0.000000 0.000000 0.000000)
-      (length    0.783167004585)
-      (matrix    1.000000 -0.000000  0.000000  0.000000
-                -0.000000  0.786170  0.618010  0.000000
-                -0.000000 -0.618010  0.786170  0.000000
+      (length    0.304411709309)
+      (matrix    0.999972 -0.005368 -0.005170  0.000000
+                 0.007122  0.892687  0.450621  0.000000
+                 0.002196 -0.450646  0.892700  0.000000
                  0.000000  0.000000  0.000000  1.000000)
-      (quat      0.945032 0.326978 -0.000000 0.000000)
-      (euler     38.170948 -0.000017 -0.000002)
+      (quat      0.972800 0.231617 0.001893 -0.003210)
+      (euler     26.783947 0.296225 -0.307576)
      )
 
     (bone
-      (name      &quot;Bone.019&quot;)
-      (children  &quot;Bone.020&quot;)
-      (parent    &quot;Bone.018&quot;)
+      (name      &quot;Neck&quot;)
+      (children  &quot;Head&quot;)
+      (parent    &quot;Shoulders&quot;)
+      (head      0.000000 0.000000 0.000000)
+      (length    0.265078753233)
+      (matrix    1.000000  0.000000  0.000000  0.000000
+                 0.000000  0.779717  0.626133  0.000000
+                 0.000000 -0.626133  0.779717  0.000000
+                 0.000000  0.000000  0.000000  1.000000)
+      (quat      0.943323 0.331876 0.000000 0.000000)
+      (euler     38.765362 -0.000000 0.000000)
+     )
+
+    (bone
+      (name      &quot;Hip&quot;)
+      (children  &quot;Body&quot;)
+      (parent    &quot;Base&quot;)
+      (head      0.000000 0.003058 0.001977)
+      (length    0.369722664356)
+      (matrix    1.000000  0.000000  0.000000  0.000000
+                 0.000000  0.997063  0.076591  0.000000
+                 0.000000 -0.076591  0.997063  0.000000
+                 0.000000  0.000000  0.000000  1.000000)
+      (quat      0.999265 0.038324 0.000000 0.000000)
+      (euler     4.392666 -0.000000 0.000000)
+     )
+
+    (bone
+      (name      &quot;Shoulders&quot;)
+      (children  &quot;Shoulder.R&quot; &quot;Neck&quot; &quot;Shoulder.L&quot;)
+      (parent    &quot;Body&quot;)
       (head      0.000000 -0.000000 0.000000)
-      (length    0.885059058666)
-      (matrix    1.000000 -0.000000 -0.000000  0.000000
-                -0.000000  0.904786 -0.425867  0.000000
-                 0.000000  0.425867  0.904786  0.000000
+      (length    0.273266792297)
+      (matrix    1.000000  0.000000  0.000000  0.000000
+                 0.000000  0.999747  0.022513  0.000000
+                 0.000000 -0.022513  0.999747  0.000000
                  0.000000  0.000000  0.000000  1.000000)
-      (quat      0.975906 -0.218191 0.000000 -0.000000)
-      (euler     -25.205584 0.000023 -0.000006)
+      (quat      0.999937 0.011257 0.000000 0.000000)
+      (euler     1.290035 -0.000000 0.000000)
      )
 
     (bone
-      (name      &quot;Bone.018&quot;)
-      (children  &quot;Bone.019&quot;)
-      (parent    &quot;Bone.016&quot;)
+      (name      &quot;Shoulder.L&quot;)
+      (children  &quot;Upper Arm.L&quot;)
+      (parent    &quot;Shoulders&quot;)
+      (head      -0.133503 0.016665 -0.103217)
+      (length    0.469278484583)
+      (matrix   -0.211034 -0.390487 -0.896094  0.000000
+                -0.881235 -0.320669  0.347271  0.000000
+                -0.422954  0.862955 -0.276439  0.000000
+                 0.000000  0.000000  0.000000  1.000000)
+      (quat      0.219008 -0.588658 0.540093 0.560193)
+      (euler     -51.479080 116.350693 61.611565)
+     )
+
+    (bone
+      (name      &quot;FingerTips.L&quot;)
+      (children )
+      (parent    &quot;Fingers.L&quot;)
       (head      0.000000 -0.000000 0.000000)
-      (length    0.711826086044)
-      (matrix    0.999458 -0.018364 -0.027324  0.000000
-                -0.011594  0.580457 -0.814208  0.000000
-                 0.030813  0.814084  0.579930  0.000000
+      (length    0.108158022165)
+      (matrix    0.972665 -0.148899 -0.178189  0.000000
+                 0.118983  0.978544 -0.168213  0.000000
+                 0.199413  0.142414  0.969512  0.000000
                  0.000000  0.000000  0.000000  1.000000)
-      (quat      0.888798 -0.458004 0.016353 -0.001904)
-      (euler     -54.539162 1.565734 -1.052638)
+      (quat      0.990040 -0.078438 0.095350 -0.067644)
+      (euler     -9.843000 10.264305 -8.703487)
      )
 
+    (bone ;; a root bone
+      (name      &quot;Base&quot;)
+      (children  &quot;Belly&quot; &quot;Hip.R&quot; &quot;Hip.L&quot; &quot;Hip&quot;)
+      (parent )
+      (head      -0.134862 -0.098326 -1.250145)
+      (length    0.226376548409)
+      (matrix    1.000000  0.000000  0.000000  0.000000
+                 0.000000 -0.011341  0.999936  0.000000
+                 0.000000 -0.999936 -0.011341  0.000000
+                 0.000000  0.000000  0.000000  1.000000)
+      (quat      0.703086 0.711105 0.000000 0.000000)
+      (euler     90.649788 -0.000000 0.000000)
+     )
+
     (bone
-      (name      &quot;Bone.015&quot;)
-      (children  &quot;Bone.016&quot;)
-      (parent    &quot;Bone&quot;)
+      (name      &quot;FingerTips.R&quot;)
+      (children )
+      (parent    &quot;Fingers.R&quot;)
       (head      0.000000 0.000000 0.000000)
-      (length    0.392938047647)
-      (matrix    0.994743 -0.102400 -0.000000  0.000000
-                 0.102400  0.994743  0.000000  0.000000
-                -0.000000 -0.000000  1.000000  0.000000
+      (length    0.115987353027)
+      (matrix    0.983139  0.129105  0.129499  0.000000
+                -0.114042  0.986481 -0.117684  0.000000
+                -0.142942  0.100931  0.984571  0.000000
                  0.000000  0.000000  0.000000  1.000000)
-      (quat      0.998685 0.000000 -0.000000 -0.051267)
-      (euler     0.000007 0.000000 -5.877398)
+      (quat      0.994257 -0.054969 -0.068503 0.061138)
+      (euler     -6.816101 -7.440626 7.481205)
      )
 
     (bone
-      (name      &quot;Bone.005&quot;)
-      (children  &quot;Bone.006&quot;)
-      (parent    &quot;Bone.003&quot;)
+      (name      &quot;Shoulder.R&quot;)
+      (children  &quot;Upper Arm.R&quot;)
+      (parent    &quot;Shoulders&quot;)
+      (head      0.134862 0.016665 -0.103217)
+      (length    0.469281196594)
+      (matrix   -0.211033  0.390487  0.896095  0.000000
+                 0.881236 -0.320668  0.347269  0.000000
+                 0.422952  0.862956 -0.276439  0.000000
+                 0.000000  0.000000  0.000000  1.000000)
+      (quat      0.219009 -0.588658 -0.540094 -0.560192)
+      (euler     -51.478901 -116.350647 -61.611626)
+     )
+
+    (bone
+      (name      &quot;Body&quot;)
+      (children  &quot;Shoulders&quot;)
+      (parent    &quot;Hip&quot;)
       (head      0.000000 0.000000 0.000000)
-      (length    0.571729123592)
-      (matrix    0.782333  0.622860  0.000001  0.000000
-                -0.622860  0.782333  0.000000  0.000000
-                -0.000000 -0.000000  1.000000  0.000000
+      (length    0.367126226425)
+      (matrix    1.000000  0.000000  0.000000  0.000000
+                 0.000000  0.989207 -0.146523  0.000000
+                 0.000000  0.146523  0.989207  0.000000
                  0.000000  0.000000  0.000000  1.000000)
-      (quat      0.944016 0.000000 -0.000000 0.329899)
-      (euler     0.000003 -0.000030 38.525307)
+      (quat      0.997298 -0.073460 0.000000 0.000000)
+      (euler     -8.425456 -0.000000 0.000000)
      )
 
     (bone
-      (name      &quot;Bone.012&quot;)
+      (name      &quot;Toes.R&quot;)
       (children )
-      (parent    &quot;Bone.011&quot;)
-      (head      0.000000 0.000000 0.000000)
-      (length    0.616347193718)
-      (matrix   -0.601701 -0.639778  0.478163  0.000000
-                 0.473509  0.196392  0.858615  0.000000
-                -0.643230  0.743044  0.184771  0.000000
+      (parent    &quot;Foot.R&quot;)
+      (head      0.000000 0.000000 -0.000000)
+      (length    0.225673496723)
+      (matrix   -0.908818 -0.133897 -0.395122  0.000000
+                 0.133896  0.803379 -0.580218  0.000000
+                 0.395123 -0.580218 -0.712197  0.000000
                  0.000000  0.000000  0.000000  1.000000)
-      (quat      0.441436 0.065452 -0.635083 -0.630492)
-      (euler     77.855347 -28.565483 -133.243271)
+      (quat      0.213521 -0.000000 0.925256 -0.313545)
+      (euler     39.169266 156.726395 8.381133)
      )
 
+    ;; ignoring bone: IK_Foot.R
+
     (bone
-      (name      &quot;Bone.013&quot;)
-      (children  &quot;Bone.014&quot;)
-      (parent    &quot;Bone.001&quot;)
-      (head      0.000000 -0.000000 -0.000000)
-      (length    0.552089452744)
-      (matrix    0.497525 -0.867449 -0.000000  0.000000
-                 0.867449  0.497525  0.000000  0.000000
-                 0.000000 -0.000000  1.000000  0.000000
+      (name      &quot;Hand.L&quot;)
+      (children  &quot;Fingers.L&quot; &quot;LowerThumb.L&quot;)
+      (parent    &quot;Forearm.L&quot;)
+      (head      0.006394 0.036837 -0.005415)
+      (length    0.252678990364)
+      (matrix    0.997139 -0.069244 -0.030322  0.000000
+                 0.068329  0.997204 -0.030247  0.000000
+                 0.032331  0.028089  0.999082  0.000000
                  0.000000  0.000000  0.000000  1.000000)
-      (quat      0.865311 0.000000 0.000000 -0.501236)
-      (euler     0.000006 0.000023 -60.163593)
+      (quat      0.999178 -0.014596 0.015676 -0.034421)
+      (euler     -1.734115 1.737576 -3.972393)
      )
 
     (bone
-      (name      &quot;Bone.001&quot;)
-      (children  &quot;Bone.013&quot;)
-      (parent    &quot;Bone&quot;)
+      (name      &quot;Fingers.R&quot;)
+      (children  &quot;FingerTips.R&quot;)
+      (parent    &quot;Hand.R&quot;)
       (head      0.000000 0.000000 0.000000)
-      (length    0.780920624733)
-      (matrix   -0.264986 -0.964252 -0.000000  0.000000
-                 0.964252 -0.264986  0.000000  0.000000
-                -0.000000 -0.000000  1.000000  0.000000
+      (length    0.121155880392)
+      (matrix    0.991391 -0.084731  0.099819  0.000000
+                 0.094134  0.991150 -0.093593  0.000000
+                -0.091006  0.102183  0.990594  0.000000
                  0.000000  0.000000  0.000000  1.000000)
-      (quat      0.606224 0.000000 0.000000 -0.795294)
-      (euler     0.000003 0.000004 -105.366104)
+      (quat      0.996636 -0.049109 -0.047867 -0.044867)
+      (euler     -5.397351 -5.728763 -4.885005)
      )
 
     (bone
-      (name      &quot;Bone.002&quot;)
-      (children  &quot;Bone.011&quot;)
-      (parent    &quot;Bone&quot;)
-      (head      0.000000 0.000000 0.000000)
-      (length    0.732812821865)
-      (matrix   -0.290226  0.956958  0.000000  0.000000
-                -0.956958 -0.290226  0.000000  0.000000
-                 0.000000 -0.000000  1.000000  0.000000
+      (name      &quot;Head&quot;)
+      (children )
+      (parent    &quot;Neck&quot;)
+      (head      0.000000 0.000000 -0.000000)
+      (length    0.266009777784)
+      (matrix    1.000000  0.000000  0.000000  0.000000
+                 0.000000  0.612928  0.790139  0.000000
+                 0.000000 -0.790139  0.612928  0.000000
                  0.000000  0.000000  0.000000  1.000000)
-      (quat      0.595724 0.000000 0.000000 0.803189)
-      (euler     0.000003 -0.000005 106.871468)
+      (quat      0.898033 0.439927 0.000000 0.000000)
+      (euler     52.198494 -0.000000 0.000000)
      )
 
     (bone
-      (name      &quot;Bone.003&quot;)
-      (children  &quot;Bone.005&quot;)
-      (parent    &quot;Bone.017&quot;)
-      (head      -0.080474 -0.013809 -0.000000)
-      (length    0.692165970802)
-      (matrix   -0.664364  0.747409  0.000000  0.000000
-                -0.747409 -0.664364  0.000000  0.000000
-                 0.000000 -0.000000  1.000000  0.000000
+      (name      &quot;Fingers.L&quot;)
+      (children  &quot;FingerTips.L&quot;)
+      (parent    &quot;Hand.L&quot;)
+      (head      0.000000 -0.000000 0.000000)
+      (length    0.123009525239)
+      (matrix    0.990993  0.081848 -0.105986  0.000000
+                -0.092455  0.990746 -0.099367  0.000000
+                 0.096872  0.108271  0.989390  0.000000
                  0.000000  0.000000  0.000000  1.000000)
-      (quat      0.409656 0.000000 0.000000 0.912240)
-      (euler     0.000000 -0.000000 131.633560)
+      (quat      0.996385 -0.052098 0.050899 0.043734)
+      (euler     -5.735142 6.083978 4.721476)
      )
 
-    (bone ;; a root bone
-      (name      &quot;Bone.017&quot;)
-      (children  &quot;Bone&quot; &quot;Bone.003&quot; &quot;Bone.004&quot;)
-      (parent )
-      (head      0.000000 0.979157 -0.000000)
-      (length    0.259003162384)
-      (matrix    1.000000  0.000000  0.000000  0.000000
-                 0.000000  1.000000  0.000000  0.000000
-                 0.000000  0.000000  1.000000  0.000000
+    ;; ignoring bone: IK_Foot.L
+
+    (bone
+      (name      &quot;Hand.R&quot;)
+      (children  &quot;Fingers.R&quot; &quot;LowerThumb.R&quot;)
+      (parent    &quot;Forearm.R&quot;)
+      (head      -0.006394 0.036837 -0.005415)
+      (length    0.252679944038)
+      (matrix    0.997139  0.069245  0.030321  0.000000
+                -0.068330  0.997204 -0.030247  0.000000
+                -0.032331  0.028089  0.999083  0.000000
                  0.000000  0.000000  0.000000  1.000000)
-      (quat      1.000000 0.000000 0.000000 0.000000)
-      (euler     0.000000 -0.000000 0.000000)
+      (quat      0.999178 -0.014596 -0.015676 0.034422)
+      (euler     -1.734105 -1.737553 3.972439)
      )
 
     (bone
-      (name      &quot;Bone.011&quot;)
-      (children  &quot;Bone.012&quot;)
-      (parent    &quot;Bone.002&quot;)
+      (name      &quot;Toes.L&quot;)
+      (children )
+      (parent    &quot;Foot.L&quot;)
+      (head      0.000000 -0.000000 0.000000)
+      (length    0.225673481822)
+      (matrix   -0.908818  0.133897  0.395121  0.000000
+                -0.133896  0.803379 -0.580220  0.000000
+                -0.395122 -0.580219 -0.712197  0.000000
+                 0.000000  0.000000  0.000000  1.000000)
+      (quat      0.213520 -0.000000 -0.925256 0.313545)
+      (euler     39.169338 -156.726486 -8.381155)
+     )
+
+    (bone
+      (name      &quot;Thumb.R&quot;)
+      (children )
+      (parent    &quot;LowerThumb.R&quot;)
       (head      0.000000 -0.000000 -0.000000)
-      (length    0.563668251038)
-      (matrix    0.479301  0.877651 -0.000000  0.000000
-                -0.877651  0.479301  0.000000  0.000000
-                 0.000000  0.000000  1.000000  0.000000
+      (length    0.124690033495)
+      (matrix    0.802272  0.596655  0.019050  0.000000
+                -0.568549  0.753974  0.329051  0.000000
+                 0.181966 -0.274819  0.944120  0.000000
                  0.000000  0.000000  0.000000  1.000000)
-      (quat      0.860029 0.000000 0.000000 0.510245)
-      (euler     0.000003 0.000003 61.360241)
+      (quat      0.935463 0.161383 0.043539 0.311397)
+      (euler     19.214809 -1.091573 36.638412)
      )
 
     (bone
-      (name      &quot;Bone&quot;)
-      (children  &quot;Bone.001&quot; &quot;Bone.002&quot; &quot;Bone.015&quot;)
-      (parent    &quot;Bone.017&quot;)
-      (head      0.000000 0.106902 -0.000000)
-      (length    0.844800710678)
-      (matrix    1.000000  0.000000  0.000000  0.000000
-                 0.000000  1.000000  0.000000  0.000000
-                 0.000000  0.000000  1.000000  0.000000
+      (name      &quot;Lower Leg.L&quot;)
+      (children  &quot;Foot.L&quot; &quot;LegNull.L&quot;)
+      (parent    &quot;Upper Leg.L&quot;)
+      (head      -0.000000 -0.000000 -0.000000)
+      (length    0.840111851692)
+      (matrix    0.999287 -0.025254 -0.028072  0.000000
+                 0.028426  0.992486  0.119012  0.000000
+                 0.024856 -0.119725  0.992496  0.000000
                  0.000000  0.000000  0.000000  1.000000)
-      (quat      1.000000 0.000000 0.000000 0.000000)
-      (euler     0.000000 -0.000000 0.000000)
+      (quat      0.998032 0.059802 0.013258 -0.013447)
+      (euler     6.837777 1.608627 -1.447700)
      )
 
     (bone
-      (name      &quot;Bone.014&quot;)
+      (name      &quot;Upper Leg.R&quot;)
+      (children  &quot;Lower Leg.R&quot;)
+      (parent    &quot;Hip.R&quot;)
+      (head      -0.000384 0.012505 -0.020905)
+      (length    0.878771603107)
+      (matrix    0.491190  0.626030  0.605656  0.000000
+                -0.550237  0.762022 -0.341411  0.000000
+                -0.675256 -0.165557  0.718763  0.000000
+                 0.000000  0.000000  0.000000  1.000000)
+      (quat      0.861971 -0.051003 -0.371507 0.341156)
+      (euler     -25.407631 -37.276051 51.881889)
+     )
+
+    (bone
+      (name      &quot;ArmNull.R&quot;)
       (children )
-      (parent    &quot;Bone.013&quot;)
+      (parent    &quot;Forearm.R&quot;)
+      (head      -0.000000 0.000000 0.000000)
+      (length    0.225655809045)
+      (matrix   -0.071245  0.997459  0.000002  0.000000
+                 0.000001 -0.000002  1.000000  0.000000
+                 0.997459  0.071245 -0.000001  0.000000
+                 0.000000  0.000000  0.000000  1.000000)
+      (quat      0.481859 0.481860 0.517505 0.517505)
+      (euler     90.000046 -0.000100 94.085472)
+     )
+
+    (bone
+      (name      &quot;LowerThumb.R&quot;)
+      (children  &quot;Thumb.R&quot;)
+      (parent    &quot;Hand.R&quot;)
+      (head      0.018833 -0.247973 -0.030859)
+      (length    0.18653345108)
+      (matrix    0.641058 -0.448956  0.622481  0.000000
+                 0.720677  0.631055 -0.287045  0.000000
+                -0.263949  0.632620  0.728095  0.000000
+                 0.000000  0.000000  0.000000  1.000000)
+      (quat      0.866055 -0.265475 -0.255881 -0.337632)
+      (euler     -21.516390 -38.497547 -35.004948)
+     )
+
+    ;; ignoring bone: IK_Arm.L
+
+    (bone
+      (name      &quot;Thumb.L&quot;)
+      (children )
+      (parent    &quot;LowerThumb.L&quot;)
+      (head      0.000000 -0.000000 0.000000)
+      (length    0.124689802527)
+      (matrix    0.802273 -0.596653 -0.019055  0.000000
+                 0.568549  0.753975  0.329049  0.000000
+                -0.181961 -0.274821  0.944120  0.000000
+                 0.000000  0.000000  0.000000  1.000000)
+      (quat      0.935464 0.161383 -0.043536 -0.311397)
+      (euler     19.214701 1.091854 -36.638298)
+     )
+
+    (bone
+      (name      &quot;Forearm.L&quot;)
+      (children  &quot;ArmNull.L&quot; &quot;Hand.L&quot;)
+      (parent    &quot;Upper Arm.L&quot;)
       (head      0.000000 0.000000 0.000000)
-      (length    0.541055619717)
-      (matrix   -0.894525  0.417369 -0.160087  0.000000
-                -0.200734 -0.055060  0.978097  0.000000
-                 0.399413  0.907067  0.133033  0.000000
+      (length    0.527911424637)
+      (matrix    0.999244 -0.013579  0.036439  0.000000
+                 0.012327  0.999333  0.034372  0.000000
+                -0.036882 -0.033897  0.998745  0.000000
                  0.000000  0.000000  0.000000  1.000000)
-      (quat      0.214154 0.082919 0.653152 0.721564)
-      (euler     82.254608 9.211949 154.987091)
+      (quat      0.999665 0.017073 -0.018336 -0.006479)
+      (euler     1.971080 -2.088271 -0.778577)
      )
 
+    (bone
+      (name      &quot;Forearm.R&quot;)
+      (children  &quot;ArmNull.R&quot; &quot;Hand.R&quot;)
+      (parent    &quot;Upper Arm.R&quot;)
+      (head      0.000000 0.000000 0.000000)
+      (length    0.52791339159)
+      (matrix    0.999244  0.013580 -0.036439  0.000000
+                -0.012328  0.999333  0.034372  0.000000
+                 0.036881 -0.033897  0.998745  0.000000
+                 0.000000  0.000000  0.000000  1.000000)
+      (quat      0.999665 0.017073 0.018336 0.006479)
+      (euler     1.971067 2.088254 0.778619)
+     )
+
+    ;; ignoring bone: IK_Arm.R
+
+    (bone
+      (name      &quot;LowerThumb.L&quot;)
+      (children  &quot;Thumb.L&quot;)
+      (parent    &quot;Hand.L&quot;)
+      (head      -0.018833 -0.247972 -0.030859)
+      (length    0.186534255743)
+      (matrix    0.641059  0.448958 -0.622479  0.000000
+                -0.720678  0.631053 -0.287046  0.000000
+                 0.263946  0.632620  0.728096  0.000000
+                 0.000000  0.000000  0.000000  1.000000)
+      (quat      0.866055 -0.265475 0.255880 0.337633)
+      (euler     -21.516422 38.497414 35.005035)
+     )
+
+    (bone
+      (name      &quot;ArmNull.L&quot;)
+      (children )
+      (parent    &quot;Forearm.L&quot;)
+      (head      0.000000 0.000000 0.000000)
+      (length    0.225656166673)
+      (matrix   -0.071246 -0.997459 -0.000002  0.000000
+                -0.000001 -0.000002  1.000000  0.000000
+                -0.997459  0.071246 -0.000001  0.000000
+                 0.000000  0.000000  0.000000  1.000000)
+      (quat      0.481859 0.481860 -0.517505 -0.517505)
+      (euler     90.000053 0.000107 -94.085587)
+     )
+
+    (bone
+      (name      &quot;Lower Leg.R&quot;)
+      (children  &quot;Foot.R&quot; &quot;LegNull.R&quot;)
+      (parent    &quot;Upper Leg.R&quot;)
+      (head      -0.000000 0.000000 0.000000)
+      (length    0.840111792088)
+      (matrix    0.999287  0.025254  0.028077  0.000000
+                -0.028426  0.992486  0.119012  0.000000
+                -0.024860 -0.119725  0.992496  0.000000
+                 0.000000  0.000000  0.000000  1.000000)
+      (quat      0.998032 0.059802 -0.013260 0.013446)
+      (euler     6.837786 -1.608881 1.447677)
+     )
+
+    (bone
+      (name      &quot;Upper Leg.L&quot;)
+      (children  &quot;Lower Leg.L&quot;)
+      (parent    &quot;Hip.L&quot;)
+      (head      0.000384 0.012505 -0.020905)
+      (length    0.87877124548)
+      (matrix    0.491187 -0.626029 -0.605659  0.000000
+                 0.550238  0.762022 -0.341411  0.000000
+                 0.675259 -0.165560  0.718760  0.000000
+                 0.000000  0.000000  0.000000  1.000000)
+      (quat      0.861970 -0.051003 0.371509 -0.341157)
+      (euler     -25.407711 37.276279 -51.882030)
+     )
+
   ) ;; bones
  ) ;; armature

Modified: trunk/windstille/data/pose.pose
===================================================================
--- trunk/windstille/data/pose.pose	2007-06-22 00:25:15 UTC (rev 1492)
+++ trunk/windstille/data/pose.pose	2007-06-22 02:22:50 UTC (rev 1493)
@@ -1,70 +1,122 @@
 ;; -*- scheme -*-
 (pose
-  (name &quot;Armature.002&quot;)
+  (name &quot;Armature&quot;)
   (bones
     (bone
-      (name &quot;Bone.010&quot;)
+      (name &quot;LegNull.L&quot;)
       (quat 1.000000 0.000000 0.000000 0.000000))
     (bone
-      (name &quot;Bone.009&quot;)
+      (name &quot;Hip.R&quot;)
       (quat 1.000000 0.000000 0.000000 0.000000))
     (bone
-      (name &quot;Bone.004&quot;)
-      (quat 0.548134 0.668250 -0.502982 0.000000))
+      (name &quot;Foot.L&quot;)
+      (quat 0.981134 -0.178468 0.019928 0.071610))
     (bone
-      (name &quot;Bone.007&quot;)
+      (name &quot;Upper Arm.L&quot;)
+      (quat 0.998861 -0.024739 0.032929 0.024101))
+    (bone
+      (name &quot;Belly&quot;)
       (quat 1.000000 0.000000 0.000000 0.000000))
     (bone
-      (name &quot;Bone.006&quot;)
+      (name &quot;Upper Arm.R&quot;)
       (quat 1.000000 0.000000 0.000000 0.000000))
     (bone
-      (name &quot;Bone.016&quot;)
+      (name &quot;Foot.R&quot;)
+      (quat 0.982884 -0.170392 -0.017590 -0.067794))
+    (bone
+      (name &quot;Hip.L&quot;)
       (quat 1.000000 0.000000 0.000000 0.000000))
     (bone
-      (name &quot;Bone.008&quot;)
+      (name &quot;LegNull.R&quot;)
       (quat 1.000000 0.000000 0.000000 0.000000))
     (bone
-      (name &quot;Bone.020&quot;)
+      (name &quot;Toes.R&quot;)
+      (quat 0.996146 0.087286 -0.001040 0.008563))
+    (bone
+      (name &quot;Hip&quot;)
+      (quat 0.994097 0.108492 -0.000000 -0.000000))
+    (bone
+      (name &quot;Shoulders&quot;)
       (quat 1.000000 0.000000 0.000000 0.000000))
     (bone
-      (name &quot;Bone.019&quot;)
+      (name &quot;Shoulder.L&quot;)
+      (quat 0.995713 0.082223 -0.042187 -0.003781))
+    (bone
+      (name &quot;FingerTips.L&quot;)
       (quat 1.000000 0.000000 0.000000 0.000000))
     (bone
-      (name &quot;Bone.018&quot;)
+      (name &quot;Base&quot;)
       (quat 1.000000 0.000000 0.000000 0.000000))
     (bone
-      (name &quot;Bone.015&quot;)
+      (name &quot;FingerTips.R&quot;)
       (quat 1.000000 0.000000 0.000000 0.000000))
     (bone
-      (name &quot;Bone.005&quot;)
+      (name &quot;Shoulder.R&quot;)
+      (quat 0.978040 -0.058752 0.080541 -0.183029))
+    (bone
+      (name &quot;Body&quot;)
+      (quat 0.992664 0.031935 0.114502 -0.022083))
+    (bone
+      (name &quot;Neck&quot;)
+      (quat 0.995636 -0.093322 0.000000 0.000000))
+    ;; ignoring 'IK_Foot.R'
+    (bone
+      (name &quot;Hand.L&quot;)
       (quat 1.000000 0.000000 0.000000 0.000000))
     (bone
-      (name &quot;Bone.012&quot;)
+      (name &quot;Fingers.R&quot;)
       (quat 1.000000 0.000000 0.000000 0.000000))
     (bone
-      (name &quot;Bone.013&quot;)
+      (name &quot;Head&quot;)
+      (quat 0.999629 0.027239 -0.000000 -0.000000))
+    (bone
+      (name &quot;Fingers.L&quot;)
       (quat 1.000000 0.000000 0.000000 0.000000))
+    ;; ignoring 'IK_Foot.L'
     (bone
-      (name &quot;Bone.001&quot;)
+      (name &quot;Hand.R&quot;)
+      (quat 0.916991 -0.251808 -0.260843 -0.166376))
+    (bone
+      (name &quot;Toes.L&quot;)
+      (quat 0.999787 -0.019559 0.000860 -0.006569))
+    (bone
+      (name &quot;Thumb.R&quot;)
       (quat 1.000000 0.000000 0.000000 0.000000))
     (bone
-      (name &quot;Bone.002&quot;)
+      (name &quot;Lower Leg.L&quot;)
       (quat 1.000000 0.000000 0.000000 0.000000))
     (bone
-      (name &quot;Bone.003&quot;)
+      (name &quot;Upper Leg.R&quot;)
+      (quat 0.863445 -0.504211 -0.010364 -0.011251))
+    (bone
+      (name &quot;ArmNull.R&quot;)
       (quat 1.000000 0.000000 0.000000 0.000000))
     (bone
-      (name &quot;Bone.017&quot;)
+      (name &quot;LowerThumb.R&quot;)
       (quat 1.000000 0.000000 0.000000 0.000000))
+    ;; ignoring 'IK_Arm.L'
     (bone
-      (name &quot;Bone.011&quot;)
+      (name &quot;Thumb.L&quot;)
       (quat 1.000000 0.000000 0.000000 0.000000))
     (bone
-      (name &quot;Bone&quot;)
+      (name &quot;Forearm.L&quot;)
+      (quat 0.881179 0.401351 0.238638 0.074114))
+    (bone
+      (name &quot;Forearm.R&quot;)
+      (quat 0.899349 0.406663 -0.154142 0.045121))
+    ;; ignoring 'IK_Arm.R'
+    (bone
+      (name &quot;LowerThumb.L&quot;)
       (quat 1.000000 0.000000 0.000000 0.000000))
     (bone
-      (name &quot;Bone.014&quot;)
+      (name &quot;ArmNull.L&quot;)
       (quat 1.000000 0.000000 0.000000 0.000000))
+    (bone
+      (name &quot;Lower Leg.R&quot;)
+      (quat 1.000000 0.000000 0.000000 0.000000))
+    (bone
+      (name &quot;Upper Leg.L&quot;)
+      (quat 0.936424 -0.350708 0.007208 0.007827))
    ) ;; bones
  ) ;; pose
 

Modified: trunk/windstille/src/armature/armature.cpp
===================================================================
--- trunk/windstille/src/armature/armature.cpp	2007-06-22 00:25:15 UTC (rev 1492)
+++ trunk/windstille/src/armature/armature.cpp	2007-06-22 02:22:50 UTC (rev 1493)
@@ -150,9 +150,9 @@
   Vector3 p__ = p_ + m_.multiply(Vector3(0.0f, bone-&gt;length, 0.0f));
 
   // p to p+offset
-  glColor3f(0.0f, 0.5f, 0.0f);
+  glColor4f(0.0f, 0.5f, 0.0f, 0.5f);
   glVertex3f(  p.x, p.y, p.z);
-  glColor3f(0.0f, 1.0f, 0.0f);
+  glColor4f(0.0f, 1.0f, 0.0f, 0.5f);
   glVertex3f( p_.x, p_.y, p_.z);  
 
   // p+offset to new endpoint
@@ -189,4 +189,14 @@
     }
 }
 
+void
+Armature::reset()
+{
+  for(Bones::iterator i = bones.begin(); i != bones.end(); ++i)
+    {
+      Bone* bone = *i;
+      bone-&gt;render_matrix = bone-&gt;quat.to_matrix();
+    }
+}
+
 /* EOF */

Modified: trunk/windstille/src/armature/armature.hpp
===================================================================
--- trunk/windstille/src/armature/armature.hpp	2007-06-22 00:25:15 UTC (rev 1492)
+++ trunk/windstille/src/armature/armature.hpp	2007-06-22 02:22:50 UTC (rev 1493)
@@ -45,7 +45,11 @@
   Armature(FileReader&amp; reader);
   ~Armature();
   
+  /** Applies the given Pose */
   void apply(const Pose&amp; pose);
+  
+  /** Sets the armature back into neutral position */
+  void reset();
 
   void  parse(FileReader&amp; reader);
   Bone* get_bone(const std::string&amp; name);

Modified: trunk/windstille/src/armature/pose.cpp
===================================================================
--- trunk/windstille/src/armature/pose.cpp	2007-06-22 00:25:15 UTC (rev 1492)
+++ trunk/windstille/src/armature/pose.cpp	2007-06-22 02:22:50 UTC (rev 1493)
@@ -46,7 +46,6 @@
       else
         {
           std::vector&lt;FileReader&gt; sections = bones_reader.get_sections();
-          std::cout &lt;&lt; sections.size() &lt;&lt; std::endl;
           for(std::vector&lt;FileReader&gt;::iterator i = sections.begin(); i != sections.end(); ++i)
             {
               if (i-&gt;get_name() == &quot;bone&quot;)
@@ -64,7 +63,7 @@
         }
     }
 
-  std::cout &lt;&lt; &quot;Pose: &quot; &lt;&lt; name &lt;&lt; &quot; &quot; &lt;&lt; bones.size() &lt;&lt; std::endl;
+  //std::cout &lt;&lt; &quot;Pose: &quot; &lt;&lt; name &lt;&lt; &quot; &quot; &lt;&lt; bones.size() &lt;&lt; std::endl;
 }
 
 /* EOF */

Modified: trunk/windstille/src/armature_test.cpp
===================================================================
--- trunk/windstille/src/armature_test.cpp	2007-06-22 00:25:15 UTC (rev 1492)
+++ trunk/windstille/src/armature_test.cpp	2007-06-22 02:22:50 UTC (rev 1493)
@@ -25,6 +25,8 @@
 
 #include &lt;GL/glew.h&gt;
 #include &lt;GL/gl.h&gt;
+#include &lt;physfs.h&gt;
+
 #include &quot;input/controller.hpp&quot;
 #include &quot;display/display.hpp&quot;
 #include &quot;screen_manager.hpp&quot;
@@ -34,17 +36,30 @@
 
 ArmatureTest::ArmatureTest()
 {
-  FileReader armature_reader = FileReader::parse(&quot;armature.arm&quot;);
+  FileReader armature_reader = FileReader::parse(&quot;armature/armature.arm&quot;);
   armature = new Armature(armature_reader);
 
-  FileReader pose_reader = FileReader::parse(&quot;pose.pose&quot;);
-  pose = new Pose(pose_reader);
+  std::vector&lt;std::string&gt; file_lst;
+  {
+    char** dirlist = PHYSFS_enumerateFiles(&quot;armature/pose/&quot;);
+    for (char **i = dirlist; *i != NULL; ++i)
+      if (!PHYSFS_isDirectory((std::string(&quot;armature/pose/&quot;) + *i).c_str())) {
+        std::cout &lt;&lt; &quot;PoseFile: &quot; &lt;&lt; *i &lt;&lt; std::endl;
+        FileReader pose_reader = FileReader::parse(std::string(&quot;armature/pose/&quot;) + *i);
+        poses.push_back(new Pose(pose_reader));       
+      }
+    PHYSFS_freeList(dirlist);
+  }
 
-  armature-&gt;apply(*pose);
+  pose_idx = 0;
 
+  armature-&gt;apply(*poses[pose_idx]);
+
   xrot = 180;
   yrot = 0;
   zrot = 0;
+  
+  time = 0.0f;
 }
 
 void
@@ -72,6 +87,11 @@
 void
 ArmatureTest::update(float delta, const Controller&amp; controller)
 {
+  time += delta;
+
+  pose_idx = int(time * 20.0f) % poses.size();
+  armature-&gt;apply(*poses[pose_idx]);
+
   if (controller.button_was_pressed(ESCAPE_BUTTON) ||
       controller.button_was_pressed(PAUSE_BUTTON))
     {
@@ -90,7 +110,7 @@
       yrot = 90;
       zrot = 0;
       }
-  if (controller.button_was_pressed(TERTIARY_BUTTON))
+  else if (controller.button_was_pressed(TERTIARY_BUTTON))
     {
       xrot = 0;
       yrot = 0;
@@ -102,6 +122,10 @@
       xrot += controller.get_axis_state(Y_AXIS) * 90 * delta;
       zrot += controller.get_axis_state(X2_AXIS) * 90 * delta;
     }
+
+  if (controller.button_was_pressed(AIM_BUTTON))
+    {
+    }
 }
 
 /* EOF */

Modified: trunk/windstille/src/armature_test.hpp
===================================================================
--- trunk/windstille/src/armature_test.hpp	2007-06-22 00:25:15 UTC (rev 1492)
+++ trunk/windstille/src/armature_test.hpp	2007-06-22 02:22:50 UTC (rev 1493)
@@ -34,7 +34,11 @@
 {
 private:
   Armature* armature;
-  Pose*     pose;
+  std::vector&lt;Pose*&gt; poses;
+  
+  int pose_idx;
+  float time;
+
   float xrot;
   float yrot;
   float zrot;

Modified: trunk/windstille/tools/bone_export.py
===================================================================
--- trunk/windstille/tools/bone_export.py	2007-06-22 00:25:15 UTC (rev 1492)
+++ trunk/windstille/tools/bone_export.py	2007-06-22 02:22:50 UTC (rev 1493)
@@ -1,5 +1,5 @@
 import Blender
-import Blender.Armature
+from Blender import *
 
 arms = Blender.Armature.Get()
 
@@ -76,4 +76,6 @@
     print &quot;done&quot;
 print
 
+Draw.PupMenu(&quot;Export ok&quot;)
+
 # EOF #

Modified: trunk/windstille/tools/ipo_export.py
===================================================================
--- trunk/windstille/tools/ipo_export.py	2007-06-22 00:25:15 UTC (rev 1492)
+++ trunk/windstille/tools/ipo_export.py	2007-06-22 02:22:50 UTC (rev 1493)
@@ -30,4 +30,6 @@
     export_action(out, action)
     out.close
 
+Draw.PupMenu(&quot;Export ok&quot;)
+
 # EOF #

Modified: trunk/windstille/tools/pose_export.py
===================================================================
--- trunk/windstille/tools/pose_export.py	2007-06-22 00:25:15 UTC (rev 1492)
+++ trunk/windstille/tools/pose_export.py	2007-06-22 02:22:50 UTC (rev 1493)
@@ -1,29 +1,41 @@
 import Blender
 from Blender import *
 
+def is_identity(quat):
+    return quat.w == 1.0 and quat.x == 0.0 and quat.y == 0.0 and quat.z == 0.0
+
 def export_pose(out, obj):
-	pose = obj.getPose()
-	
-	out.write(&quot;;; -*- scheme -*-\n&quot;)
-	out.write(&quot;(pose\n&quot;)
-	out.write(&quot;  (name \&quot;%s\&quot;)\n&quot; % obj.getName())
-	out.write(&quot;  (bones\n&quot;)
-	for bone in pose.bones.values():
-		out.write(&quot;    (bone\n&quot;)
-		out.write(&quot;      (name \&quot;%s\&quot;)\n&quot; % bone.name)
-		out.write(&quot;      (quat %f %f %f %f))\n&quot; % 
-			(bone.quat.w, bone.quat.x, bone.quat.y, bone.quat.z))
-	out.write(&quot;   ) ;; bones\n&quot;)
-	out.write(&quot; ) ;; pose\n&quot;)
-	out.write(&quot;\n;; EOF ;;\n&quot;)
+    pose = obj.getPose()
 
+    out.write(&quot;;; -*- scheme -*-\n&quot;)
+    out.write(&quot;(pose\n&quot;)
+    out.write(&quot;  (name \&quot;%s\&quot;)\n&quot; % obj.getName())
+    out.write(&quot;  (bones\n&quot;)
+    for bone in pose.bones.values():
+        if bone.name[:3] == &quot;IK_&quot;:
+            out.write(&quot;    ;; ignoring '%s' due to being IK control bone\n&quot; % bone.name)
+        elif is_identity(bone.quat):
+            out.write(&quot;    ;; ignoring '%s' due to having the identity Quaternion\n&quot; % bone.name)        
+        else: 
+            out.write(&quot;    (bone\n&quot;)
+            out.write(&quot;      (name \&quot;%s\&quot;)\n&quot; % bone.name)
+            out.write(&quot;      (quat %f %f %f %f))\n&quot; % 
+                      (bone.quat.w, bone.quat.x, bone.quat.y, bone.quat.z))
+    out.write(&quot;   ) ;; bones\n&quot;)
+    out.write(&quot; ) ;; pose\n&quot;)
+    out.write(&quot;\n;; EOF ;;\n&quot;)
+
 print &quot;Windstille Pose Exporter:&quot;
-for obj in Blender.Object.Get():
-	if obj.type == &quot;Armature&quot;:
-                filename = &quot;/tmp/pose-%s.scm&quot; % obj.getName()
-		out = file(filename, &quot;w&quot;)
-		export_pose(out, obj)
-		out.close()
-                print &quot;Wrote:&quot;, filename
+for frame in xrange(1, 20):
+    Blender.Set(&quot;curframe&quot;, frame)
+    for obj in Blender.Object.Get():
+        if obj.type == &quot;Armature&quot;:
+            filename = &quot;/tmp/pose-%s-frame%03d.scm&quot; % (obj.getName(), frame)
+            out = file(filename, &quot;w&quot;)
+            export_pose(out, obj)
+            out.close()
+            print &quot;Wrote:&quot;, filename
 
+Draw.PupMenu(&quot;Export ok&quot;)
+
 # EOF #

Modified: trunk/windstille/tools/windstille_export.py
===================================================================
--- trunk/windstille/tools/windstille_export.py	2007-06-22 00:25:15 UTC (rev 1492)
+++ trunk/windstille/tools/windstille_export.py	2007-06-22 02:22:50 UTC (rev 1493)
@@ -35,6 +35,7 @@
 
 ### TODO ###
 # - add handling of meshes with armatures, but without actions
+# - change the code to use some more MathUtil instead of its own quaternion/matrix code 
 ############
 
 import string


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001144.html">[Windstille-commit] r1492 - in trunk/windstille: data src	src/armature tools
</A></li>
	<LI>Next message: <A HREF="001146.html">[Windstille-commit] r1494 - trunk/windstille/tools
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1145">[ date ]</a>
              <a href="thread.html#1145">[ thread ]</a>
              <a href="subject.html#1145">[ subject ]</a>
              <a href="author.html#1145">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/windstille-commit">More information about the Windstille-commit
mailing list</a><br>
</body></html>
