<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Windstille-commit] r1459 - in trunk/windstille: . src src/display	src/scripting src/sprite2d src/sprite3d
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/windstille-commit/2007-June/index.html" >
   <LINK REL="made" HREF="mailto:windstille-commit%40lists.berlios.de?Subject=Re%3A%20%5BWindstille-commit%5D%20r1459%20-%20in%20trunk/windstille%3A%20.%20src%20src/display%0A%09src/scripting%20src/sprite2d%20src/sprite3d&In-Reply-To=%3C200706180213.l5I2DJCF002902%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001110.html">
   <LINK REL="Next"  HREF="001112.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Windstille-commit] r1459 - in trunk/windstille: . src src/display	src/scripting src/sprite2d src/sprite3d</H1>
    <B>grumbel at BerliOS</B> 
    <A HREF="mailto:windstille-commit%40lists.berlios.de?Subject=Re%3A%20%5BWindstille-commit%5D%20r1459%20-%20in%20trunk/windstille%3A%20.%20src%20src/display%0A%09src/scripting%20src/sprite2d%20src/sprite3d&In-Reply-To=%3C200706180213.l5I2DJCF002902%40sheep.berlios.de%3E"
       TITLE="[Windstille-commit] r1459 - in trunk/windstille: . src src/display	src/scripting src/sprite2d src/sprite3d">grumbel at mail.berlios.de
       </A><BR>
    <I>Mon Jun 18 04:13:19 CEST 2007</I>
    <P><UL>
        <LI>Previous message: <A HREF="001110.html">[Windstille-commit] r1458 - in trunk/windstille: . src
</A></li>
        <LI>Next message: <A HREF="001112.html">[Windstille-commit] r1460 - in trunk/windstille: . src src/display
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1111">[ date ]</a>
              <a href="thread.html#1111">[ thread ]</a>
              <a href="subject.html#1111">[ subject ]</a>
              <a href="author.html#1111">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: grumbel
Date: 2007-06-18 04:13:15 +0200 (Mon, 18 Jun 2007)
New Revision: 1459

Modified:
   trunk/windstille/SConstruct
   trunk/windstille/src/SConscript
   trunk/windstille/src/box.cpp
   trunk/windstille/src/character.cpp
   trunk/windstille/src/config.cpp
   trunk/windstille/src/console.cpp
   trunk/windstille/src/display/surface.cpp
   trunk/windstille/src/display/surface_manager.cpp
   trunk/windstille/src/display/texture.cpp
   trunk/windstille/src/display/texture_manager.cpp
   trunk/windstille/src/display/vertex_array_drawing_request.cpp
   trunk/windstille/src/elevator.cpp
   trunk/windstille/src/graphic_context_state.cpp
   trunk/windstille/src/grenade.cpp
   trunk/windstille/src/lisp_getters.cpp
   trunk/windstille/src/physics.cpp
   trunk/windstille/src/pistol.cpp
   trunk/windstille/src/player.cpp
   trunk/windstille/src/script_manager.cpp
   trunk/windstille/src/scriptable_object.cpp
   trunk/windstille/src/scripting/SConscript
   trunk/windstille/src/scripting/game_objects.cpp
   trunk/windstille/src/scripting/game_objects.hpp
   trunk/windstille/src/scripting/interface.cpp
   trunk/windstille/src/scripting/interface.hpp
   trunk/windstille/src/scripting/squirrel_error.cpp
   trunk/windstille/src/scripting/squirrel_error.hpp
   trunk/windstille/src/scripting/util.cpp
   trunk/windstille/src/scripting/util.hpp
   trunk/windstille/src/scripting/wrapper.cpp
   trunk/windstille/src/scripting/wrapper.hpp
   trunk/windstille/src/sector.cpp
   trunk/windstille/src/sprite2d/sprite.cpp
   trunk/windstille/src/sprite3d/data.cpp
   trunk/windstille/src/tile_factory.cpp
   trunk/windstille/src/tile_packer.cpp
   trunk/windstille/src/timer.cpp
   trunk/windstille/src/windstille_main.cpp
Log:
- removed some config.h
- renamed namespace scripting back to Scripting due to being hardcoded in miniswig

Modified: trunk/windstille/SConstruct
===================================================================
--- trunk/windstille/SConstruct	2007-06-18 01:35:45 UTC (rev 1458)
+++ trunk/windstille/SConstruct	2007-06-18 02:13:15 UTC (rev 1459)
@@ -101,6 +101,10 @@
 
 # FIXME: Add check for ICONV_CONST
 
+# BuildDir('build/src',   'src', duplicate=0)
+# BuildDir('build/lib',   'lib', duplicate=0)
+# BuildDir('build/tools', 'tools', duplicate=0)
+
 conf_env = Environment()
 
 opts = Options(['options.cache', 'custom.py'], ARGUMENTS)
@@ -115,7 +119,6 @@
 opts.Add('CXX', 'C++ Compiler')  
 opts.Update(conf_env)
 opts.Save('options.cache', conf_env)
-
 Help(opts.GenerateHelpText(conf_env))
 
 conf = Configure(conf_env, custom_tests = { 'Check32bit' : Check32bit })
@@ -125,9 +128,13 @@
 
 Export('conf_env')
 
+# SConscript('build/tools/SConscript')
+# SConscript('build/lib/SConscript')
+# SConscript('build/src/SConscript')
+# SConscript('build/src/scripting/SConscript')
+
 SConscript('tools/SConscript')
-SConscript('lib//SConscript')
+SConscript('lib/SConscript')
 SConscript('src/SConscript')
-SConscript('src/scripting/SConscript')
 
 # EOF #

Modified: trunk/windstille/src/SConscript
===================================================================
--- trunk/windstille/src/SConscript	2007-06-18 01:35:45 UTC (rev 1458)
+++ trunk/windstille/src/SConscript	2007-06-18 02:13:15 UTC (rev 1459)
@@ -26,6 +26,8 @@
 
 Import('conf_env')
 
+SConscript('scripting/SConscript')
+
 env = conf_env.Copy()
 env.Append(LIBS    = ['GL', 'GLU', 'squirrel', 'physfs', 'SDL_image', 'openal', 'glew', 'ogg', 'vorbis', 'vorbisfile', 'png'])
 env.Append(LIBPATH = ['../lib/'] )

Modified: trunk/windstille/src/box.cpp
===================================================================
--- trunk/windstille/src/box.cpp	2007-06-18 01:35:45 UTC (rev 1458)
+++ trunk/windstille/src/box.cpp	2007-06-18 02:13:15 UTC (rev 1459)
@@ -16,7 +16,6 @@
 //  You should have received a copy of the GNU General Public License
 //  along with this program; if not, write to the Free Software
 //  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.
-#include &lt;config.h&gt;
 
 #include &quot;box.hpp&quot;
 #include &quot;globals.hpp&quot;

Modified: trunk/windstille/src/character.cpp
===================================================================
--- trunk/windstille/src/character.cpp	2007-06-18 01:35:45 UTC (rev 1458)
+++ trunk/windstille/src/character.cpp	2007-06-18 02:13:15 UTC (rev 1459)
@@ -16,7 +16,6 @@
 //  You should have received a copy of the GNU General Public License
 //  along with this program; if not, write to the Free Software
 //  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.
-#include &lt;config.h&gt;
 
 #include &quot;character.hpp&quot;
 #include &quot;sector.hpp&quot;

Modified: trunk/windstille/src/config.cpp
===================================================================
--- trunk/windstille/src/config.cpp	2007-06-18 01:35:45 UTC (rev 1458)
+++ trunk/windstille/src/config.cpp	2007-06-18 02:13:15 UTC (rev 1459)
@@ -23,11 +23,12 @@
 **  02111-1307, USA.
 */
 
-#include &quot;config.hpp&quot;
+#include &quot;windstille.hpp&quot;
+
 #include &lt;boost/format.hpp&gt;
-#include &lt;config.h&gt;
 #include &lt;memory&gt;
 #include &lt;iostream&gt;
+#include &quot;config.hpp&quot;
 #include &quot;tinygettext/gettext.hpp&quot;
 #include &quot;lisp/lisp.hpp&quot;
 #include &quot;lisp/parser.hpp&quot;
@@ -261,7 +262,7 @@
           break;
 
         case 'v':
-          std::cout &lt;&lt; &quot;Windstille &quot; &lt;&lt; PACKAGE_VERSION &lt;&lt; std::endl;
+          std::cout &lt;&lt; &quot;Windstille &quot; &lt;&lt; WINDSTILLE_VERSION &lt;&lt; std::endl;
           exit(EXIT_SUCCESS);
           break;
 

Modified: trunk/windstille/src/console.cpp
===================================================================
--- trunk/windstille/src/console.cpp	2007-06-18 01:35:45 UTC (rev 1458)
+++ trunk/windstille/src/console.cpp	2007-06-18 02:13:15 UTC (rev 1459)
@@ -469,7 +469,7 @@
           const SQChar *s;
           if (SQ_SUCCEEDED(sq_getstring(v,-2, &amp;s)))
             {
-              console &lt;&lt; s &lt;&lt; &quot; -&gt; &quot; &lt;&lt; scripting::squirrel2string(v, -1) &lt;&lt; std::endl;
+              console &lt;&lt; s &lt;&lt; &quot; -&gt; &quot; &lt;&lt; Scripting::squirrel2string(v, -1) &lt;&lt; std::endl;
             }
           else
             {
@@ -509,7 +509,7 @@
         if(SQ_SUCCEEDED(sq_call(vm,1, retval, true))) 
           {
             if (sq_gettype(vm, -1) != OT_NULL)
-              console &lt;&lt; scripting::squirrel2string(vm, -1) &lt;&lt; std::endl;
+              console &lt;&lt; Scripting::squirrel2string(vm, -1) &lt;&lt; std::endl;
           }
       }
     }

Modified: trunk/windstille/src/display/surface.cpp
===================================================================
--- trunk/windstille/src/display/surface.cpp	2007-06-18 01:35:45 UTC (rev 1458)
+++ trunk/windstille/src/display/surface.cpp	2007-06-18 02:13:15 UTC (rev 1459)
@@ -22,7 +22,6 @@
 **  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA
 **  02111-1307, USA.
 */
-#include &lt;config.h&gt;
 
 #include &quot;surface.hpp&quot;
 #include &quot;math/vector.hpp&quot;

Modified: trunk/windstille/src/display/surface_manager.cpp
===================================================================
--- trunk/windstille/src/display/surface_manager.cpp	2007-06-18 01:35:45 UTC (rev 1458)
+++ trunk/windstille/src/display/surface_manager.cpp	2007-06-18 02:13:15 UTC (rev 1459)
@@ -1,4 +1,3 @@
-#include &lt;config.h&gt;
 
 #include &quot;surface_manager.hpp&quot;
 

Modified: trunk/windstille/src/display/texture.cpp
===================================================================
--- trunk/windstille/src/display/texture.cpp	2007-06-18 01:35:45 UTC (rev 1458)
+++ trunk/windstille/src/display/texture.cpp	2007-06-18 02:13:15 UTC (rev 1459)
@@ -23,7 +23,6 @@
 **  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA
 **  02111-1307, USA.
 */
-#include &lt;config.h&gt;
 
 #include &lt;stdexcept&gt;
 #include &lt;iostream&gt;

Modified: trunk/windstille/src/display/texture_manager.cpp
===================================================================
--- trunk/windstille/src/display/texture_manager.cpp	2007-06-18 01:35:45 UTC (rev 1458)
+++ trunk/windstille/src/display/texture_manager.cpp	2007-06-18 02:13:15 UTC (rev 1459)
@@ -1,4 +1,3 @@
-#include &lt;config.h&gt;
 
 #include &quot;texture_manager.hpp&quot;
 

Modified: trunk/windstille/src/display/vertex_array_drawing_request.cpp
===================================================================
--- trunk/windstille/src/display/vertex_array_drawing_request.cpp	2007-06-18 01:35:45 UTC (rev 1458)
+++ trunk/windstille/src/display/vertex_array_drawing_request.cpp	2007-06-18 02:13:15 UTC (rev 1459)
@@ -23,7 +23,6 @@
 **  02111-1307, USA.
 */
 
-#include &lt;config.h&gt;
 
 #include &lt;assert.h&gt;
 

Modified: trunk/windstille/src/elevator.cpp
===================================================================
--- trunk/windstille/src/elevator.cpp	2007-06-18 01:35:45 UTC (rev 1458)
+++ trunk/windstille/src/elevator.cpp	2007-06-18 02:13:15 UTC (rev 1459)
@@ -21,7 +21,6 @@
 **  along with this program; if not, write to the Free Software
 **  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.
 */
-#include &lt;config.h&gt;
 
 #include &quot;elevator.hpp&quot;
 #include &quot;sector.hpp&quot;

Modified: trunk/windstille/src/graphic_context_state.cpp
===================================================================
--- trunk/windstille/src/graphic_context_state.cpp	2007-06-18 01:35:45 UTC (rev 1458)
+++ trunk/windstille/src/graphic_context_state.cpp	2007-06-18 02:13:15 UTC (rev 1459)
@@ -16,7 +16,6 @@
 //  You should have received a copy of the GNU General Public License
 //  along with this program; if not, write to the Free Software
 //  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.
-#include &lt;config.h&gt;
 
 #include &lt;math.h&gt;
 #include &lt;GL/glew.h&gt;

Modified: trunk/windstille/src/grenade.cpp
===================================================================
--- trunk/windstille/src/grenade.cpp	2007-06-18 01:35:45 UTC (rev 1458)
+++ trunk/windstille/src/grenade.cpp	2007-06-18 02:13:15 UTC (rev 1459)
@@ -22,7 +22,6 @@
 **  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA
 **  02111-1307, USA.
 */
-#include &lt;config.h&gt;
 
 #include &quot;grenade.hpp&quot;
 #include &quot;sector.hpp&quot;

Modified: trunk/windstille/src/lisp_getters.cpp
===================================================================
--- trunk/windstille/src/lisp_getters.cpp	2007-06-18 01:35:45 UTC (rev 1458)
+++ trunk/windstille/src/lisp_getters.cpp	2007-06-18 02:13:15 UTC (rev 1459)
@@ -23,7 +23,6 @@
 **  02111-1307, USA.
 */
 
-#include &lt;config.h&gt;
 
 #include &quot;lisp/lisp.hpp&quot;
 #include &quot;lisp/getters.hpp&quot;

Modified: trunk/windstille/src/physics.cpp
===================================================================
--- trunk/windstille/src/physics.cpp	2007-06-18 01:35:45 UTC (rev 1458)
+++ trunk/windstille/src/physics.cpp	2007-06-18 02:13:15 UTC (rev 1459)
@@ -1,4 +1,3 @@
-#include &lt;config.h&gt;
 
 #include &quot;physics.hpp&quot;
 

Modified: trunk/windstille/src/pistol.cpp
===================================================================
--- trunk/windstille/src/pistol.cpp	2007-06-18 01:35:45 UTC (rev 1458)
+++ trunk/windstille/src/pistol.cpp	2007-06-18 02:13:15 UTC (rev 1459)
@@ -17,7 +17,6 @@
 //  along with this program; if not, write to the Free Software
 //  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.
 
-#include &lt;config.h&gt;
 
 #include &quot;laser_pointer.hpp&quot;
 #include &quot;pistol.hpp&quot;

Modified: trunk/windstille/src/player.cpp
===================================================================
--- trunk/windstille/src/player.cpp	2007-06-18 01:35:45 UTC (rev 1458)
+++ trunk/windstille/src/player.cpp	2007-06-18 02:13:15 UTC (rev 1459)
@@ -16,7 +16,6 @@
 //  You should have received a copy of the GNU General Public License
 //  along with this program; if not, write to the Free Software
 //  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.
-#include &lt;config.h&gt;
 
 #include &quot;tile_map.hpp&quot;
 #include &quot;sector.hpp&quot;

Modified: trunk/windstille/src/script_manager.cpp
===================================================================
--- trunk/windstille/src/script_manager.cpp	2007-06-18 01:35:45 UTC (rev 1458)
+++ trunk/windstille/src/script_manager.cpp	2007-06-18 02:13:15 UTC (rev 1459)
@@ -18,7 +18,7 @@
 #include &quot;scripting/squirrel_error.hpp&quot;
 #include &quot;physfs/physfs_stream.hpp&quot;
 
-using namespace scripting;
+using namespace Scripting;
 
 ScriptManager* script_manager = 0;
 
@@ -58,7 +58,7 @@
   sq_setprintfunc(v, printfunc);
   
   // register windstille API
-  register_windstille_wrapper(v);
+  Scripting::register_windstille_wrapper(v);
 }
 
 ScriptManager::~ScriptManager()

Modified: trunk/windstille/src/scriptable_object.cpp
===================================================================
--- trunk/windstille/src/scriptable_object.cpp	2007-06-18 01:35:45 UTC (rev 1458)
+++ trunk/windstille/src/scriptable_object.cpp	2007-06-18 02:13:15 UTC (rev 1459)
@@ -23,7 +23,6 @@
 **  02111-1307, USA.
 */
 
-#include &lt;config.h&gt;
 
 #include &quot;globals.hpp&quot;
 #include &quot;scriptable_object.hpp&quot;

Modified: trunk/windstille/src/scripting/SConscript
===================================================================
--- trunk/windstille/src/scripting/SConscript	2007-06-18 01:35:45 UTC (rev 1458)
+++ trunk/windstille/src/scripting/SConscript	2007-06-18 02:13:15 UTC (rev 1459)
@@ -11,7 +11,7 @@
             ['interface.hpp', 'game_objects.hpp'])
 
 env.Depends(env.Command(['wrapper.cpp', 'wrapper.hpp'], 'miniswig.tmp',
-                        [&quot;$MINISWIG  --input $SOURCE --output-cpp ${TARGETS[0]} --output-hpp ${TARGETS[1]} --module windstille --select-namespace scripting&quot;]),
+                        [&quot;$MINISWIG  --input $SOURCE --output-cpp ${TARGETS[0]} --output-hpp ${TARGETS[1]} --module windstille --select-namespace Scripting&quot;]),
             miniswig)
 
 # EOF #

Modified: trunk/windstille/src/scripting/game_objects.cpp
===================================================================
--- trunk/windstille/src/scripting/game_objects.cpp	2007-06-18 01:35:45 UTC (rev 1458)
+++ trunk/windstille/src/scripting/game_objects.cpp	2007-06-18 02:13:15 UTC (rev 1459)
@@ -3,7 +3,7 @@
 #include &quot;sector.hpp&quot;
 #include &quot;game_objects.hpp&quot;
 
-namespace scripting
+namespace Scripting
 {
 
 const std::string&amp;

Modified: trunk/windstille/src/scripting/game_objects.hpp
===================================================================
--- trunk/windstille/src/scripting/game_objects.hpp	2007-06-18 01:35:45 UTC (rev 1458)
+++ trunk/windstille/src/scripting/game_objects.hpp	2007-06-18 02:13:15 UTC (rev 1459)
@@ -15,7 +15,7 @@
 typedef Entity _Entity;
 #endif
 
-namespace scripting
+namespace Scripting
 {
 
 class GameObject

Modified: trunk/windstille/src/scripting/interface.cpp
===================================================================
--- trunk/windstille/src/scripting/interface.cpp	2007-06-18 01:35:45 UTC (rev 1458)
+++ trunk/windstille/src/scripting/interface.cpp	2007-06-18 02:13:15 UTC (rev 1459)
@@ -40,7 +40,7 @@
 #include &quot;display/display.hpp&quot;
 #include &quot;controller_help_window.hpp&quot;
 
-namespace scripting
+namespace Scripting
 {
 
 void set_sector(const std::string&amp; filename)
@@ -338,6 +338,6 @@
   return 0;
 }
 
-} // namespace scripting
+} // namespace Scripting
 
 /* EOF */

Modified: trunk/windstille/src/scripting/interface.hpp
===================================================================
--- trunk/windstille/src/scripting/interface.hpp	2007-06-18 01:35:45 UTC (rev 1458)
+++ trunk/windstille/src/scripting/interface.hpp	2007-06-18 02:13:15 UTC (rev 1459)
@@ -31,7 +31,7 @@
 #include &lt;squirrel.h&gt;
 #endif
 
-namespace scripting {
+namespace Scripting {
 
 void set_sector(const std::string&amp; filename);
 
@@ -122,7 +122,7 @@
  */
 SQInteger spawn_object(HSQUIRRELVM v) __custom;
 
-} // namespace scripting
+} // namespace Scripting
 
 #endif
 

Modified: trunk/windstille/src/scripting/squirrel_error.cpp
===================================================================
--- trunk/windstille/src/scripting/squirrel_error.cpp	2007-06-18 01:35:45 UTC (rev 1458)
+++ trunk/windstille/src/scripting/squirrel_error.cpp	2007-06-18 02:13:15 UTC (rev 1459)
@@ -3,7 +3,7 @@
 #include &quot;squirrel_error.hpp&quot;
 #include &lt;sstream&gt;
 
-namespace scripting
+namespace Scripting
 {
 
 SquirrelError::SquirrelError(HSQUIRRELVM v, const std::string&amp; message) throw()

Modified: trunk/windstille/src/scripting/squirrel_error.hpp
===================================================================
--- trunk/windstille/src/scripting/squirrel_error.hpp	2007-06-18 01:35:45 UTC (rev 1458)
+++ trunk/windstille/src/scripting/squirrel_error.hpp	2007-06-18 02:13:15 UTC (rev 1459)
@@ -4,7 +4,7 @@
 #include &lt;squirrel.h&gt;
 #include &lt;stdexcept&gt;
 
-namespace scripting
+namespace Scripting
 {
 
 /** Exception class for squirrel errors, it takes a squirrelvm and uses

Modified: trunk/windstille/src/scripting/util.cpp
===================================================================
--- trunk/windstille/src/scripting/util.cpp	2007-06-18 01:35:45 UTC (rev 1458)
+++ trunk/windstille/src/scripting/util.cpp	2007-06-18 02:13:15 UTC (rev 1459)
@@ -35,7 +35,7 @@
 
 #include &quot;util.hpp&quot;
 
-namespace scripting {
+namespace Scripting {
 
 std::string sq_to_lisp_string(std::string sq_str)
 {
@@ -419,6 +419,6 @@
   writer.end_list(&quot;squirrel-state&quot;);
 }
 
-} // namespace scripting
+} // namespace Scripting
 
 /* EOF */

Modified: trunk/windstille/src/scripting/util.hpp
===================================================================
--- trunk/windstille/src/scripting/util.hpp	2007-06-18 01:35:45 UTC (rev 1458)
+++ trunk/windstille/src/scripting/util.hpp	2007-06-18 02:13:15 UTC (rev 1459)
@@ -33,7 +33,7 @@
 class Writer;
 };
 
-namespace scripting {
+namespace Scripting {
 
 // Squirrel to Lisp
 void        table_to_lisp(HSQUIRRELVM v, int table_idx, std::vector&lt;lisp::Lisp*&gt;&amp; entries);
@@ -51,7 +51,7 @@
 void save_squirrel_table(HSQUIRRELVM v, int table_idx, const std::string&amp; file);
 void load_squirrel_table(HSQUIRRELVM v, int table_idx, const std::string&amp; file);
 
-} // namespace scripting
+} // namespace Scripting
 
 #endif
 

Modified: trunk/windstille/src/scripting/wrapper.cpp
===================================================================
--- trunk/windstille/src/scripting/wrapper.cpp	2007-06-18 01:35:45 UTC (rev 1458)
+++ trunk/windstille/src/scripting/wrapper.cpp	2007-06-18 02:13:15 UTC (rev 1459)
@@ -13,14 +13,14 @@
 #include &quot;squirrel_error.hpp&quot;
 #include &quot;wrapper.interface.hpp&quot;
 
-namespace scripting
+namespace Scripting
 {
 namespace Wrapper
 {
 
 static SQInteger GameObject_release_hook(SQUserPointer ptr, SQInteger )
 {
-  scripting::GameObject* _this = reinterpret_cast&lt;scripting::GameObject*&gt; (ptr);
+  Scripting::GameObject* _this = reinterpret_cast&lt;Scripting::GameObject*&gt; (ptr);
   delete _this;
   return 0;
 }
@@ -32,7 +32,7 @@
     sq_throwerror(vm, _SC(&quot;'get_name' called without instance&quot;));
     return SQ_ERROR;
   }
-  scripting::GameObject* _this = reinterpret_cast&lt;scripting::GameObject*&gt; (data);
+  Scripting::GameObject* _this = reinterpret_cast&lt;Scripting::GameObject*&gt; (data);
   
   try {
     const std::string&amp; return_value = _this-&gt;get_name();
@@ -57,7 +57,7 @@
     sq_throwerror(vm, _SC(&quot;'remove' called without instance&quot;));
     return SQ_ERROR;
   }
-  scripting::GameObject* _this = reinterpret_cast&lt;scripting::GameObject*&gt; (data);
+  Scripting::GameObject* _this = reinterpret_cast&lt;Scripting::GameObject*&gt; (data);
   
   try {
     _this-&gt;remove();
@@ -81,7 +81,7 @@
     sq_throwerror(vm, _SC(&quot;'set_active' called without instance&quot;));
     return SQ_ERROR;
   }
-  scripting::GameObject* _this = reinterpret_cast&lt;scripting::GameObject*&gt; (data);
+  Scripting::GameObject* _this = reinterpret_cast&lt;Scripting::GameObject*&gt; (data);
   SQBool arg0;
   if(SQ_FAILED(sq_getbool(vm, 2, &amp;arg0))) {
     sq_throwerror(vm, _SC(&quot;Argument 1 not a bool&quot;));
@@ -110,7 +110,7 @@
     sq_throwerror(vm, _SC(&quot;'set_parent' called without instance&quot;));
     return SQ_ERROR;
   }
-  scripting::GameObject* _this = reinterpret_cast&lt;scripting::GameObject*&gt; (data);
+  Scripting::GameObject* _this = reinterpret_cast&lt;Scripting::GameObject*&gt; (data);
   const SQChar* arg0;
   if(SQ_FAILED(sq_getstring(vm, 2, &amp;arg0))) {
     sq_throwerror(vm, _SC(&quot;Argument 1 not a string&quot;));
@@ -134,7 +134,7 @@
 
 static SQInteger TestObject_release_hook(SQUserPointer ptr, SQInteger )
 {
-  scripting::TestObject* _this = reinterpret_cast&lt;scripting::TestObject*&gt; (ptr);
+  Scripting::TestObject* _this = reinterpret_cast&lt;Scripting::TestObject*&gt; (ptr);
   delete _this;
   return 0;
 }
@@ -146,7 +146,7 @@
     sq_throwerror(vm, _SC(&quot;'set_sprite' called without instance&quot;));
     return SQ_ERROR;
   }
-  scripting::TestObject* _this = reinterpret_cast&lt;scripting::TestObject*&gt; (data);
+  Scripting::TestObject* _this = reinterpret_cast&lt;Scripting::TestObject*&gt; (data);
   const SQChar* arg0;
   if(SQ_FAILED(sq_getstring(vm, 2, &amp;arg0))) {
     sq_throwerror(vm, _SC(&quot;Argument 1 not a string&quot;));
@@ -175,7 +175,7 @@
     sq_throwerror(vm, _SC(&quot;'set_action' called without instance&quot;));
     return SQ_ERROR;
   }
-  scripting::TestObject* _this = reinterpret_cast&lt;scripting::TestObject*&gt; (data);
+  Scripting::TestObject* _this = reinterpret_cast&lt;Scripting::TestObject*&gt; (data);
   const SQChar* arg0;
   if(SQ_FAILED(sq_getstring(vm, 2, &amp;arg0))) {
     sq_throwerror(vm, _SC(&quot;Argument 1 not a string&quot;));
@@ -204,7 +204,7 @@
     sq_throwerror(vm, _SC(&quot;'set_pos' called without instance&quot;));
     return SQ_ERROR;
   }
-  scripting::TestObject* _this = reinterpret_cast&lt;scripting::TestObject*&gt; (data);
+  Scripting::TestObject* _this = reinterpret_cast&lt;Scripting::TestObject*&gt; (data);
   SQFloat arg0;
   if(SQ_FAILED(sq_getfloat(vm, 2, &amp;arg0))) {
     sq_throwerror(vm, _SC(&quot;Argument 1 not a float&quot;));
@@ -238,7 +238,7 @@
     sq_throwerror(vm, _SC(&quot;'set_vflip' called without instance&quot;));
     return SQ_ERROR;
   }
-  scripting::TestObject* _this = reinterpret_cast&lt;scripting::TestObject*&gt; (data);
+  Scripting::TestObject* _this = reinterpret_cast&lt;Scripting::TestObject*&gt; (data);
   SQBool arg0;
   if(SQ_FAILED(sq_getbool(vm, 2, &amp;arg0))) {
     sq_throwerror(vm, _SC(&quot;Argument 1 not a bool&quot;));
@@ -267,7 +267,7 @@
     sq_throwerror(vm, _SC(&quot;'attach' called without instance&quot;));
     return SQ_ERROR;
   }
-  scripting::TestObject* _this = reinterpret_cast&lt;scripting::TestObject*&gt; (data);
+  Scripting::TestObject* _this = reinterpret_cast&lt;Scripting::TestObject*&gt; (data);
   const SQChar* arg0;
   if(SQ_FAILED(sq_getstring(vm, 2, &amp;arg0))) {
     sq_throwerror(vm, _SC(&quot;Argument 1 not a string&quot;));
@@ -296,7 +296,7 @@
 
 static SQInteger Player_release_hook(SQUserPointer ptr, SQInteger )
 {
-  scripting::Player* _this = reinterpret_cast&lt;scripting::Player*&gt; (ptr);
+  Scripting::Player* _this = reinterpret_cast&lt;Scripting::Player*&gt; (ptr);
   delete _this;
   return 0;
 }
@@ -308,7 +308,7 @@
     sq_throwerror(vm, _SC(&quot;'start_listening' called without instance&quot;));
     return SQ_ERROR;
   }
-  scripting::Player* _this = reinterpret_cast&lt;scripting::Player*&gt; (data);
+  Scripting::Player* _this = reinterpret_cast&lt;Scripting::Player*&gt; (data);
   
   try {
     _this-&gt;start_listening();
@@ -332,7 +332,7 @@
     sq_throwerror(vm, _SC(&quot;'stop_listening' called without instance&quot;));
     return SQ_ERROR;
   }
-  scripting::Player* _this = reinterpret_cast&lt;scripting::Player*&gt; (data);
+  Scripting::Player* _this = reinterpret_cast&lt;Scripting::Player*&gt; (data);
   
   try {
     _this-&gt;stop_listening();
@@ -351,7 +351,7 @@
 
 static SQInteger ScriptableObject_release_hook(SQUserPointer ptr, SQInteger )
 {
-  scripting::ScriptableObject* _this = reinterpret_cast&lt;scripting::ScriptableObject*&gt; (ptr);
+  Scripting::ScriptableObject* _this = reinterpret_cast&lt;Scripting::ScriptableObject*&gt; (ptr);
   delete _this;
   return 0;
 }
@@ -363,7 +363,7 @@
     sq_throwerror(vm, _SC(&quot;'move_to' called without instance&quot;));
     return SQ_ERROR;
   }
-  scripting::ScriptableObject* _this = reinterpret_cast&lt;scripting::ScriptableObject*&gt; (data);
+  Scripting::ScriptableObject* _this = reinterpret_cast&lt;Scripting::ScriptableObject*&gt; (data);
   SQFloat arg0;
   if(SQ_FAILED(sq_getfloat(vm, 2, &amp;arg0))) {
     sq_throwerror(vm, _SC(&quot;Argument 1 not a float&quot;));
@@ -407,7 +407,7 @@
     sq_throwerror(vm, _SC(&quot;'start_flash' called without instance&quot;));
     return SQ_ERROR;
   }
-  scripting::ScriptableObject* _this = reinterpret_cast&lt;scripting::ScriptableObject*&gt; (data);
+  Scripting::ScriptableObject* _this = reinterpret_cast&lt;Scripting::ScriptableObject*&gt; (data);
   SQFloat arg0;
   if(SQ_FAILED(sq_getfloat(vm, 2, &amp;arg0))) {
     sq_throwerror(vm, _SC(&quot;Argument 1 not a float&quot;));
@@ -438,7 +438,7 @@
   }
   
   try {
-    scripting::set_sector(arg0);
+    Scripting::set_sector(arg0);
   
     return 0;
   
@@ -461,7 +461,7 @@
   }
   
   try {
-    scripting::play_music(arg0);
+    Scripting::play_music(arg0);
   
     return 0;
   
@@ -484,7 +484,7 @@
   }
   
   try {
-    scripting::stop_music(static_cast&lt;float&gt; (arg0));
+    Scripting::stop_music(static_cast&lt;float&gt; (arg0));
   
     return 0;
   
@@ -507,7 +507,7 @@
   }
   
   try {
-    scripting::play_sound(arg0);
+    Scripting::play_sound(arg0);
   
     return 0;
   
@@ -535,7 +535,7 @@
   }
   
   try {
-    scripting::caption_add(static_cast&lt;int&gt; (arg0), arg1);
+    Scripting::caption_add(static_cast&lt;int&gt; (arg0), arg1);
   
     return 0;
   
@@ -554,7 +554,7 @@
   (void) vm;
   
   try {
-    scripting::caption_clear();
+    Scripting::caption_clear();
   
     return 0;
   
@@ -573,7 +573,7 @@
   (void) vm;
   
   try {
-    scripting::caption_end();
+    Scripting::caption_end();
   
     return 0;
   
@@ -596,7 +596,7 @@
   }
   
   try {
-    scripting::camera_set_active(arg0 == SQTrue);
+    Scripting::camera_set_active(arg0 == SQTrue);
   
     return 0;
   
@@ -615,7 +615,7 @@
   (void) vm;
   
   try {
-    scripting::camera_continue_path();
+    Scripting::camera_continue_path();
   
     return 0;
   
@@ -634,7 +634,7 @@
   (void) vm;
   
   try {
-    scripting::camera_begin_path();
+    Scripting::camera_begin_path();
   
     return 0;
   
@@ -667,7 +667,7 @@
   }
   
   try {
-    scripting::camera_add_point(static_cast&lt;float&gt; (arg0), static_cast&lt;float&gt; (arg1), static_cast&lt;float&gt; (arg2));
+    Scripting::camera_add_point(static_cast&lt;float&gt; (arg0), static_cast&lt;float&gt; (arg1), static_cast&lt;float&gt; (arg2));
   
     return 0;
   
@@ -686,7 +686,7 @@
   (void) vm;
   
   try {
-    scripting::camera_end_path();
+    Scripting::camera_end_path();
   
     return 0;
   
@@ -714,7 +714,7 @@
   }
   
   try {
-    scripting::camera_set_pos(static_cast&lt;float&gt; (arg0), static_cast&lt;float&gt; (arg1));
+    Scripting::camera_set_pos(static_cast&lt;float&gt; (arg0), static_cast&lt;float&gt; (arg1));
   
     return 0;
   
@@ -737,7 +737,7 @@
   }
   
   try {
-    scripting::camera_set_zoom(static_cast&lt;float&gt; (arg0));
+    Scripting::camera_set_zoom(static_cast&lt;float&gt; (arg0));
   
     return 0;
   
@@ -760,7 +760,7 @@
   }
   
   try {
-    scripting::set_controller_help_active(arg0 == SQTrue);
+    Scripting::set_controller_help_active(arg0 == SQTrue);
   
     return 0;
   
@@ -798,7 +798,7 @@
   }
   
   try {
-    scripting::dialog_show(static_cast&lt;int&gt; (arg0), arg1, arg2, arg3);
+    Scripting::dialog_show(static_cast&lt;int&gt; (arg0), arg1, arg2, arg3);
   
     return 0;
   
@@ -817,7 +817,7 @@
   HSQUIRRELVM arg0 = vm;
   
   try {
-    scripting::wait_for_dialog(arg0);
+    Scripting::wait_for_dialog(arg0);
   
     return sq_suspendvm(vm);
   
@@ -836,7 +836,7 @@
   HSQUIRRELVM arg0 = vm;
   
   try {
-    scripting::wait_for_fade(arg0);
+    Scripting::wait_for_fade(arg0);
   
     return sq_suspendvm(vm);
   
@@ -855,7 +855,7 @@
   HSQUIRRELVM arg0 = vm;
   
   try {
-    scripting::wait_for_camera(arg0);
+    Scripting::wait_for_camera(arg0);
   
     return sq_suspendvm(vm);
   
@@ -878,7 +878,7 @@
   }
   
   try {
-    scripting::conversation_add(arg0);
+    Scripting::conversation_add(arg0);
   
     return 0;
   
@@ -897,7 +897,7 @@
   (void) vm;
   
   try {
-    scripting::conversation_show();
+    Scripting::conversation_show();
   
     return 0;
   
@@ -915,7 +915,7 @@
 {
   
   try {
-    int return_value = scripting::conversation_get_selection();
+    int return_value = Scripting::conversation_get_selection();
   
     sq_pushinteger(vm, return_value);
     return 1;
@@ -935,7 +935,7 @@
   HSQUIRRELVM arg0 = vm;
   
   try {
-    scripting::wait_for_conversation(arg0);
+    Scripting::wait_for_conversation(arg0);
   
     return sq_suspendvm(vm);
   
@@ -963,7 +963,7 @@
   }
   
   try {
-    scripting::add_objective(arg0, arg1);
+    Scripting::add_objective(arg0, arg1);
   
     return 0;
   
@@ -986,7 +986,7 @@
   }
   
   try {
-    scripting::objective_complete(arg0);
+    Scripting::objective_complete(arg0);
   
     return 0;
   
@@ -1009,7 +1009,7 @@
   }
   
   try {
-    bool return_value = scripting::is_objective_given(arg0);
+    bool return_value = Scripting::is_objective_given(arg0);
   
     sq_pushbool(vm, return_value);
     return 1;
@@ -1033,7 +1033,7 @@
   }
   
   try {
-    bool return_value = scripting::is_objective_complete(arg0);
+    bool return_value = Scripting::is_objective_complete(arg0);
   
     sq_pushbool(vm, return_value);
     return 1;
@@ -1053,7 +1053,7 @@
   HSQUIRRELVM arg0 = vm;
   
   try {
-    bool return_value = scripting::run_before(arg0);
+    bool return_value = Scripting::run_before(arg0);
   
     sq_pushbool(vm, return_value);
     return 1;
@@ -1078,7 +1078,7 @@
   }
   
   try {
-    scripting::save_state(arg0, arg1);
+    Scripting::save_state(arg0, arg1);
   
     return 0;
   
@@ -1102,7 +1102,7 @@
   }
   
   try {
-    scripting::load_state(arg0, arg1);
+    Scripting::load_state(arg0, arg1);
   
     return 0;
   
@@ -1121,7 +1121,7 @@
   (void) vm;
   
   try {
-    scripting::list_objects();
+    Scripting::list_objects();
   
     return 0;
   
@@ -1144,7 +1144,7 @@
   }
   
   try {
-    scripting::set_debug(arg0 == SQTrue);
+    Scripting::set_debug(arg0 == SQTrue);
   
     return 0;
   
@@ -1162,7 +1162,7 @@
 {
   
   try {
-    bool return_value = scripting::get_debug();
+    bool return_value = Scripting::get_debug();
   
     sq_pushbool(vm, return_value);
     return 1;
@@ -1181,7 +1181,7 @@
 {
   
   try {
-    float return_value = scripting::get_game_speed();
+    float return_value = Scripting::get_game_speed();
   
     sq_pushfloat(vm, return_value);
     return 1;
@@ -1205,7 +1205,7 @@
   }
   
   try {
-    scripting::set_game_speed(static_cast&lt;float&gt; (arg0));
+    Scripting::set_game_speed(static_cast&lt;float&gt; (arg0));
   
     return 0;
   
@@ -1229,7 +1229,7 @@
   }
   
   try {
-    scripting::wait(arg0, static_cast&lt;float&gt; (arg1));
+    Scripting::wait(arg0, static_cast&lt;float&gt; (arg1));
   
     return sq_suspendvm(vm);
   
@@ -1245,12 +1245,12 @@
 
 static SQInteger display_wrapper(HSQUIRRELVM vm)
 {
-  return scripting::display(vm);
+  return Scripting::display(vm);
 }
 
 static SQInteger println_wrapper(HSQUIRRELVM vm)
 {
-  return scripting::println(vm);
+  return Scripting::println(vm);
 }
 
 static SQInteger set_console_font_wrapper(HSQUIRRELVM vm)
@@ -1267,7 +1267,7 @@
   }
   
   try {
-    scripting::set_console_font(arg0, static_cast&lt;int&gt; (arg1));
+    Scripting::set_console_font(arg0, static_cast&lt;int&gt; (arg1));
   
     return 0;
   
@@ -1290,7 +1290,7 @@
   }
   
   try {
-    scripting::set_gamma(static_cast&lt;float&gt; (arg0));
+    Scripting::set_gamma(static_cast&lt;float&gt; (arg0));
   
     return 0;
   
@@ -1323,7 +1323,7 @@
   }
   
   try {
-    scripting::set_gamma_rgb(static_cast&lt;float&gt; (arg0), static_cast&lt;float&gt; (arg1), static_cast&lt;float&gt; (arg2));
+    Scripting::set_gamma_rgb(static_cast&lt;float&gt; (arg0), static_cast&lt;float&gt; (arg1), static_cast&lt;float&gt; (arg2));
   
     return 0;
   
@@ -1342,7 +1342,7 @@
   (void) vm;
   
   try {
-    scripting::show_config();
+    Scripting::show_config();
   
     return 0;
   
@@ -1361,7 +1361,7 @@
   (void) vm;
   
   try {
-    scripting::cutscene_begin();
+    Scripting::cutscene_begin();
   
     return 0;
   
@@ -1380,7 +1380,7 @@
   (void) vm;
   
   try {
-    scripting::cutscene_end();
+    Scripting::cutscene_end();
   
     return 0;
   
@@ -1418,7 +1418,7 @@
   }
   
   try {
-    scripting::internal_fadeout_rgb(static_cast&lt;float&gt; (arg0), static_cast&lt;float&gt; (arg1), static_cast&lt;float&gt; (arg2), static_cast&lt;float&gt; (arg3));
+    Scripting::internal_fadeout_rgb(static_cast&lt;float&gt; (arg0), static_cast&lt;float&gt; (arg1), static_cast&lt;float&gt; (arg2), static_cast&lt;float&gt; (arg3));
   
     return 0;
   
@@ -1441,7 +1441,7 @@
   }
   
   try {
-    scripting::internal_fadein(static_cast&lt;float&gt; (arg0));
+    Scripting::internal_fadein(static_cast&lt;float&gt; (arg0));
   
     return 0;
   
@@ -1459,7 +1459,7 @@
 {
   
   try {
-    int return_value = scripting::render_mask_get();
+    int return_value = Scripting::render_mask_get();
   
     sq_pushinteger(vm, return_value);
     return 1;
@@ -1483,7 +1483,7 @@
   }
   
   try {
-    scripting::render_mask_set(static_cast&lt;int&gt; (arg0));
+    Scripting::render_mask_set(static_cast&lt;int&gt; (arg0));
   
     return 0;
   
@@ -1499,12 +1499,12 @@
 
 static SQInteger spawn_object_wrapper(HSQUIRRELVM vm)
 {
-  return scripting::spawn_object(vm);
+  return Scripting::spawn_object(vm);
 }
 
 } // end of namespace Wrapper
 
-void create_squirrel_instance(HSQUIRRELVM v, scripting::GameObject* object, bool setup_releasehook)
+void create_squirrel_instance(HSQUIRRELVM v, Scripting::GameObject* object, bool setup_releasehook)
 {
   using namespace Wrapper;
 
@@ -1530,7 +1530,7 @@
   sq_remove(v, -2); // remove root table
 }
 
-void create_squirrel_instance(HSQUIRRELVM v, scripting::TestObject* object, bool setup_releasehook)
+void create_squirrel_instance(HSQUIRRELVM v, Scripting::TestObject* object, bool setup_releasehook)
 {
   using namespace Wrapper;
 
@@ -1556,7 +1556,7 @@
   sq_remove(v, -2); // remove root table
 }
 
-void create_squirrel_instance(HSQUIRRELVM v, scripting::Player* object, bool setup_releasehook)
+void create_squirrel_instance(HSQUIRRELVM v, Scripting::Player* object, bool setup_releasehook)
 {
   using namespace Wrapper;
 
@@ -1582,7 +1582,7 @@
   sq_remove(v, -2); // remove root table
 }
 
-void create_squirrel_instance(HSQUIRRELVM v, scripting::ScriptableObject* object, bool setup_releasehook)
+void create_squirrel_instance(HSQUIRRELVM v, Scripting::ScriptableObject* object, bool setup_releasehook)
 {
   using namespace Wrapper;
 
@@ -2072,5 +2072,5 @@
 
 }
 
-} // end of namespace scripting
+} // end of namespace Scripting
 

Modified: trunk/windstille/src/scripting/wrapper.hpp
===================================================================
--- trunk/windstille/src/scripting/wrapper.hpp	2007-06-18 01:35:45 UTC (rev 1458)
+++ trunk/windstille/src/scripting/wrapper.hpp	2007-06-18 02:13:15 UTC (rev 1459)
@@ -9,15 +9,15 @@
 #include &lt;squirrel.h&gt;
 #include &quot;wrapper.interface.hpp&quot;
 
-namespace scripting
+namespace Scripting
 {
 
 void register_windstille_wrapper(HSQUIRRELVM v);
 
-void create_squirrel_instance(HSQUIRRELVM v, scripting::GameObject* object, bool setup_releasehook = false);
-void create_squirrel_instance(HSQUIRRELVM v, scripting::TestObject* object, bool setup_releasehook = false);
-void create_squirrel_instance(HSQUIRRELVM v, scripting::Player* object, bool setup_releasehook = false);
-void create_squirrel_instance(HSQUIRRELVM v, scripting::ScriptableObject* object, bool setup_releasehook = false);
+void create_squirrel_instance(HSQUIRRELVM v, Scripting::GameObject* object, bool setup_releasehook = false);
+void create_squirrel_instance(HSQUIRRELVM v, Scripting::TestObject* object, bool setup_releasehook = false);
+void create_squirrel_instance(HSQUIRRELVM v, Scripting::Player* object, bool setup_releasehook = false);
+void create_squirrel_instance(HSQUIRRELVM v, Scripting::ScriptableObject* object, bool setup_releasehook = false);
 
 }
 

Modified: trunk/windstille/src/sector.cpp
===================================================================
--- trunk/windstille/src/sector.cpp	2007-06-18 01:35:45 UTC (rev 1458)
+++ trunk/windstille/src/sector.cpp	2007-06-18 02:13:15 UTC (rev 1459)
@@ -16,7 +16,6 @@
 //  You should have received a copy of the GNU General Public License
 //  along with this program; if not, write to the Free Software
 //  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.
-#include &lt;config.h&gt;
 
 #include &lt;iostream&gt;
 #include &lt;sstream&gt;
@@ -275,7 +274,7 @@
 void
 Sector::remove_object_from_squirrel(GameObject* object)
 {
-  using namespace scripting;
+  using namespace Scripting;
 
   // get objects table
   HSQUIRRELVM v = script_manager-&gt;get_vm();
@@ -307,30 +306,30 @@
 {
   ScriptableObject* script_obj = dynamic_cast&lt;ScriptableObject*&gt; (object);
   if(script_obj) {
-    create_squirrel_instance(v, new scripting::ScriptableObject(script_obj),
+    create_squirrel_instance(v, new Scripting::ScriptableObject(script_obj),
                              true);
     return;
   }
   
   TestObject* tobj = dynamic_cast&lt;TestObject*&gt; (object);
   if(tobj) {
-    create_squirrel_instance(v, new scripting::TestObject(tobj), true);
+    create_squirrel_instance(v, new Scripting::TestObject(tobj), true);
     return;
   }                                                                             
 
   Player* player = dynamic_cast&lt;Player*&gt; (object);
   if(player) {
-    create_squirrel_instance(v, new scripting::Player(player), true);
+    create_squirrel_instance(v, new Scripting::Player(player), true);
     return;
   }
 
-  create_squirrel_instance(v, new scripting::GameObject(object), true);
+  create_squirrel_instance(v, new Scripting::GameObject(object), true);
 }
 
 void
 Sector::expose_object_to_squirrel(GameObject* object)
 {
-  using namespace scripting;
+  using namespace Scripting;
 
   // get objects table
   HSQUIRRELVM v = script_manager-&gt;get_vm();

Modified: trunk/windstille/src/sprite2d/sprite.cpp
===================================================================
--- trunk/windstille/src/sprite2d/sprite.cpp	2007-06-18 01:35:45 UTC (rev 1458)
+++ trunk/windstille/src/sprite2d/sprite.cpp	2007-06-18 02:13:15 UTC (rev 1459)
@@ -1,4 +1,3 @@
-#include &lt;config.h&gt;
 
 #include &quot;sprite2d/sprite.hpp&quot;
 

Modified: trunk/windstille/src/sprite3d/data.cpp
===================================================================
--- trunk/windstille/src/sprite3d/data.cpp	2007-06-18 01:35:45 UTC (rev 1458)
+++ trunk/windstille/src/sprite3d/data.cpp	2007-06-18 02:13:15 UTC (rev 1459)
@@ -1,4 +1,3 @@
-#include &lt;config.h&gt;
 
 #include &quot;sprite3d/data.hpp&quot;
 

Modified: trunk/windstille/src/tile_factory.cpp
===================================================================
--- trunk/windstille/src/tile_factory.cpp	2007-06-18 01:35:45 UTC (rev 1458)
+++ trunk/windstille/src/tile_factory.cpp	2007-06-18 02:13:15 UTC (rev 1459)
@@ -16,7 +16,6 @@
 //  You should have received a copy of the GNU General Public License
 //  along with this program; if not, write to the Free Software
 //  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.
-#include &lt;config.h&gt;
 
 #include &lt;string&gt;
 #include &lt;sstream&gt;

Modified: trunk/windstille/src/tile_packer.cpp
===================================================================
--- trunk/windstille/src/tile_packer.cpp	2007-06-18 01:35:45 UTC (rev 1458)
+++ trunk/windstille/src/tile_packer.cpp	2007-06-18 02:13:15 UTC (rev 1459)
@@ -22,7 +22,6 @@
 **  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA
 **  02111-1307, USA.
 */
-#include &lt;config.h&gt;
 
 #include &lt;assert.h&gt;
 #include &lt;GL/glew.h&gt;

Modified: trunk/windstille/src/timer.cpp
===================================================================
--- trunk/windstille/src/timer.cpp	2007-06-18 01:35:45 UTC (rev 1458)
+++ trunk/windstille/src/timer.cpp	2007-06-18 02:13:15 UTC (rev 1459)
@@ -17,7 +17,6 @@
 //  along with this program; if not, write to the Free Software
 //  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA
 //  02111-1307, USA.
-#include &lt;config.h&gt;
 
 #include &lt;math.h&gt;
 #include &quot;timer.hpp&quot;

Modified: trunk/windstille/src/windstille_main.cpp
===================================================================
--- trunk/windstille/src/windstille_main.cpp	2007-06-18 01:35:45 UTC (rev 1458)
+++ trunk/windstille/src/windstille_main.cpp	2007-06-18 02:13:15 UTC (rev 1459)
@@ -22,8 +22,9 @@
 **  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA
 **  02111-1307, USA.
 */
-#include &lt;config.h&gt;
 
+#include &quot;windstille.hpp&quot;
+
 #include &lt;stdio.h&gt;
 #include &lt;physfs.h&gt;
 
@@ -276,9 +277,9 @@
 
   // Initialize physfs (this is a slightly modified version of
   // PHYSFS_setSaneConfig
-  const char* application = PACKAGE_NAME;
+  const char* application = &quot;windstille&quot;;
   const char* userdir = PHYSFS_getUserDir();
-  const char* dirsep = PHYSFS_getDirSeparator();
+  const char* dirsep  = PHYSFS_getDirSeparator();
   char* writedir = new char[strlen(userdir) + strlen(application) + 2];
 
   // Set configuration directory


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001110.html">[Windstille-commit] r1458 - in trunk/windstille: . src
</A></li>
	<LI>Next message: <A HREF="001112.html">[Windstille-commit] r1460 - in trunk/windstille: . src src/display
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1111">[ date ]</a>
              <a href="thread.html#1111">[ thread ]</a>
              <a href="subject.html#1111">[ subject ]</a>
              <a href="author.html#1111">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/windstille-commit">More information about the Windstille-commit
mailing list</a><br>
</body></html>
