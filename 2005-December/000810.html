<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Windstille-commit] r1157 - in facebuilder: . examples
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/windstille-commit/2005-December/index.html" >
   <LINK REL="made" HREF="mailto:windstille-commit%40lists.berlios.de?Subject=Re%3A%20%5BWindstille-commit%5D%20r1157%20-%20in%20facebuilder%3A%20.%20examples&In-Reply-To=%3C200512251702.jBPH2mkj004080%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000809.html">
   <LINK REL="Next"  HREF="000811.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Windstille-commit] r1157 - in facebuilder: . examples</H1>
    <B>grumbel at BerliOS</B> 
    <A HREF="mailto:windstille-commit%40lists.berlios.de?Subject=Re%3A%20%5BWindstille-commit%5D%20r1157%20-%20in%20facebuilder%3A%20.%20examples&In-Reply-To=%3C200512251702.jBPH2mkj004080%40sheep.berlios.de%3E"
       TITLE="[Windstille-commit] r1157 - in facebuilder: . examples">grumbel at berlios.de
       </A><BR>
    <I>Sun Dec 25 18:02:48 CET 2005</I>
    <P><UL>
        <LI>Previous message: <A HREF="000809.html">[Windstille-commit] r1156 - facebuilder/data/hair
</A></li>
        <LI>Next message: <A HREF="000811.html">[Windstille-commit] r1158 - facebuilder
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#810">[ date ]</a>
              <a href="thread.html#810">[ thread ]</a>
              <a href="subject.html#810">[ subject ]</a>
              <a href="author.html#810">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: grumbel
Date: 2005-12-25 18:02:47 +0100 (Sun, 25 Dec 2005)
New Revision: 1157

Added:
   facebuilder/examples/women4.xml
   facebuilder/examples/women5.xml
   facebuilder/examples/women6.xml
   facebuilder/examples/women7.xml
   facebuilder/facebuilder-old.rb
   facebuilder/facebuilder.glade
   facebuilder/facebuilder.gladep
   facebuilder/facebuilder.rb
Removed:
   facebuilder/facebuilder.rb
Modified:
   facebuilder/index.html
Log:
- gnomeified the app a bit

Added: facebuilder/examples/women4.xml
===================================================================
--- facebuilder/examples/women4.xml	2005-12-25 00:36:21 UTC (rev 1156)
+++ facebuilder/examples/women4.xml	2005-12-25 17:02:47 UTC (rev 1157)
@@ -0,0 +1,74 @@
+&lt;face&gt;
+  &lt;hair&gt;
+    &lt;filename&gt;data/hair/0014.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;-3.0&lt;/x&gt;&lt;y&gt;-5.0&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;1.0&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/hair&gt;
+  &lt;mouthfold&gt;
+    &lt;filename&gt;data/mouthfold/0000.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;40&lt;/x&gt;&lt;y&gt;75&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;1.0&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/mouthfold&gt;
+  &lt;glasses&gt;
+    &lt;filename&gt;data/glasses/0001.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;1.0&lt;/x&gt;&lt;y&gt;-4.0&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;1.0&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/glasses&gt;
+  &lt;ear&gt;
+    &lt;filename&gt;data/ear/0000.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;90&lt;/x&gt;&lt;y&gt;0&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;1.0&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/ear&gt;
+  &lt;beard&gt;
+    &lt;filename&gt;data/beard/0000.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;0&lt;/x&gt;&lt;y&gt;75&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;1.0&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/beard&gt;
+  &lt;eyebrow&gt;
+    &lt;filename&gt;data/eyebrow/0001.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;45&lt;/x&gt;&lt;y&gt;-30&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;1.0&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/eyebrow&gt;
+  &lt;hat&gt;
+    &lt;filename&gt;data/hat/0004.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;-32.0&lt;/x&gt;&lt;y&gt;-15.0&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;1.17165938100227&lt;/scale&gt;
+    &lt;rotation&gt;0.0&lt;/rotation&gt;
+  &lt;/hat&gt;
+  &lt;eye&gt;
+    &lt;filename&gt;data/eye/0015.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;34.0&lt;/x&gt;&lt;y&gt;-7.0&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;1.0&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/eye&gt;
+  &lt;forehead&gt;
+    &lt;filename&gt;data/forehead/0000.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;0&lt;/x&gt;&lt;y&gt;-75&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;1.0&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/forehead&gt;
+  &lt;nose&gt;
+    &lt;filename&gt;data/nose/0005.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;1.0&lt;/x&gt;&lt;y&gt;26.0&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;0.836755265872658&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/nose&gt;
+  &lt;head&gt;
+    &lt;filename&gt;data/head/0000.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;0&lt;/x&gt;&lt;y&gt;0&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;1.0&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/head&gt;
+  &lt;mouth&gt;
+    &lt;filename&gt;data/mouth/0006.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;0&lt;/x&gt;&lt;y&gt;75&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;0.757875024588289&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/mouth&gt;
+&lt;/face&gt;

Added: facebuilder/examples/women5.xml
===================================================================
--- facebuilder/examples/women5.xml	2005-12-25 00:36:21 UTC (rev 1156)
+++ facebuilder/examples/women5.xml	2005-12-25 17:02:47 UTC (rev 1157)
@@ -0,0 +1,74 @@
+&lt;face&gt;
+  &lt;hair&gt;
+    &lt;filename&gt;data/hair/0015.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;-1.0&lt;/x&gt;&lt;y&gt;-5.0&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;1.0&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/hair&gt;
+  &lt;mouthfold&gt;
+    &lt;filename&gt;data/mouthfold/0000.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;40&lt;/x&gt;&lt;y&gt;75&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;1.0&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/mouthfold&gt;
+  &lt;glasses&gt;
+    &lt;filename&gt;data/glasses/0005.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;-1.0&lt;/x&gt;&lt;y&gt;-1.0&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;1.0&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/glasses&gt;
+  &lt;ear&gt;
+    &lt;filename&gt;data/ear/0000.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;90&lt;/x&gt;&lt;y&gt;0&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;1.0&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/ear&gt;
+  &lt;beard&gt;
+    &lt;filename&gt;data/beard/0000.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;0&lt;/x&gt;&lt;y&gt;75&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;1.0&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/beard&gt;
+  &lt;eyebrow&gt;
+    &lt;filename&gt;data/eyebrow/0001.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;37.0&lt;/x&gt;&lt;y&gt;-25.0&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;1.0&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/eyebrow&gt;
+  &lt;hat&gt;
+    &lt;filename&gt;data/hat/0000.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;0&lt;/x&gt;&lt;y&gt;-50&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;1.0&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/hat&gt;
+  &lt;eye&gt;
+    &lt;filename&gt;data/eye/0015.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;33.0&lt;/x&gt;&lt;y&gt;-7.0&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;1.0&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/eye&gt;
+  &lt;forehead&gt;
+    &lt;filename&gt;data/forehead/0000.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;0&lt;/x&gt;&lt;y&gt;-75&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;1.0&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/forehead&gt;
+  &lt;nose&gt;
+    &lt;filename&gt;data/nose/0003.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;0.0&lt;/x&gt;&lt;y&gt;24.0&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;1.24337430839465&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/nose&gt;
+  &lt;head&gt;
+    &lt;filename&gt;data/head/0000.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;0&lt;/x&gt;&lt;y&gt;-3.0&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;1.0&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/head&gt;
+  &lt;mouth&gt;
+    &lt;filename&gt;data/mouth/0006.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;-1.0&lt;/x&gt;&lt;y&gt;74.0&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;0.870560178613914&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/mouth&gt;
+&lt;/face&gt;

Added: facebuilder/examples/women6.xml
===================================================================
--- facebuilder/examples/women6.xml	2005-12-25 00:36:21 UTC (rev 1156)
+++ facebuilder/examples/women6.xml	2005-12-25 17:02:47 UTC (rev 1157)
@@ -0,0 +1,74 @@
+&lt;face&gt;
+  &lt;hair&gt;
+    &lt;filename&gt;data/hair/0017.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;1.0&lt;/x&gt;&lt;y&gt;-4.0&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;1.0&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/hair&gt;
+  &lt;mouthfold&gt;
+    &lt;filename&gt;data/mouthfold/0000.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;40&lt;/x&gt;&lt;y&gt;75&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;1.0&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/mouthfold&gt;
+  &lt;glasses&gt;
+    &lt;filename&gt;data/glasses/0000.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;0&lt;/x&gt;&lt;y&gt;-10&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;1.0&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/glasses&gt;
+  &lt;ear&gt;
+    &lt;filename&gt;data/ear/0000.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;90&lt;/x&gt;&lt;y&gt;0&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;1.0&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/ear&gt;
+  &lt;beard&gt;
+    &lt;filename&gt;data/beard/0000.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;0&lt;/x&gt;&lt;y&gt;75&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;1.0&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/beard&gt;
+  &lt;eyebrow&gt;
+    &lt;filename&gt;data/eyebrow/0001.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;36.0&lt;/x&gt;&lt;y&gt;-26.0&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;1.14868566764928&lt;/scale&gt;
+    &lt;rotation&gt;0.0&lt;/rotation&gt;
+  &lt;/eyebrow&gt;
+  &lt;hat&gt;
+    &lt;filename&gt;data/hat/0000.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;0&lt;/x&gt;&lt;y&gt;-50&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;1.0&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/hat&gt;
+  &lt;eye&gt;
+    &lt;filename&gt;data/eye/0015.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;35.0&lt;/x&gt;&lt;y&gt;-6.0&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;1.31947876306287&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/eye&gt;
+  &lt;forehead&gt;
+    &lt;filename&gt;data/forehead/0000.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;0&lt;/x&gt;&lt;y&gt;-75&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;1.0&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/forehead&gt;
+  &lt;nose&gt;
+    &lt;filename&gt;data/nose/0000.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;0&lt;/x&gt;&lt;y&gt;17.0&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;1.0&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/nose&gt;
+  &lt;head&gt;
+    &lt;filename&gt;data/head/0005.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;0&lt;/x&gt;&lt;y&gt;-7.0&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;1.0&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/head&gt;
+  &lt;mouth&gt;
+    &lt;filename&gt;data/mouth/0007.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;0&lt;/x&gt;&lt;y&gt;75.0&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;0.870560178613914&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/mouth&gt;
+&lt;/face&gt;

Added: facebuilder/examples/women7.xml
===================================================================
--- facebuilder/examples/women7.xml	2005-12-25 00:36:21 UTC (rev 1156)
+++ facebuilder/examples/women7.xml	2005-12-25 17:02:47 UTC (rev 1157)
@@ -0,0 +1,74 @@
+&lt;face&gt;
+  &lt;hair&gt;
+    &lt;filename&gt;data/hair/0017.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;1.0&lt;/x&gt;&lt;y&gt;-4.0&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;1.0&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/hair&gt;
+  &lt;mouthfold&gt;
+    &lt;filename&gt;data/mouthfold/0001.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;33&lt;/x&gt;&lt;y&gt;66&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;1.0&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/mouthfold&gt;
+  &lt;glasses&gt;
+    &lt;filename&gt;data/glasses/0006.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;0.0&lt;/x&gt;&lt;y&gt;-4.0&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;1.0&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/glasses&gt;
+  &lt;ear&gt;
+    &lt;filename&gt;data/ear/0000.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;90&lt;/x&gt;&lt;y&gt;0&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;1.0&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/ear&gt;
+  &lt;beard&gt;
+    &lt;filename&gt;data/beard/0000.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;0&lt;/x&gt;&lt;y&gt;75&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;1.0&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/beard&gt;
+  &lt;eyebrow&gt;
+    &lt;filename&gt;data/eyebrow/0001.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;36.0&lt;/x&gt;&lt;y&gt;-26.0&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;1.14868566764928&lt;/scale&gt;
+    &lt;rotation&gt;0.0&lt;/rotation&gt;
+  &lt;/eyebrow&gt;
+  &lt;hat&gt;
+    &lt;filename&gt;data/hat/0000.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;0&lt;/x&gt;&lt;y&gt;-50&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;1.0&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/hat&gt;
+  &lt;eye&gt;
+    &lt;filename&gt;data/eye/0015.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;35.0&lt;/x&gt;&lt;y&gt;-6.0&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;1.31947876306287&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/eye&gt;
+  &lt;forehead&gt;
+    &lt;filename&gt;data/forehead/0001.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;-1&lt;/x&gt;&lt;y&gt;-57&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;1.0&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/forehead&gt;
+  &lt;nose&gt;
+    &lt;filename&gt;data/nose/0000.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;0&lt;/x&gt;&lt;y&gt;17.0&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;1.0&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/nose&gt;
+  &lt;head&gt;
+    &lt;filename&gt;data/head/0005.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;0&lt;/x&gt;&lt;y&gt;-7.0&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;1.0&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/head&gt;
+  &lt;mouth&gt;
+    &lt;filename&gt;data/mouth/0007.png&lt;/filename&gt;
+    &lt;offset&gt;&lt;x&gt;0&lt;/x&gt;&lt;y&gt;74.0&lt;/y&gt;&lt;/offset&gt;
+    &lt;scale&gt;0.870560178613914&lt;/scale&gt;
+    &lt;rotation&gt;0&lt;/rotation&gt;
+  &lt;/mouth&gt;
+&lt;/face&gt;

Copied: facebuilder/facebuilder-old.rb (from rev 1153, facebuilder/facebuilder.rb)

Added: facebuilder/facebuilder.glade
===================================================================
--- facebuilder/facebuilder.glade	2005-12-25 00:36:21 UTC (rev 1156)
+++ facebuilder/facebuilder.glade	2005-12-25 17:02:47 UTC (rev 1157)
@@ -0,0 +1,417 @@
+&lt;?xml version=&quot;1.0&quot; standalone=&quot;no&quot;?&gt; &lt;!--*- mode: xml -*--&gt;
+&lt;!DOCTYPE glade-interface SYSTEM &quot;<A HREF="http://glade.gnome.org/glade-2.0.dtd">http://glade.gnome.org/glade-2.0.dtd</A>&quot;&gt;
+
+&lt;glade-interface&gt;
+&lt;requires lib=&quot;gnome&quot;/&gt;
+&lt;requires lib=&quot;canvas&quot;/&gt;
+&lt;requires lib=&quot;bonobo&quot;/&gt;
+
+&lt;widget class=&quot;GnomeApp&quot; id=&quot;FaceBuilder&quot;&gt;
+  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+  &lt;property name=&quot;title&quot; translatable=&quot;yes&quot;&gt;FaceBuilder&lt;/property&gt;
+  &lt;property name=&quot;type&quot;&gt;GTK_WINDOW_TOPLEVEL&lt;/property&gt;
+  &lt;property name=&quot;window_position&quot;&gt;GTK_WIN_POS_NONE&lt;/property&gt;
+  &lt;property name=&quot;modal&quot;&gt;False&lt;/property&gt;
+  &lt;property name=&quot;default_width&quot;&gt;800&lt;/property&gt;
+  &lt;property name=&quot;default_height&quot;&gt;600&lt;/property&gt;
+  &lt;property name=&quot;resizable&quot;&gt;True&lt;/property&gt;
+  &lt;property name=&quot;destroy_with_parent&quot;&gt;False&lt;/property&gt;
+  &lt;property name=&quot;decorated&quot;&gt;True&lt;/property&gt;
+  &lt;property name=&quot;skip_taskbar_hint&quot;&gt;False&lt;/property&gt;
+  &lt;property name=&quot;skip_pager_hint&quot;&gt;False&lt;/property&gt;
+  &lt;property name=&quot;type_hint&quot;&gt;GDK_WINDOW_TYPE_HINT_NORMAL&lt;/property&gt;
+  &lt;property name=&quot;gravity&quot;&gt;GDK_GRAVITY_NORTH_WEST&lt;/property&gt;
+  &lt;property name=&quot;focus_on_map&quot;&gt;True&lt;/property&gt;
+  &lt;property name=&quot;enable_layout_config&quot;&gt;True&lt;/property&gt;
+
+  &lt;child internal-child=&quot;dock&quot;&gt;
+    &lt;widget class=&quot;BonoboDock&quot; id=&quot;bonobodock1&quot;&gt;
+      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+      &lt;property name=&quot;allow_floating&quot;&gt;True&lt;/property&gt;
+
+      &lt;child&gt;
+	&lt;widget class=&quot;BonoboDockItem&quot; id=&quot;bonobodockitem1&quot;&gt;
+	  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+	  &lt;property name=&quot;shadow_type&quot;&gt;GTK_SHADOW_NONE&lt;/property&gt;
+
+	  &lt;child&gt;
+	    &lt;widget class=&quot;GtkMenuBar&quot; id=&quot;menubar1&quot;&gt;
+	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+
+	      &lt;child&gt;
+		&lt;widget class=&quot;GtkImageMenuItem&quot; id=&quot;file1&quot;&gt;
+		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;stock_item&quot;&gt;GNOMEUIINFO_MENU_FILE_TREE&lt;/property&gt;
+
+		  &lt;child&gt;
+		    &lt;widget class=&quot;GtkMenu&quot; id=&quot;file1_menu&quot;&gt;
+
+		      &lt;child&gt;
+			&lt;widget class=&quot;GtkImageMenuItem&quot; id=&quot;new1&quot;&gt;
+			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+			  &lt;property name=&quot;stock_item&quot;&gt;GNOMEUIINFO_MENU_NEW_ITEM&lt;/property&gt;
+			  &lt;property name=&quot;label&quot; translatable=&quot;yes&quot;&gt;_New&lt;/property&gt;
+			  &lt;property name=&quot;use_underline&quot;&gt;True&lt;/property&gt;
+			  &lt;signal name=&quot;activate&quot; handler=&quot;on_new1_activate&quot; last_modification_time=&quot;Sun, 25 Dec 2005 14:41:31 GMT&quot;/&gt;
+			&lt;/widget&gt;
+		      &lt;/child&gt;
+
+		      &lt;child&gt;
+			&lt;widget class=&quot;GtkImageMenuItem&quot; id=&quot;open1&quot;&gt;
+			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+			  &lt;property name=&quot;stock_item&quot;&gt;GNOMEUIINFO_MENU_OPEN_ITEM&lt;/property&gt;
+			  &lt;signal name=&quot;activate&quot; handler=&quot;on_open1_activate&quot; last_modification_time=&quot;Sun, 25 Dec 2005 14:41:31 GMT&quot;/&gt;
+			&lt;/widget&gt;
+		      &lt;/child&gt;
+
+		      &lt;child&gt;
+			&lt;widget class=&quot;GtkImageMenuItem&quot; id=&quot;save1&quot;&gt;
+			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+			  &lt;property name=&quot;stock_item&quot;&gt;GNOMEUIINFO_MENU_SAVE_ITEM&lt;/property&gt;
+			  &lt;signal name=&quot;activate&quot; handler=&quot;on_save1_activate&quot; last_modification_time=&quot;Sun, 25 Dec 2005 14:41:31 GMT&quot;/&gt;
+			&lt;/widget&gt;
+		      &lt;/child&gt;
+
+		      &lt;child&gt;
+			&lt;widget class=&quot;GtkImageMenuItem&quot; id=&quot;save_as1&quot;&gt;
+			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+			  &lt;property name=&quot;stock_item&quot;&gt;GNOMEUIINFO_MENU_SAVE_AS_ITEM&lt;/property&gt;
+			  &lt;signal name=&quot;activate&quot; handler=&quot;on_save_as1_activate&quot; last_modification_time=&quot;Sun, 25 Dec 2005 14:41:31 GMT&quot;/&gt;
+			&lt;/widget&gt;
+		      &lt;/child&gt;
+
+		      &lt;child&gt;
+			&lt;widget class=&quot;GtkSeparatorMenuItem&quot; id=&quot;separator1&quot;&gt;
+			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+			&lt;/widget&gt;
+		      &lt;/child&gt;
+
+		      &lt;child&gt;
+			&lt;widget class=&quot;GtkImageMenuItem&quot; id=&quot;quit1&quot;&gt;
+			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+			  &lt;property name=&quot;stock_item&quot;&gt;GNOMEUIINFO_MENU_EXIT_ITEM&lt;/property&gt;
+			  &lt;signal name=&quot;activate&quot; handler=&quot;on_quit1_activate&quot; last_modification_time=&quot;Sun, 25 Dec 2005 14:41:31 GMT&quot;/&gt;
+			&lt;/widget&gt;
+		      &lt;/child&gt;
+		    &lt;/widget&gt;
+		  &lt;/child&gt;
+		&lt;/widget&gt;
+	      &lt;/child&gt;
+
+	      &lt;child&gt;
+		&lt;widget class=&quot;GtkImageMenuItem&quot; id=&quot;edit1&quot;&gt;
+		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;stock_item&quot;&gt;GNOMEUIINFO_MENU_EDIT_TREE&lt;/property&gt;
+
+		  &lt;child&gt;
+		    &lt;widget class=&quot;GtkMenu&quot; id=&quot;edit1_menu&quot;&gt;
+
+		      &lt;child&gt;
+			&lt;widget class=&quot;GtkImageMenuItem&quot; id=&quot;cut1&quot;&gt;
+			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+			  &lt;property name=&quot;stock_item&quot;&gt;GNOMEUIINFO_MENU_CUT_ITEM&lt;/property&gt;
+			  &lt;signal name=&quot;activate&quot; handler=&quot;on_cut1_activate&quot; last_modification_time=&quot;Sun, 25 Dec 2005 14:41:31 GMT&quot;/&gt;
+			&lt;/widget&gt;
+		      &lt;/child&gt;
+
+		      &lt;child&gt;
+			&lt;widget class=&quot;GtkImageMenuItem&quot; id=&quot;copy1&quot;&gt;
+			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+			  &lt;property name=&quot;stock_item&quot;&gt;GNOMEUIINFO_MENU_COPY_ITEM&lt;/property&gt;
+			  &lt;signal name=&quot;activate&quot; handler=&quot;on_copy1_activate&quot; last_modification_time=&quot;Sun, 25 Dec 2005 14:41:31 GMT&quot;/&gt;
+			&lt;/widget&gt;
+		      &lt;/child&gt;
+
+		      &lt;child&gt;
+			&lt;widget class=&quot;GtkImageMenuItem&quot; id=&quot;paste1&quot;&gt;
+			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+			  &lt;property name=&quot;stock_item&quot;&gt;GNOMEUIINFO_MENU_PASTE_ITEM&lt;/property&gt;
+			  &lt;signal name=&quot;activate&quot; handler=&quot;on_paste1_activate&quot; last_modification_time=&quot;Sun, 25 Dec 2005 14:41:31 GMT&quot;/&gt;
+			&lt;/widget&gt;
+		      &lt;/child&gt;
+
+		      &lt;child&gt;
+			&lt;widget class=&quot;GtkImageMenuItem&quot; id=&quot;clear1&quot;&gt;
+			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+			  &lt;property name=&quot;stock_item&quot;&gt;GNOMEUIINFO_MENU_CLEAR_ITEM&lt;/property&gt;
+			  &lt;signal name=&quot;activate&quot; handler=&quot;on_clear1_activate&quot; last_modification_time=&quot;Sun, 25 Dec 2005 14:41:31 GMT&quot;/&gt;
+			&lt;/widget&gt;
+		      &lt;/child&gt;
+
+		      &lt;child&gt;
+			&lt;widget class=&quot;GtkSeparatorMenuItem&quot; id=&quot;separator2&quot;&gt;
+			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+			&lt;/widget&gt;
+		      &lt;/child&gt;
+
+		      &lt;child&gt;
+			&lt;widget class=&quot;GtkImageMenuItem&quot; id=&quot;properties1&quot;&gt;
+			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+			  &lt;property name=&quot;stock_item&quot;&gt;GNOMEUIINFO_MENU_PROPERTIES_ITEM&lt;/property&gt;
+			  &lt;signal name=&quot;activate&quot; handler=&quot;on_properties1_activate&quot; last_modification_time=&quot;Sun, 25 Dec 2005 14:41:31 GMT&quot;/&gt;
+			&lt;/widget&gt;
+		      &lt;/child&gt;
+
+		      &lt;child&gt;
+			&lt;widget class=&quot;GtkSeparatorMenuItem&quot; id=&quot;separator3&quot;&gt;
+			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+			&lt;/widget&gt;
+		      &lt;/child&gt;
+
+		      &lt;child&gt;
+			&lt;widget class=&quot;GtkImageMenuItem&quot; id=&quot;preferences1&quot;&gt;
+			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+			  &lt;property name=&quot;stock_item&quot;&gt;GNOMEUIINFO_MENU_PREFERENCES_ITEM&lt;/property&gt;
+			  &lt;signal name=&quot;activate&quot; handler=&quot;on_preferences1_activate&quot; last_modification_time=&quot;Sun, 25 Dec 2005 14:41:31 GMT&quot;/&gt;
+			&lt;/widget&gt;
+		      &lt;/child&gt;
+		    &lt;/widget&gt;
+		  &lt;/child&gt;
+		&lt;/widget&gt;
+	      &lt;/child&gt;
+
+	      &lt;child&gt;
+		&lt;widget class=&quot;GtkImageMenuItem&quot; id=&quot;view1&quot;&gt;
+		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;stock_item&quot;&gt;GNOMEUIINFO_MENU_VIEW_TREE&lt;/property&gt;
+
+		  &lt;child&gt;
+		    &lt;widget class=&quot;GtkMenu&quot; id=&quot;view1_menu&quot;&gt;
+		    &lt;/widget&gt;
+		  &lt;/child&gt;
+		&lt;/widget&gt;
+	      &lt;/child&gt;
+
+	      &lt;child&gt;
+		&lt;widget class=&quot;GtkImageMenuItem&quot; id=&quot;help1&quot;&gt;
+		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;stock_item&quot;&gt;GNOMEUIINFO_MENU_HELP_TREE&lt;/property&gt;
+
+		  &lt;child&gt;
+		    &lt;widget class=&quot;GtkMenu&quot; id=&quot;help1_menu&quot;&gt;
+
+		      &lt;child&gt;
+			&lt;widget class=&quot;GtkImageMenuItem&quot; id=&quot;about1&quot;&gt;
+			  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+			  &lt;property name=&quot;stock_item&quot;&gt;GNOMEUIINFO_MENU_ABOUT_ITEM&lt;/property&gt;
+			  &lt;signal name=&quot;activate&quot; handler=&quot;on_about1_activate&quot; last_modification_time=&quot;Sun, 25 Dec 2005 14:41:31 GMT&quot;/&gt;
+			&lt;/widget&gt;
+		      &lt;/child&gt;
+		    &lt;/widget&gt;
+		  &lt;/child&gt;
+		&lt;/widget&gt;
+	      &lt;/child&gt;
+	    &lt;/widget&gt;
+	  &lt;/child&gt;
+	&lt;/widget&gt;
+	&lt;packing&gt;
+	  &lt;property name=&quot;placement&quot;&gt;BONOBO_DOCK_TOP&lt;/property&gt;
+	  &lt;property name=&quot;band&quot;&gt;0&lt;/property&gt;
+	  &lt;property name=&quot;position&quot;&gt;0&lt;/property&gt;
+	  &lt;property name=&quot;offset&quot;&gt;0&lt;/property&gt;
+	  &lt;property name=&quot;behavior&quot;&gt;BONOBO_DOCK_ITEM_BEH_EXCLUSIVE|BONOBO_DOCK_ITEM_BEH_NEVER_VERTICAL&lt;/property&gt;
+	&lt;/packing&gt;
+      &lt;/child&gt;
+
+      &lt;child&gt;
+	&lt;widget class=&quot;BonoboDockItem&quot; id=&quot;bonobodockitem2&quot;&gt;
+	  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+	  &lt;property name=&quot;shadow_type&quot;&gt;GTK_SHADOW_OUT&lt;/property&gt;
+
+	  &lt;child&gt;
+	    &lt;widget class=&quot;GtkToolbar&quot; id=&quot;toolbar1&quot;&gt;
+	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;orientation&quot;&gt;GTK_ORIENTATION_HORIZONTAL&lt;/property&gt;
+	      &lt;property name=&quot;toolbar_style&quot;&gt;GTK_TOOLBAR_ICONS&lt;/property&gt;
+	      &lt;property name=&quot;tooltips&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;show_arrow&quot;&gt;True&lt;/property&gt;
+
+	      &lt;child&gt;
+		&lt;widget class=&quot;GtkToolButton&quot; id=&quot;toolbutton1&quot;&gt;
+		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;tooltip&quot; translatable=&quot;yes&quot;&gt;New File&lt;/property&gt;
+		  &lt;property name=&quot;stock_id&quot;&gt;gtk-new&lt;/property&gt;
+		  &lt;property name=&quot;visible_horizontal&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;visible_vertical&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;is_important&quot;&gt;False&lt;/property&gt;
+		&lt;/widget&gt;
+		&lt;packing&gt;
+		  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+		  &lt;property name=&quot;homogeneous&quot;&gt;True&lt;/property&gt;
+		&lt;/packing&gt;
+	      &lt;/child&gt;
+
+	      &lt;child&gt;
+		&lt;widget class=&quot;GtkToolButton&quot; id=&quot;toolbutton_open_file&quot;&gt;
+		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;tooltip&quot; translatable=&quot;yes&quot;&gt;Open File&lt;/property&gt;
+		  &lt;property name=&quot;stock_id&quot;&gt;gtk-open&lt;/property&gt;
+		  &lt;property name=&quot;visible_horizontal&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;visible_vertical&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;is_important&quot;&gt;False&lt;/property&gt;
+		&lt;/widget&gt;
+		&lt;packing&gt;
+		  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+		  &lt;property name=&quot;homogeneous&quot;&gt;True&lt;/property&gt;
+		&lt;/packing&gt;
+	      &lt;/child&gt;
+
+	      &lt;child&gt;
+		&lt;widget class=&quot;GtkToolButton&quot; id=&quot;toolbutton_save_file&quot;&gt;
+		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;tooltip&quot; translatable=&quot;yes&quot;&gt;Save File&lt;/property&gt;
+		  &lt;property name=&quot;stock_id&quot;&gt;gtk-save&lt;/property&gt;
+		  &lt;property name=&quot;visible_horizontal&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;visible_vertical&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;is_important&quot;&gt;False&lt;/property&gt;
+		&lt;/widget&gt;
+		&lt;packing&gt;
+		  &lt;property name=&quot;expand&quot;&gt;False&lt;/property&gt;
+		  &lt;property name=&quot;homogeneous&quot;&gt;True&lt;/property&gt;
+		&lt;/packing&gt;
+	      &lt;/child&gt;
+	    &lt;/widget&gt;
+	  &lt;/child&gt;
+	&lt;/widget&gt;
+	&lt;packing&gt;
+	  &lt;property name=&quot;placement&quot;&gt;BONOBO_DOCK_TOP&lt;/property&gt;
+	  &lt;property name=&quot;band&quot;&gt;1&lt;/property&gt;
+	  &lt;property name=&quot;position&quot;&gt;0&lt;/property&gt;
+	  &lt;property name=&quot;offset&quot;&gt;0&lt;/property&gt;
+	  &lt;property name=&quot;behavior&quot;&gt;BONOBO_DOCK_ITEM_BEH_EXCLUSIVE&lt;/property&gt;
+	&lt;/packing&gt;
+      &lt;/child&gt;
+
+      &lt;child&gt;
+	&lt;widget class=&quot;GtkHPaned&quot; id=&quot;hpaned1&quot;&gt;
+	  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+	  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+	  &lt;property name=&quot;position&quot;&gt;0&lt;/property&gt;
+
+	  &lt;child&gt;
+	    &lt;widget class=&quot;GtkScrolledWindow&quot; id=&quot;scrolledwindow1&quot;&gt;
+	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;hscrollbar_policy&quot;&gt;GTK_POLICY_ALWAYS&lt;/property&gt;
+	      &lt;property name=&quot;vscrollbar_policy&quot;&gt;GTK_POLICY_ALWAYS&lt;/property&gt;
+	      &lt;property name=&quot;shadow_type&quot;&gt;GTK_SHADOW_IN&lt;/property&gt;
+	      &lt;property name=&quot;window_placement&quot;&gt;GTK_CORNER_TOP_LEFT&lt;/property&gt;
+
+	      &lt;child&gt;
+		&lt;widget class=&quot;GnomeCanvas&quot; id=&quot;FaceCanvas&quot;&gt;
+		  &lt;property name=&quot;width_request&quot;&gt;512&lt;/property&gt;
+		  &lt;property name=&quot;height_request&quot;&gt;512&lt;/property&gt;
+		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;aa&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;scroll_x1&quot;&gt;-256&lt;/property&gt;
+		  &lt;property name=&quot;scroll_y1&quot;&gt;-256&lt;/property&gt;
+		  &lt;property name=&quot;scroll_x2&quot;&gt;256&lt;/property&gt;
+		  &lt;property name=&quot;scroll_y2&quot;&gt;256&lt;/property&gt;
+		  &lt;property name=&quot;pixels_per_unit&quot;&gt;1&lt;/property&gt;
+		&lt;/widget&gt;
+	      &lt;/child&gt;
+	    &lt;/widget&gt;
+	    &lt;packing&gt;
+	      &lt;property name=&quot;shrink&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;resize&quot;&gt;False&lt;/property&gt;
+	    &lt;/packing&gt;
+	  &lt;/child&gt;
+
+	  &lt;child&gt;
+	    &lt;widget class=&quot;GtkVPaned&quot; id=&quot;vpaned1&quot;&gt;
+	      &lt;property name=&quot;width_request&quot;&gt;85&lt;/property&gt;
+	      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+	      &lt;property name=&quot;position&quot;&gt;0&lt;/property&gt;
+
+	      &lt;child&gt;
+		&lt;widget class=&quot;GtkScrolledWindow&quot; id=&quot;scrolledwindow3&quot;&gt;
+		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;hscrollbar_policy&quot;&gt;GTK_POLICY_ALWAYS&lt;/property&gt;
+		  &lt;property name=&quot;vscrollbar_policy&quot;&gt;GTK_POLICY_ALWAYS&lt;/property&gt;
+		  &lt;property name=&quot;shadow_type&quot;&gt;GTK_SHADOW_IN&lt;/property&gt;
+		  &lt;property name=&quot;window_placement&quot;&gt;GTK_CORNER_TOP_LEFT&lt;/property&gt;
+
+		  &lt;child&gt;
+		    &lt;widget class=&quot;GtkTreeView&quot; id=&quot;FaceParts&quot;&gt;
+		      &lt;property name=&quot;width_request&quot;&gt;64&lt;/property&gt;
+		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+		      &lt;property name=&quot;headers_visible&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;rules_hint&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;reorderable&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;enable_search&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;fixed_height_mode&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;hover_selection&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;hover_expand&quot;&gt;False&lt;/property&gt;
+		    &lt;/widget&gt;
+		  &lt;/child&gt;
+		&lt;/widget&gt;
+		&lt;packing&gt;
+		  &lt;property name=&quot;shrink&quot;&gt;False&lt;/property&gt;
+		  &lt;property name=&quot;resize&quot;&gt;False&lt;/property&gt;
+		&lt;/packing&gt;
+	      &lt;/child&gt;
+
+	      &lt;child&gt;
+		&lt;widget class=&quot;GtkScrolledWindow&quot; id=&quot;scrolledwindow2&quot;&gt;
+		  &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;hscrollbar_policy&quot;&gt;GTK_POLICY_ALWAYS&lt;/property&gt;
+		  &lt;property name=&quot;vscrollbar_policy&quot;&gt;GTK_POLICY_ALWAYS&lt;/property&gt;
+		  &lt;property name=&quot;shadow_type&quot;&gt;GTK_SHADOW_IN&lt;/property&gt;
+		  &lt;property name=&quot;window_placement&quot;&gt;GTK_CORNER_TOP_LEFT&lt;/property&gt;
+
+		  &lt;child&gt;
+		    &lt;widget class=&quot;GtkTreeView&quot; id=&quot;PartSelector&quot;&gt;
+		      &lt;property name=&quot;height_request&quot;&gt;100&lt;/property&gt;
+		      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+		      &lt;property name=&quot;can_focus&quot;&gt;True&lt;/property&gt;
+		      &lt;property name=&quot;headers_visible&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;rules_hint&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;reorderable&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;enable_search&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;fixed_height_mode&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;hover_selection&quot;&gt;False&lt;/property&gt;
+		      &lt;property name=&quot;hover_expand&quot;&gt;False&lt;/property&gt;
+		    &lt;/widget&gt;
+		  &lt;/child&gt;
+		&lt;/widget&gt;
+		&lt;packing&gt;
+		  &lt;property name=&quot;shrink&quot;&gt;True&lt;/property&gt;
+		  &lt;property name=&quot;resize&quot;&gt;True&lt;/property&gt;
+		&lt;/packing&gt;
+	      &lt;/child&gt;
+	    &lt;/widget&gt;
+	    &lt;packing&gt;
+	      &lt;property name=&quot;shrink&quot;&gt;False&lt;/property&gt;
+	      &lt;property name=&quot;resize&quot;&gt;True&lt;/property&gt;
+	    &lt;/packing&gt;
+	  &lt;/child&gt;
+	&lt;/widget&gt;
+      &lt;/child&gt;
+    &lt;/widget&gt;
+    &lt;packing&gt;
+      &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
+      &lt;property name=&quot;expand&quot;&gt;True&lt;/property&gt;
+      &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
+    &lt;/packing&gt;
+  &lt;/child&gt;
+
+  &lt;child internal-child=&quot;appbar&quot;&gt;
+    &lt;widget class=&quot;GnomeAppBar&quot; id=&quot;statusbar&quot;&gt;
+      &lt;property name=&quot;visible&quot;&gt;True&lt;/property&gt;
+      &lt;property name=&quot;has_progress&quot;&gt;True&lt;/property&gt;
+      &lt;property name=&quot;has_status&quot;&gt;True&lt;/property&gt;
+    &lt;/widget&gt;
+    &lt;packing&gt;
+      &lt;property name=&quot;padding&quot;&gt;0&lt;/property&gt;
+      &lt;property name=&quot;expand&quot;&gt;True&lt;/property&gt;
+      &lt;property name=&quot;fill&quot;&gt;True&lt;/property&gt;
+    &lt;/packing&gt;
+  &lt;/child&gt;
+&lt;/widget&gt;
+
+&lt;/glade-interface&gt;

Added: facebuilder/facebuilder.gladep
===================================================================
--- facebuilder/facebuilder.gladep	2005-12-25 00:36:21 UTC (rev 1156)
+++ facebuilder/facebuilder.gladep	2005-12-25 17:02:47 UTC (rev 1157)
@@ -0,0 +1,7 @@
+&lt;?xml version=&quot;1.0&quot; standalone=&quot;no&quot;?&gt; &lt;!--*- mode: xml -*--&gt;
+&lt;!DOCTYPE glade-project SYSTEM &quot;<A HREF="http://glade.gnome.org/glade-project-2.0.dtd">http://glade.gnome.org/glade-project-2.0.dtd</A>&quot;&gt;
+
+&lt;glade-project&gt;
+  &lt;name&gt;FaceBuilder&lt;/name&gt;
+  &lt;program_name&gt;facebuilder&lt;/program_name&gt;
+&lt;/glade-project&gt;

Deleted: facebuilder/facebuilder.rb
===================================================================
--- facebuilder/facebuilder.rb	2005-12-25 00:36:21 UTC (rev 1156)
+++ facebuilder/facebuilder.rb	2005-12-25 17:02:47 UTC (rev 1157)
@@ -1,398 +0,0 @@
-#!/usr/bin/env ruby
-
-require &quot;gnomecanvas2&quot;
-require &quot;gtk2&quot;
-require &quot;face.rb&quot;
-
-Point = Struct.new(&quot;Point&quot;, :x, :y)
-class Point
-  def to_p
-    [x,y]
-  end
-  def +(p)
-    [x+p.x, y+p.y]
-  end
-  def -(p)
-    [x-p.x, y-p.y]
-  end
-end
-
-class FaceBuilder &lt; Gtk::VBox
-  def add_image(root, filename, x, y, anchor, affine = nil)
-    im = Gdk::Pixbuf.new(filename)
-
-    unless im.nil?
-      image = Gnome::CanvasPixbuf.new(root,
-                                      :pixbuf =&gt; im,
-                                      :x =&gt; x,
-                                      :y =&gt; y,
-                                      :width =&gt; im.width,
-                                      :height =&gt; im.height,
-                                      :anchor =&gt; anchor)
-
-      image.signal_connect(&quot;event&quot;) { |item,event|
-        puts &quot;Bla: &quot;, item, event
-      }
-      # puts image.i2w_affine
-      # puts image.i2c_affine
-
-      if affine then
-        image.affine_absolute(affine)
-      end
-
-      image.signal_connect(&quot;destroy&quot;, im) { |item, im| }
-      return image
-    end
-  end
-
-  def setup_controls(root, pos, facepart)
-    left = Gtk::Button.new(&quot;&lt;-&quot;)
-    Gnome::CanvasWidget.new(root,
-                            {:widget =&gt; left,
-                              :x =&gt; pos.x,
-                              :y =&gt; pos.y,
-                              :width =&gt;  32.0,
-                              :height =&gt; 32.0,
-                              :anchor =&gt; Gtk::ANCHOR_EAST,
-                              :size_pixels =&gt; FALSE})
-    left.show()
-    left.signal_connect(&quot;clicked&quot;) {
-      @face.get_part(facepart).previous_item()
-      set_current_part(facepart)
-    }
-
-    right = Gtk::Button.new(&quot;-&gt;&quot;)
-    Gnome::CanvasWidget.new(root,
-                            {:widget =&gt; right,
-                              :x =&gt; pos.x,
-                              :y =&gt; pos.y,
-                              :width =&gt;  32.0,
-                              :height =&gt; 32.0,
-                              :anchor =&gt; Gtk::ANCHOR_WEST,
-                              :size_pixels =&gt; FALSE})
-    right.show()
-    right.signal_connect(&quot;clicked&quot;) {
-      @face.get_part(facepart).next_item()
-      set_current_part(facepart)
-    }
-    return [left, right]
-  end
-
-  def setup_menu()
-    accel_group = Gtk::AccelGroup.new
-    item_factory = Gtk::ItemFactory.new(Gtk::ItemFactory::TYPE_MENU_BAR,
-                                        '&lt;main&gt;', accel_group)
-    
-    @window.add_accel_group(accel_group)
-    @window.set_border_width(0)
-
-    ifactory_cb = proc do |data, widget|
-      puts &quot;ItemFactory: activated \&quot;#{Gtk::ItemFactory.path_from_widget(widget)}\&quot;&quot;
-    end
-    
-    menu_items = 
-      [
-       ['/_File'],
-#       ['/File/tearoff1', '&lt;Tearoff&gt;', nil, nil, ifactory_cb],
-       ['/File/_Open',
-        '&lt;Item&gt;', '&lt;control&gt;O', nil, method(:open_file)],
-       ['/File/Save _As...',
-        '&lt;Item&gt;', '&lt;control&gt;S', nil, method(:save_file)],
-       ['/File/Quit',
-        '&lt;Item&gt;', '&lt;control&gt;Q', nil, method(:quit)],
-       ['/View/Hide Controls', 
-        '&lt;Item&gt;', nil, nil, nil],
-       ['/Help/About',
-        '&lt;Item&gt;', nil, nil, method(:about_dialog)]
-      ]
-    item_factory.create_items(menu_items)
-    
-    return item_factory.get_widget('&lt;main&gt;')
-  end
-
-  def about_dialog(data, widget)
-#     Gtk::AboutDialog.set_email_hook {|about, link|
-#       p &quot;email_hook&quot;
-#       p link
-#     }
-#     Gtk::AboutDialog.set_url_hook {|about, link|
-#       p &quot;url_hook&quot;
-#       p link
-#     }
-
-    Gtk::AboutDialog.show(nil,
-                          # &quot;artists&quot; =&gt; File.new(&quot;AUTHORS&quot;).readlines(),
-                          &quot;authors&quot; =&gt; File.new(&quot;AUTHORS&quot;).readlines(),
-                          &quot;comments&quot; =&gt; &quot;A simple tool to construct faces&quot;,
-                          &quot;copyright&quot; =&gt; &quot;Copyright (C) 2005 Ingo Ruhnke &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/windstille-commit">grumbel at gmx.de</A>&gt;&quot;,
-                          # &quot;documenters&quot; =&gt; [&quot;Documenter 1 &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/windstille-commit">no1 at foo.bar.com</A>&gt;&quot;, &quot;Documenter 2 &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/windstille-commit">no2 at foo.bar.com</A>&gt;&quot;],
-                          &quot;license&quot; =&gt; File.new(&quot;COPYING&quot;).read(),
-                          # &quot;logo_icon_name&quot; =&gt; &quot;gtk-home&quot;,
-                          &quot;logo&quot; =&gt; Gdk::Pixbuf.new(&quot;data/logo.png&quot;),
-                          &quot;name&quot; =&gt; &quot;Face Builder&quot;,
-                          &quot;version&quot; =&gt; &quot;0.0.1&quot;,
-                          &quot;website&quot; =&gt; &quot;<A HREF="http://windstille.berlios.de/facebuilder/">http://windstille.berlios.de/facebuilder/</A>&quot;,
-                          &quot;website_label&quot; =&gt; &quot;Face Builder&quot;
-                          )
-  end
-  
-  def quit(data, widget)
-    Gtk.main_quit
-  end
-
-  def open_file(data, widget)
-    dialog =  Gtk::FileChooserDialog.new(&quot;Gtk::FileChooser sample&quot;, nil,
-                                         Gtk::FileChooser::ACTION_OPEN,
-                                         &quot;gnome-vfs&quot;,
-                                         [Gtk::Stock::CANCEL, Gtk::Dialog::RESPONSE_CANCEL],
-                                         [Gtk::Stock::OPEN,   Gtk::Dialog::RESPONSE_ACCEPT]
-                                         )
-    dialog.run { |response|
-      if response == Gtk::Dialog::RESPONSE_ACCEPT then
-        @face.load(dialog.filename)
-      end
-      
-      dialog.destroy
-    }
-  end
-
-  def save_file(data, widget)
-    dialog =  Gtk::FileChooserDialog.new(&quot;Gtk::FileChooser sample&quot;, nil,
-                                         Gtk::FileChooser::ACTION_SAVE,
-                                         &quot;gnome-vfs&quot;,
-                                         [Gtk::Stock::CANCEL, Gtk::Dialog::RESPONSE_CANCEL],
-                                         [Gtk::Stock::SAVE,   Gtk::Dialog::RESPONSE_ACCEPT]
-                                         )
-    dialog.run { |response|
-      if response == Gtk::Dialog::RESPONSE_ACCEPT then
-        @face.save(dialog.filename)
-      end
-      
-      dialog.destroy
-    }
-  end
-
-  def set_current_part(type)
-    @parts.each_with_index() { |p, i|
-      if type == p then
-        if @current_part != i
-          @treeview.columns[0].title = type.to_s.capitalize
-                                                          
-          @list.clear()
-          Dir.new(&quot;data/#{type}/&quot;).grep(/\.png$/).each{|v|
-            filename = &quot;data/#{type}/#{v}&quot;
-            iter = @list.append()
-            pixbuf = Gdk::Pixbuf.new(filename)
-
-            # scale, while keeping aspect
-            if pixbuf.width &gt; 64 or pixbuf.height &gt; 64 then # need scaling, since larger then 64x64
-              aspect = pixbuf.width.to_f / pixbuf.height
-              if pixbuf.width &gt; pixbuf.height then
-                pixbuf = pixbuf.scale(64, 64 / aspect)
-              else
-                pixbuf = pixbuf.scale(64 * aspect, 64)
-              end
-            end
-
-            # Add keep of aspect ratio
-            iter[0] = pixbuf
-            iter[1] = filename
-          }
-
-          @current_part = i
-        end       
-      end
-    }
-
-    
-  end
-
-  def initialize(window)
-    super()
-
-    @window = window
-    
-    @box = Gtk::EventBox.new
-    @menu = setup_menu()
-    pack_start(@menu, false, false, 0)
-    @hbox = Gtk::HBox.new(false, 5)
-    pack_start(@hbox)
-    @hbox.pack_start(@box)
-
-    @label = Gtk::Label.new
-    @label.show
-    pack_end(@label,false,false,0)
-    set_border_width(@pad = 2)
-    set_size_request((@width = 48)+(@pad*2), (@height = 48)+(@pad*2))
-    @canvas = Gnome::Canvas.new(true)
-    # @box.border_width = 5
-    @box.add(@canvas)
-    
-    @list = Gtk::ListStore.new(Gdk::Pixbuf, String)
-    
-    @scrolled_win = Gtk::ScrolledWindow.new
-    @scrolled_win.set_policy(Gtk::POLICY_AUTOMATIC,Gtk::POLICY_AUTOMATIC)
-    # @scrolled_win.width = 64
-
-    @treeview = Gtk::TreeView.new(@list)
-    @treeview.headers_visible = false
-    @treeview.append_column(Gtk::TreeViewColumn.new(&quot;Stuff&quot;,
-                                                    Gtk::CellRendererPixbuf.new, 
-                                                    {:pixbuf =&gt; 0}))
-    @treeview.selection.set_mode(Gtk::SELECTION_SINGLE)
-    # scrolled_win.add_with_viewport(treeview)
-    
-    @treeview.signal_connect(&quot;cursor-changed&quot;) { |treeview|
-      row, column = treeview.cursor()
-      puts @list.methods()
-
-      puts &quot;Selected something #{@list.get_value(@list.get_iter(row), 1)}&quot;
-      filename = @list.get_value(@list.get_iter(row), 1)
-      @face.get_part(@parts[@current_part]).filename = filename
-    }
-    
-    @scrolled_win.set_size_request(96,64)
-    @hbox.pack_end(@scrolled_win, false, false, 0)
-    @scrolled_win.add_with_viewport(@treeview)
-
-    @canvas.signal_connect(&quot;button-press-event&quot;) { |item,event|
-      # Some throuble with alpha
-      # puts &quot;Bla: &quot;, @canvas.get_item_at(event.x, event.y)
-    }
-
-    # puts
-    @canvas.modify_bg(Gtk::STATE_NORMAL, Gdk::Color.new(65535, 65535, 65535))
-
-    @canvas.root.affine_absolute(Art::Affine.translate(192, 192))
-    @face = Face.new(@canvas.root)
-    
-    setup_controls(@canvas.root, Point.new(0, -200),  :hat)
-    setup_controls(@canvas.root, Point.new(-200, -140),   :forehead)
-    setup_controls(@canvas.root, Point.new(0, 200),   :head)
-    setup_controls(@canvas.root, Point.new(200, -140), :hair)
-
-    setup_controls(@canvas.root, Point.new(-200, 0), :glasses)
-
-    setup_controls(@canvas.root, Point.new(200, -40), :eyebrow)
-    setup_controls(@canvas.root, Point.new(200, 0),   :eye)
-    setup_controls(@canvas.root, Point.new(200, 40),  :nose)
-    setup_controls(@canvas.root, Point.new(200, 80),  :mouth)
-    setup_controls(@canvas.root, Point.new(-200, 80),  :mouthfold)
-
-    Gnome::CanvasText.new(@canvas.root,
-                          {:text =&gt; 
-                            &quot;PgUp, PgDown:\tscale\n&quot; +
-                            &quot;Home, End:\t\trotate\n&quot; +
-                            &quot;Cursorkeys:\t\tmove\n&quot;,
-                            :x =&gt; -180,
-                            :y =&gt; 180,
-                            :font =&gt; &quot;Sans 10&quot;,
-                            :anchor =&gt; Gtk::ANCHOR_N,
-                            :fill_color =&gt; &quot;black&quot;})
-
-    @parts = [:eye, :eyebrow, :glasses, :ear, :mouth, :mouthfold, :beard, :nose, :head, :forehead, :hair, :hat]
-    @current_part = 0
-
-    @canvas.signal_connect(&quot;key-press-event&quot;) { |widget, event|
-      part = @face.get_part(@parts[@current_part])
-      case event.keyval
-      when Gdk::Keyval::GDK_c
-        part.offset = Point.new(0, part.offset.y) if part
-
-      when Gdk::Keyval::GDK_e
-        @current_part -= 1
-        if @current_part &lt; 0 then
-          @current_part = @parts.length - 1
-        end
-        puts @parts[@current_part]
-
-      when Gdk::Keyval::GDK_o
-        @current_part += 1
-        if @current_part &gt;= @parts.length then
-          @current_part = 0
-        end
-        puts @parts[@current_part]
-
-      when Gdk::Keyval::GDK_r
-        @face.reload()
-
-      when Gdk::Keyval::GDK_Page_Down
-        part.scale=(part.scale / 1.02) if part
-
-      when Gdk::Keyval::GDK_Page_Up
-        part.scale=(part.scale * 1.02) if part
-
-      when Gdk::Keyval::GDK_End
-        part.rotation=(part.rotation - 1.0) if part
-
-      when Gdk::Keyval::GDK_Home
-        part.rotation=(part.rotation + 1.0) if part
-
-      when Gdk::Keyval::GDK_a
-        part.next_item if part
-        
-      when Gdk::Keyval::GDK_Up
-        part.offset = Point.new(part.offset.x, part.offset.y - 1) if part
-        
-      when Gdk::Keyval::GDK_Down
-        part.offset = Point.new(part.offset.x, part.offset.y + 1) if part
-
-      when Gdk::Keyval::GDK_Left
-        part.offset = Point.new(part.offset.x - 1, part.offset.y) if part
-
-      when Gdk::Keyval::GDK_Right
-        part.offset = Point.new(part.offset.x + 1, part.offset.y) if part
-      end
-    }
-    
-    #     @box.signal_connect('size-allocate') { |w,e,*b| 
-    #       @width, @height = [e.width,e.height].collect{|i|i - (@pad*2)}
-    #       @size = [@<A HREF="https://lists.berlios.de/mailman/listinfo/windstille-commit">width, at height</A>].min
-    #       @radius = @size / 2
-    #       @canvas.set_size(@<A HREF="https://lists.berlios.de/mailman/listinfo/windstille-commit">width, at height</A>)
-    #       @canvas.set_scroll_region(<A HREF="https://lists.berlios.de/mailman/listinfo/windstille-commit">0,0, at width</A><A HREF="https://lists.berlios.de/mailman/listinfo/windstille-commit">, at height</A>)
-    #       false
-    #     }
-
-    @canvas.set_size(384, 384)
-    @canvas.set_scroll_region(0,0,384,384)
-
-    signal_connect_after('show') {|w,e| }
-    signal_connect_after('hide') {|w,e| }
-
-    @canvas.show()
-    @scrolled_win.show()
-    @treeview.show()
-    @menu.show()
-    @box.show()
-    @hbox.show()
-    show()
-  end
-end
-
-
-if $0 == __FILE__
-
-  class Viewer &lt; Gtk::Window
-    def initialize()
-      super()
-      set_title(&quot;Face Builder&quot;)
-      signal_connect(&quot;delete_event&quot;) { |i,a| Gtk::main_quit }
-      $facebuilder = FaceBuilder.new(self)
-      add($facebuilder)
-      set_default_size(640, 512)
-      # set_resizable(false)
-      show()
-    end
-  end
-
-  Gtk.init()
-
-  view = Viewer.new
-  view.show
-
-  Gtk.main()
-  
-end
-
-# EOF #

Added: facebuilder/facebuilder.rb
===================================================================
--- facebuilder/facebuilder.rb	2005-12-25 00:36:21 UTC (rev 1156)
+++ facebuilder/facebuilder.rb	2005-12-25 17:02:47 UTC (rev 1157)
@@ -0,0 +1,336 @@
+#!/usr/bin/env ruby
+#
+# This file is gererated by ruby-glade-create-template 1.1.3.
+#
+require 'libglade2'
+require 'face.rb'
+
+Point = Struct.new(&quot;Point&quot;, :x, :y)
+
+class FacebuilderGlade
+  include GetText
+
+  attr :glade
+  
+  # Creates menu hints.
+  def create_uiinfo_menus(name)
+    app = @glade['FaceBuilder']
+    tips = @glade.get_tooltips(app.toplevel)
+    callback_dummy = Proc.new{} #Dummy 
+    uiinfos = [
+      Gnome::UIInfo::menu_new_item('_New', nil, callback_dummy, nil),
+      Gnome::UIInfo::menu_open_item(callback_dummy, nil),
+      Gnome::UIInfo::menu_save_item(callback_dummy, nil),
+      Gnome::UIInfo::menu_save_as_item(callback_dummy, nil),
+      Gnome::UIInfo::menu_quit_item(callback_dummy, nil),
+      Gnome::UIInfo::menu_cut_item(callback_dummy, nil),
+      Gnome::UIInfo::menu_copy_item(callback_dummy, nil),
+      Gnome::UIInfo::menu_paste_item(callback_dummy, nil),
+      Gnome::UIInfo::menu_clear_item(callback_dummy, nil),
+      Gnome::UIInfo::menu_properties_item(callback_dummy, nil),
+      Gnome::UIInfo::menu_preferences_item(callback_dummy, nil),
+      Gnome::UIInfo::menu_about_item(callback_dummy, nil),
+    ]
+    uiinfos[0][9] = @glade['new1']
+    uiinfos[1][9] = @glade['open1']
+    uiinfos[2][9] = @glade['save1']
+    uiinfos[3][9] = @glade['save_as1']
+    uiinfos[4][9] = @glade['quit1']
+    uiinfos[5][9] = @glade['cut1']
+    uiinfos[6][9] = @glade['copy1']
+    uiinfos[7][9] = @glade['paste1']
+    uiinfos[8][9] = @glade['clear1']
+    uiinfos[9][9] = @glade['properties1']
+    uiinfos[10][9] = @glade['preferences1']
+    uiinfos[11][9] = @glade['about1']
+    app.install_menu_hints(uiinfos)
+  end
+  # Creates tooltips.
+  def create_tooltips
+    @tooltip = Gtk::Tooltips.new
+    @glade['toolbutton1'].set_tooltip(@tooltip, _('New File'))
+    @glade['toolbutton_open_file'].set_tooltip(@tooltip, _('Open File'))
+    @glade['toolbutton_save_file'].set_tooltip(@tooltip, _('Save File'))
+
+    @glade['toolbutton_open_file'].signal_connect(&quot;clicked&quot;) { |*params| on_open1_activate(nil) }
+    @glade['toolbutton_save_file'].signal_connect(&quot;clicked&quot;) { |*params| on_save_as1_activate(nil) }
+  end
+  def initialize(path_or_data, root = nil, domain = nil, localedir = nil, flag = GladeXML::FILE)
+    bindtextdomain(domain, localedir, nil, &quot;UTF-8&quot;)
+    @glade = GladeXML.new(path_or_data, root, domain, localedir, flag) {|handler| method(handler)}
+    
+    create_uiinfo_menus(domain)
+    create_tooltips
+
+    # Non Glade stuff
+    @parts = [:eye, :eyebrow, :glasses, :ear, :mouth, :mouthfold, :beard, :nose, :head, :forehead, :hair, :hat]
+    @current_part = 0
+
+    @canvas = @glade['FaceCanvas']
+    @face = Face.new(@canvas.root)
+    @canvas.modify_bg(Gtk::STATE_NORMAL, Gdk::Color.new(65535, 65535, 65535))
+
+    setup_faceparts()
+    setup_partselector()
+
+    setup_controls(@canvas.root, Point.new(0, -200),  :hat)
+    setup_controls(@canvas.root, Point.new(-200, -140),   :forehead)
+    setup_controls(@canvas.root, Point.new(0, 200),   :head)
+    setup_controls(@canvas.root, Point.new(200, -140), :hair)
+
+    setup_controls(@canvas.root, Point.new(-200, 0), :glasses)
+
+    setup_controls(@canvas.root, Point.new(200, -40), :eyebrow)
+    setup_controls(@canvas.root, Point.new(200, 0),   :eye)
+    setup_controls(@canvas.root, Point.new(200, 40),  :nose)
+    setup_controls(@canvas.root, Point.new(200, 80),  :mouth)
+    setup_controls(@canvas.root, Point.new(-200, 80),  :mouthfold)
+
+    Gnome::CanvasText.new(@canvas.root,
+                          {:text =&gt; 
+                            &quot;PgUp, PgDown:\tscale\n&quot; +
+                            &quot;Home, End:\t\trotate\n&quot; +
+                            &quot;Cursorkeys:\t\tmove\n&quot;,
+                            :x =&gt; -180,
+                            :y =&gt; 180,
+                            :font =&gt; &quot;Sans 10&quot;,
+                            :anchor =&gt; Gtk::ANCHOR_N,
+                            :fill_color =&gt; &quot;black&quot;})
+
+    @canvas.signal_connect(&quot;key-press-event&quot;) { |widget, event|
+      part = @face.get_part(@parts[@current_part])
+      case event.keyval
+      when Gdk::Keyval::GDK_c
+        part.offset = Point.new(0, part.offset.y) if part
+
+      when Gdk::Keyval::GDK_e
+        @current_part -= 1
+        if @current_part &lt; 0 then
+          @current_part = @parts.length - 1
+        end
+        puts @parts[@current_part]
+
+      when Gdk::Keyval::GDK_o
+        @current_part += 1
+        if @current_part &gt;= @parts.length then
+          @current_part = 0
+        end
+        puts @parts[@current_part]
+
+      when Gdk::Keyval::GDK_r
+        @face.reload()
+
+      when Gdk::Keyval::GDK_Page_Down
+        part.scale=(part.scale / 1.02) if part
+
+      when Gdk::Keyval::GDK_Page_Up
+        part.scale=(part.scale * 1.02) if part
+
+      when Gdk::Keyval::GDK_End
+        part.rotation=(part.rotation - 1.0) if part
+
+      when Gdk::Keyval::GDK_Home
+        part.rotation=(part.rotation + 1.0) if part
+
+      when Gdk::Keyval::GDK_a
+        part.next_item if part
+        
+      when Gdk::Keyval::GDK_Up
+        part.offset = Point.new(part.offset.x, part.offset.y - 1) if part
+        
+      when Gdk::Keyval::GDK_Down
+        part.offset = Point.new(part.offset.x, part.offset.y + 1) if part
+
+      when Gdk::Keyval::GDK_Left
+        part.offset = Point.new(part.offset.x - 1, part.offset.y) if part
+
+      when Gdk::Keyval::GDK_Right
+        part.offset = Point.new(part.offset.x + 1, part.offset.y) if part
+      end
+    }
+  end
+  
+  def on_open1_activate(widget)
+        dialog =  Gtk::FileChooserDialog.new(&quot;Gtk::FileChooser sample&quot;, nil,
+                                         Gtk::FileChooser::ACTION_OPEN,
+                                         &quot;gnome-vfs&quot;,
+                                         [Gtk::Stock::CANCEL, Gtk::Dialog::RESPONSE_CANCEL],
+                                         [Gtk::Stock::OPEN,   Gtk::Dialog::RESPONSE_ACCEPT]
+                                         )
+    dialog.run { |response|
+      if response == Gtk::Dialog::RESPONSE_ACCEPT then
+        @face.load(dialog.filename)
+      end
+      
+      dialog.destroy
+    }
+  end
+  def on_paste1_activate(widget)
+    puts &quot;on_paste1_activate() is not implemented yet.&quot;
+  end
+  def on_save_as1_activate(widget)
+    dialog =  Gtk::FileChooserDialog.new(&quot;Gtk::FileChooser sample&quot;, nil,
+                                         Gtk::FileChooser::ACTION_SAVE,
+                                         &quot;gnome-vfs&quot;,
+                                         [Gtk::Stock::CANCEL, Gtk::Dialog::RESPONSE_CANCEL],
+                                         [Gtk::Stock::SAVE,   Gtk::Dialog::RESPONSE_ACCEPT]
+                                         )
+    dialog.run { |response|
+      if response == Gtk::Dialog::RESPONSE_ACCEPT then
+        @face.save(dialog.filename)
+      end
+      
+      dialog.destroy
+    }
+  end
+  def on_about1_activate(widget)
+    Gtk::AboutDialog.show(nil,
+                          # &quot;artists&quot; =&gt; File.new(&quot;AUTHORS&quot;).readlines(),
+                          &quot;authors&quot; =&gt; File.new(&quot;AUTHORS&quot;).readlines(),
+                          &quot;comments&quot; =&gt; &quot;A simple tool to construct faces&quot;,
+                          &quot;copyright&quot; =&gt; &quot;Copyright (C) 2005 Ingo Ruhnke &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/windstille-commit">grumbel at gmx.de</A>&gt;&quot;,
+                          # &quot;documenters&quot; =&gt; [&quot;Documenter 1 &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/windstille-commit">no1 at foo.bar.com</A>&gt;&quot;, &quot;Documenter 2 &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/windstille-commit">no2 at foo.bar.com</A>&gt;&quot;],
+                          &quot;license&quot; =&gt; File.new(&quot;COPYING&quot;).read(),
+                          # &quot;logo_icon_name&quot; =&gt; &quot;gtk-home&quot;,
+                          &quot;logo&quot; =&gt; Gdk::Pixbuf.new(&quot;data/logo.png&quot;),
+                          &quot;name&quot; =&gt; &quot;Face Builder&quot;,
+                          &quot;version&quot; =&gt; &quot;0.0.1&quot;,
+                          &quot;website&quot; =&gt; &quot;<A HREF="http://windstille.berlios.de/facebuilder/">http://windstille.berlios.de/facebuilder/</A>&quot;,
+                          &quot;website_label&quot; =&gt; &quot;Face Builder&quot;
+                          )
+  end
+  def on_preferences1_activate(widget)
+    puts &quot;on_preferences1_activate() is not implemented yet.&quot;
+  end
+  def on_copy1_activate(widget)
+    puts &quot;on_copy1_activate() is not implemented yet.&quot;
+  end
+  def on_new1_activate(widget)
+    puts &quot;on_new1_activate() is not implemented yet.&quot;
+  end
+  def on_clear1_activate(widget)
+    puts &quot;on_clear1_activate() is not implemented yet.&quot;
+  end
+  def on_cut1_activate(widget)
+    puts &quot;on_cut1_activate() is not implemented yet.&quot;
+  end
+  def on_save1_activate(widget)
+    puts &quot;on_save1_activate() is not implemented yet.&quot;
+  end
+  def on_properties1_activate(widget)
+    puts &quot;on_properties1_activate() is not implemented yet.&quot;
+  end
+  def on_quit1_activate(widget)
+    Gtk.main_quit
+  end
+
+  def setup_controls(root, pos, facepart)
+    left = Gtk::Button.new(&quot;&lt;-&quot;)
+    Gnome::CanvasWidget.new(root,
+                            {:widget =&gt; left,
+                              :x =&gt; pos.x,
+                              :y =&gt; pos.y,
+                              :width =&gt;  32.0,
+                              :height =&gt; 32.0,
+                              :anchor =&gt; Gtk::ANCHOR_EAST,
+                              :size_pixels =&gt; FALSE})
+    left.show()
+    left.signal_connect(&quot;clicked&quot;) {
+      @face.get_part(facepart).previous_item()
+      set_current_part(facepart)
+    }
+
+    right = Gtk::Button.new(&quot;-&gt;&quot;)
+    Gnome::CanvasWidget.new(root,
+                            {:widget =&gt; right,
+                              :x =&gt; pos.x,
+                              :y =&gt; pos.y,
+                              :width =&gt;  32.0,
+                              :height =&gt; 32.0,
+                              :anchor =&gt; Gtk::ANCHOR_WEST,
+                              :size_pixels =&gt; FALSE})
+    right.show()
+    right.signal_connect(&quot;clicked&quot;) {
+      @face.get_part(facepart).next_item()
+      set_current_part(facepart)
+    }
+    return [left, right]
+  end
+
+  def setup_faceparts()
+    @treeview = @glade['FaceParts']
+    @list = Gtk::ListStore.new(Gdk::Pixbuf, String)
+    @treeview.model = @list
+    @treeview.append_column(Gtk::TreeViewColumn.new(&quot;Stuff&quot;,
+                                                    Gtk::CellRendererPixbuf.new, 
+                                                    {:pixbuf =&gt; 0}))    
+    
+    @treeview.signal_connect(&quot;cursor-changed&quot;) { |treeview|
+      row, column = treeview.cursor()
+      puts @list.methods()
+
+      puts &quot;Selected something #{@list.get_value(@list.get_iter(row), 1)}&quot;
+      filename = @list.get_value(@list.get_iter(row), 1)
+      @face.get_part(@parts[@current_part]).filename = filename
+    }
+  end
+
+  def setup_partselector()
+    list = Gtk::ListStore.new(String)
+    partselector = @glade['PartSelector']
+    partselector.model = list
+    
+    @parts.each {|part|
+      iter = list.append()
+      iter[0] = part.to_s
+    }
+
+    partselector.append_column(Gtk::TreeViewColumn.new(&quot;Stuff&quot;,
+                                                       Gtk::CellRendererText.new, 
+                                                       {:text =&gt; 0}))    
+  end
+
+  def set_current_part(type)
+    @parts.each_with_index() { |p, i|
+      if type == p then
+        if @current_part != i
+          @list.clear()
+          Dir.new(&quot;data/#{type}/&quot;).grep(/\.png$/).each{|v|
+            filename = &quot;data/#{type}/#{v}&quot;
+            iter = @list.append()
+            pixbuf = Gdk::Pixbuf.new(filename)
+
+            # scale, while keeping aspect
+            if pixbuf.width &gt; 64 or pixbuf.height &gt; 64 then # need scaling, since larger then 64x64
+              aspect = pixbuf.width.to_f / pixbuf.height
+              if pixbuf.width &gt; pixbuf.height then
+                pixbuf = pixbuf.scale(64, 64 / aspect)
+              else
+                pixbuf = pixbuf.scale(64 * aspect, 64)
+              end
+            end
+
+            # Add keep of aspect ratio
+            iter[0] = pixbuf
+            iter[1] = filename
+          }
+
+          @current_part = i
+        end       
+      end
+    }   
+  end
+end
+
+# Main program
+if __FILE__ == $0
+  # Set values as your own application. 
+  PROG_PATH = &quot;facebuilder.glade&quot;
+  PROG_NAME = &quot;FaceBuilder&quot;
+  PROG_VERSION = &quot;0.1.0&quot;
+  Gnome::Program.new(PROG_NAME, PROG_VERSION)
+  #If you use Ruby/GTK2 widgets only, call Gtk.init not Gnome::Program.new here.
+  #Gtk.init
+  $facebuilder = FacebuilderGlade.new(PROG_PATH, nil, PROG_NAME)
+  Gtk.main
+end

Modified: facebuilder/index.html
===================================================================
--- facebuilder/index.html	2005-12-25 00:36:21 UTC (rev 1156)
+++ facebuilder/index.html	2005-12-25 17:02:47 UTC (rev 1157)
@@ -42,7 +42,7 @@
 
       &lt;h3&gt;Javascript/DOM port&lt;/h3&gt;
       &lt;p&gt;
-        There is also a Javascript/DOM port of FaceBuilder, might lack
+        There is also a Javascript/DOM port of FaceBuilder writte by &lt;a href=&quot;mailto:<A HREF="https://lists.berlios.de/mailman/listinfo/windstille-commit">fb at phk.at</A>&quot;&gt;<A HREF="https://lists.berlios.de/mailman/listinfo/windstille-commit">fb at phk.at</A>&lt;/a&gt;, might lack
         some features and be a bit slow, but works in a browser, its
         available at:
       &lt;/p&gt;
@@ -57,4 +57,4 @@
     &lt;/div&gt;
 
   &lt;/body&gt;
-&lt;/html&gt;
\ No newline at end of file
+&lt;/html&gt;


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000809.html">[Windstille-commit] r1156 - facebuilder/data/hair
</A></li>
	<LI>Next message: <A HREF="000811.html">[Windstille-commit] r1158 - facebuilder
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#810">[ date ]</a>
              <a href="thread.html#810">[ thread ]</a>
              <a href="subject.html#810">[ subject ]</a>
              <a href="author.html#810">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/windstille-commit">More information about the Windstille-commit
mailing list</a><br>
</body></html>
