<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Windstille-commit] r3219 - trunk/windstille/src/editor
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/windstille-commit/2009-September/index.html" >
   <LINK REL="made" HREF="mailto:windstille-commit%40lists.berlios.de?Subject=Re%3A%20%5BWindstille-commit%5D%20r3219%20-%20trunk/windstille/src/editor&In-Reply-To=%3C200909101454.n8AEsn2T026518%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="002215.html">
   <LINK REL="Next"  HREF="002217.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Windstille-commit] r3219 - trunk/windstille/src/editor</H1>
    <B>grumbel at BerliOS</B> 
    <A HREF="mailto:windstille-commit%40lists.berlios.de?Subject=Re%3A%20%5BWindstille-commit%5D%20r3219%20-%20trunk/windstille/src/editor&In-Reply-To=%3C200909101454.n8AEsn2T026518%40sheep.berlios.de%3E"
       TITLE="[Windstille-commit] r3219 - trunk/windstille/src/editor">grumbel at mail.berlios.de
       </A><BR>
    <I>Thu Sep 10 16:54:49 CEST 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="002215.html">[Windstille-commit] r3218 - trunk/windstille/src/editor
</A></li>
        <LI>Next message: <A HREF="002217.html">[Windstille-commit] r3220 - trunk/windstille/src/editor
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2216">[ date ]</a>
              <a href="thread.html#2216">[ thread ]</a>
              <a href="subject.html#2216">[ subject ]</a>
              <a href="author.html#2216">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: grumbel
Date: 2009-09-10 16:54:49 +0200 (Thu, 10 Sep 2009)
New Revision: 3219

Modified:
   trunk/windstille/src/editor/decal_object_model.cpp
   trunk/windstille/src/editor/document.cpp
   trunk/windstille/src/editor/editor_window.cpp
   trunk/windstille/src/editor/layer.cpp
   trunk/windstille/src/editor/layer_manager.cpp
   trunk/windstille/src/editor/layer_widget.cpp
   trunk/windstille/src/editor/navgraph_insert_tool.cpp
   trunk/windstille/src/editor/object_model.cpp
   trunk/windstille/src/editor/object_selector.cpp
   trunk/windstille/src/editor/sector_model.cpp
   trunk/windstille/src/editor/select_tool.cpp
   trunk/windstille/src/editor/selection.cpp
   trunk/windstille/src/editor/windstille_widget.cpp
Log:
Auto reindented everything with emacs again to get rid of tabs

Modified: trunk/windstille/src/editor/decal_object_model.cpp
===================================================================
--- trunk/windstille/src/editor/decal_object_model.cpp	2009-09-10 14:48:10 UTC (rev 3218)
+++ trunk/windstille/src/editor/decal_object_model.cpp	2009-09-10 14:54:49 UTC (rev 3219)
@@ -223,7 +223,7 @@
       p.y = -p.y;
 
     return software_surface.is_at(static_cast&lt;int&gt;(p.x + surface.get_width()/2),
-				  static_cast&lt;int&gt;(p.y + surface.get_height()/2));
+                                  static_cast&lt;int&gt;(p.y + surface.get_height()/2));
   }
   else
   {

Modified: trunk/windstille/src/editor/document.cpp
===================================================================
--- trunk/windstille/src/editor/document.cpp	2009-09-10 14:48:10 UTC (rev 3218)
+++ trunk/windstille/src/editor/document.cpp	2009-09-10 14:54:49 UTC (rev 3219)
@@ -229,13 +229,13 @@
       const Vector2f&amp; center = m_selection-&gt;get_bounding_box().get_center();
       for(Selection::iterator i = m_selection-&gt;begin(); i != m_selection-&gt;end(); ++i)
       {
-	Vector2f pos = (*i)-&gt;get_world_pos();
+        Vector2f pos = (*i)-&gt;get_world_pos();
           
-	pos.y = center.y + (center.y - pos.y);
+        pos.y = center.y + (center.y - pos.y);
           
-	//(*i)-&gt;set_world_pos(pos);
-	group_command-&gt;add(CommandHandle(new FunctorCommand(boost::bind(&amp;ObjectModel::set_world_pos, *i, (*i)-&gt;get_world_pos()),
-							    boost::bind(&amp;ObjectModel::set_world_pos, *i, pos))));
+        //(*i)-&gt;set_world_pos(pos);
+        group_command-&gt;add(CommandHandle(new FunctorCommand(boost::bind(&amp;ObjectModel::set_world_pos, *i, (*i)-&gt;get_world_pos()),
+                                                            boost::bind(&amp;ObjectModel::set_world_pos, *i, pos))));
       }
     }
 
@@ -243,7 +243,7 @@
     {
       //(*i)-&gt;set_vflip(!(*i)-&gt;get_vflip());
       group_command-&gt;add(CommandHandle(new FunctorCommand(boost::bind(&amp;ObjectModel::set_vflip, *i,  (*i)-&gt;get_vflip()),
-							  boost::bind(&amp;ObjectModel::set_vflip, *i, !(*i)-&gt;get_vflip()))));
+                                                          boost::bind(&amp;ObjectModel::set_vflip, *i, !(*i)-&gt;get_vflip()))));
     }
 
     execute(group_command);
@@ -262,13 +262,13 @@
       const Vector2f&amp; center = m_selection-&gt;get_bounding_box().get_center();
       for(Selection::iterator i = m_selection-&gt;begin(); i != m_selection-&gt;end(); ++i)
       {
-	Vector2f pos = (*i)-&gt;get_world_pos();
+        Vector2f pos = (*i)-&gt;get_world_pos();
           
-	pos.x = center.x + (center.x - pos.x);
+        pos.x = center.x + (center.x - pos.x);
           
-	//(*i)-&gt;set_world_pos(pos);
-	group_command-&gt;add(CommandHandle(new FunctorCommand(boost::bind(&amp;ObjectModel::set_world_pos, *i, (*i)-&gt;get_world_pos()),
-							    boost::bind(&amp;ObjectModel::set_world_pos, *i, pos))));
+        //(*i)-&gt;set_world_pos(pos);
+        group_command-&gt;add(CommandHandle(new FunctorCommand(boost::bind(&amp;ObjectModel::set_world_pos, *i, (*i)-&gt;get_world_pos()),
+                                                            boost::bind(&amp;ObjectModel::set_world_pos, *i, pos))));
       }
     }
 
@@ -276,7 +276,7 @@
     {
       //(*i)-&gt;set_hflip(!(*i)-&gt;get_hflip());
       group_command-&gt;add(CommandHandle(new FunctorCommand(boost::bind(&amp;ObjectModel::set_hflip, *i,  (*i)-&gt;get_hflip()),
-							  boost::bind(&amp;ObjectModel::set_hflip, *i, !(*i)-&gt;get_hflip()))));
+                                                          boost::bind(&amp;ObjectModel::set_hflip, *i, !(*i)-&gt;get_hflip()))));
     }
 
     execute(group_command);
@@ -298,7 +298,7 @@
     {
       //(*i)-&gt;set_parent(parent);
       group_command-&gt;add(CommandHandle(new FunctorCommand(boost::bind(&amp;ObjectModel::set_parent, *i, (*i)-&gt;get_parent(), true),
-							  boost::bind(&amp;ObjectModel::set_parent, *i, parent, true))));
+                                                          boost::bind(&amp;ObjectModel::set_parent, *i, parent, true))));
     }
 
     execute(group_command);
@@ -314,7 +314,7 @@
   {
     //(*i)-&gt;set_parent(ObjectModelHandle());
     group_command-&gt;add(CommandHandle(new FunctorCommand(boost::bind(&amp;ObjectModel::set_parent, *i, (*i)-&gt;get_parent(), true),
-							boost::bind(&amp;ObjectModel::set_parent, *i, ObjectModelHandle(), true))));
+                                                        boost::bind(&amp;ObjectModel::set_parent, *i, ObjectModelHandle(), true))));
   }
 
   execute(group_command);
@@ -358,12 +358,12 @@
           
       if (it == parent_map.end())
       {
-	// When the parent wasn't part of the selection, leave
-	// the parent untouched
+        // When the parent wasn't part of the selection, leave
+        // the parent untouched
       }
       else
       {
-	(*i)-&gt;set_parent(it-&gt;second);
+        (*i)-&gt;set_parent(it-&gt;second);
       }
     }
   }
@@ -385,7 +385,7 @@
     {
       //decal-&gt;set_angle(0.0f);
       group_command-&gt;add(CommandHandle(new FunctorCommand(boost::bind(&amp;DecalObjectModel::set_angle, decal, decal-&gt;get_angle()),
-							  boost::bind(&amp;DecalObjectModel::set_angle, decal, 0.0f))));
+                                                          boost::bind(&amp;DecalObjectModel::set_angle, decal, 0.0f))));
     }
   }
 
@@ -411,7 +411,7 @@
     {
       //decal-&gt;set_scale(Vector2f(1.0f, 1.0f));
       group_command-&gt;add(CommandHandle(new FunctorCommand(boost::bind(&amp;DecalObjectModel::set_scale, decal, decal-&gt;get_scale()),
-							  boost::bind(&amp;DecalObjectModel::set_scale, decal, Vector2f(1.0f, 1.0f)))));
+                                                          boost::bind(&amp;DecalObjectModel::set_scale, decal, Vector2f(1.0f, 1.0f)))));
     }
   }
 

Modified: trunk/windstille/src/editor/editor_window.cpp
===================================================================
--- trunk/windstille/src/editor/editor_window.cpp	2009-09-10 14:48:10 UTC (rev 3218)
+++ trunk/windstille/src/editor/editor_window.cpp	2009-09-10 14:54:49 UTC (rev 3219)
@@ -540,7 +540,7 @@
   else
   {
     Gtk::FileChooserDialog dialog(&quot;Save File&quot;,
-				  Gtk::FILE_CHOOSER_ACTION_SAVE);
+                                  Gtk::FILE_CHOOSER_ACTION_SAVE);
     dialog.set_transient_for(*this);
     dialog.set_do_overwrite_confirmation(true);
 
@@ -558,27 +558,27 @@
     {
       case(Gtk::RESPONSE_OK):
       {
-	//std::cout &lt;&lt; &quot;Select clicked.&quot; &lt;&lt; std::endl;
-	//std::cout &lt;&lt; &quot;Folder selected: &quot; &lt;&lt; dialog.get_filename()
-	//          &lt;&lt; std::endl;
+        //std::cout &lt;&lt; &quot;Select clicked.&quot; &lt;&lt; std::endl;
+        //std::cout &lt;&lt; &quot;Folder selected: &quot; &lt;&lt; dialog.get_filename()
+        //          &lt;&lt; std::endl;
 
-	std::string filename = dialog.get_filename();
-	std::ofstream out(filename.c_str());
-	FileWriter writer(out);
+        std::string filename = dialog.get_filename();
+        std::ofstream out(filename.c_str());
+        FileWriter writer(out);
 
-	wst-&gt;get_document().get_sector_model().write(writer);
-	wst-&gt;set_filename(filename);
+        wst-&gt;get_document().get_sector_model().write(writer);
+        wst-&gt;set_filename(filename);
 
-	notebook.set_tab_label_text(*notebook.get_nth_page(page), Glib::path_get_basename(filename));
-	add_recent_file(filename);
-	print(&quot;Wrote: &quot; + filename);
-	break;
+        notebook.set_tab_label_text(*notebook.get_nth_page(page), Glib::path_get_basename(filename));
+        add_recent_file(filename);
+        print(&quot;Wrote: &quot; + filename);
+        break;
       }
 
       case(Gtk::RESPONSE_CANCEL):
       {
-	//std::cout &lt;&lt; &quot;Cancel clicked.&quot; &lt;&lt; std::endl;
-	break;
+        //std::cout &lt;&lt; &quot;Cancel clicked.&quot; &lt;&lt; std::endl;
+        break;
       }
     }
   }
@@ -597,7 +597,7 @@
     if (WindstilleWidget* wst = static_cast&lt;WindstilleWidget*&gt;(notebook.get_nth_page(page)))
     {
       Gtk::FileChooserDialog dialog(&quot;Save Screenshot&quot;,
-				    Gtk::FILE_CHOOSER_ACTION_SAVE);
+                                    Gtk::FILE_CHOOSER_ACTION_SAVE);
       dialog.set_transient_for(*this);
       dialog.set_do_overwrite_confirmation(true);
 
@@ -609,19 +609,19 @@
 
       switch(dialog.run())
       {
-	case(Gtk::RESPONSE_OK):
-	{
-	  std::string filename = dialog.get_filename();
-	  std::cout &lt;&lt; &quot;unimplemented screenshot: &quot; &lt;&lt; filename &lt;&lt; std::endl;
-	  wst-&gt;save_screenshot(filename);
-	  break;
-	}
+        case(Gtk::RESPONSE_OK):
+        {
+          std::string filename = dialog.get_filename();
+          std::cout &lt;&lt; &quot;unimplemented screenshot: &quot; &lt;&lt; filename &lt;&lt; std::endl;
+          wst-&gt;save_screenshot(filename);
+          break;
+        }
 
-	case(Gtk::RESPONSE_CANCEL):
-	{
-	  //std::cout &lt;&lt; &quot;Cancel clicked.&quot; &lt;&lt; std::endl;
-	  break;
-	}
+        case(Gtk::RESPONSE_CANCEL):
+        {
+          //std::cout &lt;&lt; &quot;Cancel clicked.&quot; &lt;&lt; std::endl;
+          break;
+        }
       }
     }
   }
@@ -858,8 +858,8 @@
   {
     //std::cout &lt;&lt; &quot;Play&quot; &lt;&lt; std::endl;
     timeout_connection = Glib::signal_timeout().connect(sigc::mem_fun(*this, &amp;EditorWindow::on_timeout),
-							50,
-							Glib::PRIORITY_DEFAULT);
+                                                        50,
+                                                        Glib::PRIORITY_DEFAULT);
   }
   else
   {
@@ -927,7 +927,7 @@
       LayerHandle layer = wst-&gt;get_current_layer();
       for(Selection::reverse_iterator i = clipboard-&gt;rbegin(); i != clipboard-&gt;rend(); ++i)
       {
-	layer-&gt;add(*i);
+        layer-&gt;add(*i);
       }
 
       wst-&gt;get_document().set_selection(clipboard);

Modified: trunk/windstille/src/editor/layer.cpp
===================================================================
--- trunk/windstille/src/editor/layer.cpp	2009-09-10 14:48:10 UTC (rev 3218)
+++ trunk/windstille/src/editor/layer.cpp	2009-09-10 14:54:49 UTC (rev 3219)
@@ -95,7 +95,7 @@
   for(Objects::const_reverse_iterator i = objects.rbegin(); i != objects.rend(); ++i)
   {
     if (select_mask.match((*i)-&gt;get_select_mask()) &amp;&amp;
-	(*i)-&gt;is_at(pos))
+        (*i)-&gt;is_at(pos))
     {
       return *i;
     }
@@ -111,7 +111,7 @@
   for(Objects::const_reverse_iterator i = objects.rbegin(); i != objects.rend(); ++i)
   {
     if (select_mask.match((*i)-&gt;get_select_mask()) &amp;&amp;
-	rect.contains((*i)-&gt;get_bounding_box()))
+        rect.contains((*i)-&gt;get_bounding_box()))
     {
       selection-&gt;add(*i);
     }
@@ -209,7 +209,7 @@
   {
     // object is not in the list of objects to ignore
     if ((*i)-&gt;is_snappable() &amp;&amp;
-	ignore_objects.find(*i) == ignore_objects.end())
+        ignore_objects.find(*i) == ignore_objects.end())
     {
       SnapData snap = (*i)-&gt;snap_object(rect);
       best_snap.merge(snap);

Modified: trunk/windstille/src/editor/layer_manager.cpp
===================================================================
--- trunk/windstille/src/editor/layer_manager.cpp	2009-09-10 14:48:10 UTC (rev 3218)
+++ trunk/windstille/src/editor/layer_manager.cpp	2009-09-10 14:54:49 UTC (rev 3219)
@@ -147,9 +147,9 @@
       Gtk::TreeModel::iterator it = treeview.get_model()-&gt;get_iter(path_);
       if (it)
       {
-	EditorWindow::current()-&gt;on_lock_all(true);
-	(*it)[LayerManagerColumns::instance().locked] = false;
-	((LayerHandle)(*it)[LayerManagerColumns::instance().layer])-&gt;sync(*it);
+        EditorWindow::current()-&gt;on_lock_all(true);
+        (*it)[LayerManagerColumns::instance().locked] = false;
+        ((LayerHandle)(*it)[LayerManagerColumns::instance().layer])-&gt;sync(*it);
       }
     }
   }

Modified: trunk/windstille/src/editor/layer_widget.cpp
===================================================================
--- trunk/windstille/src/editor/layer_widget.cpp	2009-09-10 14:48:10 UTC (rev 3218)
+++ trunk/windstille/src/editor/layer_widget.cpp	2009-09-10 14:54:49 UTC (rev 3219)
@@ -34,24 +34,24 @@
     {
       if ((x+1) % 5)
       {
-	Gtk::ToggleButton* button = Gtk::manage(new Gtk::ToggleButton());
-	button-&gt;set_size_request(16, 16);
-	table.attach(*button, x, x+1, y, y+1);
+        Gtk::ToggleButton* button = Gtk::manage(new Gtk::ToggleButton());
+        button-&gt;set_size_request(16, 16);
+        table.attach(*button, x, x+1, y, y+1);
 
-	button-&gt;signal_toggled().connect(sigc::bind(sigc::mem_fun(*this, &amp;LayerWidget::on_layer_toggle), 
-						    button, layer_number));
-	buttons.push_back(button);
-	layer_number += 1;
+        button-&gt;signal_toggled().connect(sigc::bind(sigc::mem_fun(*this, &amp;LayerWidget::on_layer_toggle), 
+                                                    button, layer_number));
+        buttons.push_back(button);
+        layer_number += 1;
       }
       else
       {
-	if (y == 0)
-	{
-	  Gtk::VSeparator* separator = Gtk::manage(new Gtk::VSeparator());
-	  //Gtk::Widget* separator = Gtk::manage(new Gtk::Widget());
-	  separator-&gt;set_size_request(12, -1);
-	  table.attach(*separator, x, x+1, 0, 2);
-	}
+        if (y == 0)
+        {
+          Gtk::VSeparator* separator = Gtk::manage(new Gtk::VSeparator());
+          //Gtk::Widget* separator = Gtk::manage(new Gtk::Widget());
+          separator-&gt;set_size_request(12, -1);
+          table.attach(*separator, x, x+1, 0, 2);
+        }
       }
     }
 

Modified: trunk/windstille/src/editor/navgraph_insert_tool.cpp
===================================================================
--- trunk/windstille/src/editor/navgraph_insert_tool.cpp	2009-09-10 14:48:10 UTC (rev 3218)
+++ trunk/windstille/src/editor/navgraph_insert_tool.cpp	2009-09-10 14:54:49 UTC (rev 3219)
@@ -210,7 +210,7 @@
   else if (mouse_over_edge)
   {
     sc.control().draw_line(mouse_over_edge-&gt;get_lhs()-&gt;get_world_pos(), 
-			   mouse_over_edge-&gt;get_rhs()-&gt;get_world_pos(), Color(1,1,1));
+                           mouse_over_edge-&gt;get_rhs()-&gt;get_world_pos(), Color(1,1,1));
   }
 }
   

Modified: trunk/windstille/src/editor/object_model.cpp
===================================================================
--- trunk/windstille/src/editor/object_model.cpp	2009-09-10 14:48:10 UTC (rev 3218)
+++ trunk/windstille/src/editor/object_model.cpp	2009-09-10 14:54:49 UTC (rev 3219)
@@ -212,33 +212,33 @@
 
       if (fabs(rect.top - in.top) &lt; snap_threshold)
       {
-	y_snap = rect.top - in.top;
-	snap.y_set = true;
+        y_snap = rect.top - in.top;
+        snap.y_set = true;
       }
 
       if (fabs(rect.bottom - in.bottom) &lt; snap_threshold)
       {
-	y_snap = rect.bottom - in.bottom;
-	snap.y_set = true;
+        y_snap = rect.bottom - in.bottom;
+        snap.y_set = true;
       }
 
       if (left_dist &lt; right_dist)
       { // snap to left edge
-	if (left_dist &lt; snap_threshold)
-	{
-	  snap.offset.x = rect.left - in.right;
-	  snap.offset.y = y_snap;
-	  snap.x_set = true;
-	}
+        if (left_dist &lt; snap_threshold)
+        {
+          snap.offset.x = rect.left - in.right;
+          snap.offset.y = y_snap;
+          snap.x_set = true;
+        }
       }
       else
       { // snap to right edge
-	if (right_dist &lt; snap_threshold)
-	{
-	  snap.offset.x = rect.right - in.left;
-	  snap.offset.y = y_snap;
-	  snap.x_set = true;
-	}
+        if (right_dist &lt; snap_threshold)
+        {
+          snap.offset.x = rect.right - in.left;
+          snap.offset.y = y_snap;
+          snap.x_set = true;
+        }
       }
     }
   }
@@ -250,33 +250,33 @@
 
       if (fabs(rect.left - in.left) &lt; snap_threshold)
       {
-	x_snap = rect.left - in.left;
-	snap.x_set = true;
+        x_snap = rect.left - in.left;
+        snap.x_set = true;
       }
 
       if (fabs(rect.right - in.right) &lt; snap_threshold)
       {
-	x_snap = rect.right - in.right;
-	snap.x_set = true;
+        x_snap = rect.right - in.right;
+        snap.x_set = true;
       }
 
       if (top_dist &lt; bottom_dist)
       { // snap to top edge
-	if (top_dist &lt; snap_threshold)
-	{
-	  snap.offset.x = x_snap;
-	  snap.offset.y = rect.top - in.bottom;
-	  snap.y_set = true;
-	}
+        if (top_dist &lt; snap_threshold)
+        {
+          snap.offset.x = x_snap;
+          snap.offset.y = rect.top - in.bottom;
+          snap.y_set = true;
+        }
       }
       else
       { // snap to bottom edge
-	if (bottom_dist &lt; snap_threshold)
-	{
-	  snap.offset.x = x_snap;
-	  snap.offset.y = rect.bottom - in.top;
-	  snap.y_set = true;
-	}
+        if (bottom_dist &lt; snap_threshold)
+        {
+          snap.offset.x = x_snap;
+          snap.offset.y = rect.bottom - in.top;
+          snap.y_set = true;
+        }
       }
     }      
   }

Modified: trunk/windstille/src/editor/object_selector.cpp
===================================================================
--- trunk/windstille/src/editor/object_selector.cpp	2009-09-10 14:48:10 UTC (rev 3218)
+++ trunk/windstille/src/editor/object_selector.cpp	2009-09-10 14:54:49 UTC (rev 3219)
@@ -215,13 +215,13 @@
 
       if (1)
       {
-	icon = Gdk::Pixbuf::create_from_file(&quot;data/editor/icon_bg.png&quot;);
-	size = std::max(icon-&gt;get_width(), icon-&gt;get_height());
+        icon = Gdk::Pixbuf::create_from_file(&quot;data/editor/icon_bg.png&quot;);
+        size = std::max(icon-&gt;get_width(), icon-&gt;get_height());
       }
       else
       {
-	icon = Gdk::Pixbuf::create(Gdk::COLORSPACE_RGB, true, 8, size, size);
-	icon-&gt;fill(0x444444ff);
+        icon = Gdk::Pixbuf::create(Gdk::COLORSPACE_RGB, true, 8, size, size);
+        icon-&gt;fill(0x444444ff);
       }
 
       // Scale pixbuf to icon size while keeping aspect ratio intact
@@ -229,31 +229,31 @@
       double y_scale = (double)size / pixbuf-&gt;get_height();
 
       if (x_scale * pixbuf-&gt;get_width() &lt; min_size)
-	x_scale = min_size / pixbuf-&gt;get_width();
+        x_scale = min_size / pixbuf-&gt;get_width();
 
       if (y_scale * pixbuf-&gt;get_height() &lt; min_size)
-	y_scale = min_size / pixbuf-&gt;get_height();
+        y_scale = min_size / pixbuf-&gt;get_height();
 
       if (pixbuf-&gt;get_width() &gt; pixbuf-&gt;get_height())              
-	y_scale = x_scale;
+        y_scale = x_scale;
       else
-	x_scale = y_scale;
+        x_scale = y_scale;
 
       int r_w = int(pixbuf-&gt;get_width() * x_scale);
       int r_h = int(pixbuf-&gt;get_height() * y_scale);
 
       pixbuf-&gt;composite(icon, 
-			(size - r_w)/2, (size - r_h)/2,
-			r_w, r_h,
-			(size - r_w)/2, (size - r_h)/2,
-			x_scale, y_scale,
-			Gdk::INTERP_TILES, 
-			255);
+                        (size - r_w)/2, (size - r_h)/2,
+                        r_w, r_h,
+                        (size - r_w)/2, (size - r_h)/2,
+                        x_scale, y_scale,
+                        Gdk::INTERP_TILES, 
+                        255);
     }
 
     add_decal(icon, *i, 
-	      &quot;<A HREF="file:///home/ingo/projects/windstille/trunk/windstille/">file:///home/ingo/projects/windstille/trunk/windstille/</A>&quot; + *i, 
-	      filter_);
+              &quot;<A HREF="file:///home/ingo/projects/windstille/trunk/windstille/">file:///home/ingo/projects/windstille/trunk/windstille/</A>&quot; + *i, 
+              filter_);
   }
 }
 
@@ -307,8 +307,8 @@
     if (WindstilleWidget* wst = EditorWindow::current()-&gt;get_windstille_widget())
     {
       pixbuf = pixbuf-&gt;scale_simple(std::max(4, int(static_cast&lt;float&gt;(pixbuf-&gt;get_width())  * wst-&gt;get_state().get_zoom())),
-				    std::max(4, int(static_cast&lt;float&gt;(pixbuf-&gt;get_height()) * wst-&gt;get_state().get_zoom())),
-				    Gdk::INTERP_TILES);
+                                    std::max(4, int(static_cast&lt;float&gt;(pixbuf-&gt;get_height()) * wst-&gt;get_state().get_zoom())),
+                                    Gdk::INTERP_TILES);
     }
     context-&gt;set_icon(pixbuf, pixbuf-&gt;get_width()/2, pixbuf-&gt;get_height()/2);
   }

Modified: trunk/windstille/src/editor/sector_model.cpp
===================================================================
--- trunk/windstille/src/editor/sector_model.cpp	2009-09-10 14:48:10 UTC (rev 3218)
+++ trunk/windstille/src/editor/sector_model.cpp	2009-09-10 14:54:49 UTC (rev 3219)
@@ -646,11 +646,11 @@
         if (edge)
         {
           /*
-	    if (edge.get_lhs().get() == &amp;node ||
-	    edge.get_rhs().get() == &amp;node)
-	    {
+            if (edge.get_lhs().get() == &amp;node ||
+            edge.get_rhs().get() == &amp;node)
+            {
 
-	    }
+            }
           */
         }
       }

Modified: trunk/windstille/src/editor/select_tool.cpp
===================================================================
--- trunk/windstille/src/editor/select_tool.cpp	2009-09-10 14:48:10 UTC (rev 3218)
+++ trunk/windstille/src/editor/select_tool.cpp	2009-09-10 14:54:49 UTC (rev 3219)
@@ -57,29 +57,29 @@
     {
       if (wst.get_document().get_selection()-&gt;has_object(object))
       {
-	selection = wst.get_document().get_selection();
-	if (event-&gt;state &amp; GDK_SHIFT_MASK)
-	{
-	  selection-&gt;remove(object);
-	}
-	else
-	{
-	  selection = wst.get_document().get_selection();
-	}
+        selection = wst.get_document().get_selection();
+        if (event-&gt;state &amp; GDK_SHIFT_MASK)
+        {
+          selection-&gt;remove(object);
+        }
+        else
+        {
+          selection = wst.get_document().get_selection();
+        }
       }
       else
       {
-	if (event-&gt;state &amp; GDK_SHIFT_MASK)
-	{
-	  selection = wst.get_document().get_selection();
-	  selection-&gt;add(object);
-	}
-	else
-	{
-	  selection = Selection::create();
-	  selection-&gt;add(object);
-	  wst.get_document().set_selection(selection);
-	}
+        if (event-&gt;state &amp; GDK_SHIFT_MASK)
+        {
+          selection = wst.get_document().get_selection();
+          selection-&gt;add(object);
+        }
+        else
+        {
+          selection = Selection::create();
+          selection-&gt;add(object);
+          wst.get_document().set_selection(selection);
+        }
       }
       
       mode = OBJECT_DRAG_MODE;
@@ -110,7 +110,7 @@
     for(Layer::iterator i = wst.get_current_layer()-&gt;begin(); i != wst.get_current_layer()-&gt;end(); ++i)
     { // FIXME: Should iterate over all objects, not just objects in the current layer
       if (!wst.get_select_mask().match((*i)-&gt;get_select_mask()))
-	ignore_objects.insert(*i);
+        ignore_objects.insert(*i);
     }
   }
 
@@ -140,16 +140,16 @@
     Vector2f offset = pos - click_pos;
           
     if ((event-&gt;time - start_time) &gt; MOVE_TIMEOUT ||
-	offset.length() &gt; MOVE_THRESHOLD)
+        offset.length() &gt; MOVE_THRESHOLD)
     {
       if (!selection-&gt;is_moving())
-	selection-&gt;on_move_start();
+        selection-&gt;on_move_start();
 
       selection-&gt;on_move_update(offset);
       
       if (event-&gt;state &amp; GDK_CONTROL_MASK)
       {
-	selection-&gt;on_move_update(offset + process_snap(wst));
+        selection-&gt;on_move_update(offset + process_snap(wst));
       }
 
       wst.queue_draw();
@@ -183,17 +183,17 @@
     Vector2f offset = pos - click_pos;
 
     if (event-&gt;time - start_time &gt; MOVE_TIMEOUT ||
-	offset.length() &gt; MOVE_THRESHOLD)
+        offset.length() &gt; MOVE_THRESHOLD)
     {
       selection-&gt;on_move_update(offset);
       
       if (event-&gt;state &amp; GDK_CONTROL_MASK)
       {
-	selection-&gt;on_move_end(wst, offset + process_snap(wst));
+        selection-&gt;on_move_end(wst, offset + process_snap(wst));
       }
       else
       {
-	selection-&gt;on_move_end(wst, offset);
+        selection-&gt;on_move_end(wst, offset);
       }
       wst.queue_draw();
     }

Modified: trunk/windstille/src/editor/selection.cpp
===================================================================
--- trunk/windstille/src/editor/selection.cpp	2009-09-10 14:48:10 UTC (rev 3218)
+++ trunk/windstille/src/editor/selection.cpp	2009-09-10 14:54:49 UTC (rev 3219)
@@ -173,12 +173,12 @@
           
       if (it == parent_map.end())
       {
-	// When the parent wasn't part of the selection, leave
-	// the parent untouched
+        // When the parent wasn't part of the selection, leave
+        // the parent untouched
       }
       else
       {
-	(*i)-&gt;set_parent(it-&gt;second);
+        (*i)-&gt;set_parent(it-&gt;second);
       }
     }
   }

Modified: trunk/windstille/src/editor/windstille_widget.cpp
===================================================================
--- trunk/windstille/src/editor/windstille_widget.cpp	2009-09-10 14:48:10 UTC (rev 3218)
+++ trunk/windstille/src/editor/windstille_widget.cpp	2009-09-10 14:54:49 UTC (rev 3219)
@@ -150,9 +150,9 @@
       lib_init = true;
       GLenum err = glewInit();
       if(err != GLEW_OK) {
-	std::ostringstream msg;
-	msg &lt;&lt; &quot;Display:: Couldn't initialize glew: &quot; &lt;&lt; glewGetString(err);
-	throw std::runtime_error(msg.str());
+        std::ostringstream msg;
+        msg &lt;&lt; &quot;Display:: Couldn't initialize glew: &quot; &lt;&lt; glewGetString(err);
+        throw std::runtime_error(msg.str());
       }
 
       OpenGLState::init();
@@ -162,7 +162,7 @@
     {
       sc.reset(new SceneContext());
       compositor.reset(new Compositor(Size(get_width(), get_height()),
-				      Size(get_width(), get_height())));
+                                      Size(get_width(), get_height())));
       sc-&gt;set_render_mask(sc-&gt;get_render_mask() &amp; ~SceneContext::LIGHTMAP);
     }
       
@@ -198,7 +198,7 @@
     if (compositor.get())
     {
       compositor.reset(new Compositor(Size(ev-&gt;width, ev-&gt;height),
-				      Size(ev-&gt;width, ev-&gt;height)));
+                                      Size(ev-&gt;width, ev-&gt;height)));
     }
 
     glViewport(0, 0, get_width(), get_height());
@@ -260,7 +260,7 @@
     if (draw_background_pattern)
     {
       sc-&gt;color().fill_pattern(background_pattern, 
-			       state.get_offset() * state.get_zoom());
+                               state.get_offset() * state.get_zoom());
     }
     else
     {
@@ -276,14 +276,14 @@
     {
       for(Selection::iterator i = m_document-&gt;get_selection()-&gt;begin(); i != m_document-&gt;get_selection()-&gt;end(); ++i)
       {
-	(*i)-&gt;draw_select(*sc, i == m_document-&gt;get_selection()-&gt;begin());
+        (*i)-&gt;draw_select(*sc, i == m_document-&gt;get_selection()-&gt;begin());
       }
 
       //sc-&gt;control().draw_rect(selection-&gt;get_bounding_box(), Color(1.0f, 1.0f, 1.0f, 1.0f));
     }
 
     for(std::vector&lt;ControlPointHandle&gt;::const_iterator i = m_document-&gt;get_control_points().begin();
-	i != m_document-&gt;get_control_points().end(); ++i)
+        i != m_document-&gt;get_control_points().end(); ++i)
     {
       (*i)-&gt;draw(*sc);
     }
@@ -300,7 +300,7 @@
     if (grid_enabled)
     {
       Display::draw_grid(state.get_offset() * state.get_zoom(),
-			 Sizef(128.0f * state.get_zoom(), 128.0f * state.get_zoom()), Color(1,1,1,0.5f));
+                         Sizef(128.0f * state.get_zoom(), 128.0f * state.get_zoom()), Color(1,1,1,0.5f));
     }
   }
 }


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="002215.html">[Windstille-commit] r3218 - trunk/windstille/src/editor
</A></li>
	<LI>Next message: <A HREF="002217.html">[Windstille-commit] r3220 - trunk/windstille/src/editor
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#2216">[ date ]</a>
              <a href="thread.html#2216">[ thread ]</a>
              <a href="subject.html#2216">[ subject ]</a>
              <a href="author.html#2216">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/windstille-commit">More information about the Windstille-commit
mailing list</a><br>
</body></html>
