<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Windstille-commit] r2432 - in trunk/windstille/src: . lisp	scripting
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/windstille-commit/2009-February/index.html" >
   <LINK REL="made" HREF="mailto:windstille-commit%40lists.berlios.de?Subject=Re%3A%20%5BWindstille-commit%5D%20r2432%20-%20in%20trunk/windstille/src%3A%20.%20lisp%0A%09scripting&In-Reply-To=%3C200902101444.n1AEivpA005459%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="001427.html">
   <LINK REL="Next"  HREF="001429.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Windstille-commit] r2432 - in trunk/windstille/src: . lisp	scripting</H1>
    <B>grumbel at BerliOS</B> 
    <A HREF="mailto:windstille-commit%40lists.berlios.de?Subject=Re%3A%20%5BWindstille-commit%5D%20r2432%20-%20in%20trunk/windstille/src%3A%20.%20lisp%0A%09scripting&In-Reply-To=%3C200902101444.n1AEivpA005459%40sheep.berlios.de%3E"
       TITLE="[Windstille-commit] r2432 - in trunk/windstille/src: . lisp	scripting">grumbel at mail.berlios.de
       </A><BR>
    <I>Tue Feb 10 15:44:57 CET 2009</I>
    <P><UL>
        <LI>Previous message: <A HREF="001427.html">[Windstille-commit] r2431 - trunk/windstille/src/collision
</A></li>
        <LI>Next message: <A HREF="001429.html">[Windstille-commit] r2433 - trunk/windstille/data
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1428">[ date ]</a>
              <a href="thread.html#1428">[ thread ]</a>
              <a href="subject.html#1428">[ subject ]</a>
              <a href="author.html#1428">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: grumbel
Date: 2009-02-10 15:44:55 +0100 (Tue, 10 Feb 2009)
New Revision: 2432

Removed:
   trunk/windstille/src/tinygettext/
Modified:
   trunk/windstille/src/SConscript
   trunk/windstille/src/config.cpp
   trunk/windstille/src/lisp/lexer.cpp
   trunk/windstille/src/lisp/lisp.cpp
   trunk/windstille/src/lisp/parser.cpp
   trunk/windstille/src/lisp/parser.hpp
   trunk/windstille/src/scripting/wrapper.cpp
   trunk/windstille/src/scripting/wrapper.hpp
   trunk/windstille/src/windstille_main.cpp
Log:
Removed tinygettext

Modified: trunk/windstille/src/SConscript
===================================================================
--- trunk/windstille/src/SConscript	2009-02-10 14:35:30 UTC (rev 2431)
+++ trunk/windstille/src/SConscript	2009-02-10 14:44:55 UTC (rev 2432)
@@ -201,9 +201,7 @@
 'sprite2d/sprite.cpp',
 'sprite3d/data.cpp',
 'sprite3d/manager.cpp',
-'sprite3d/sprite3d.cpp',
-'tinygettext/gettext.cpp',
-'tinygettext/tinygettext.cpp'
+'sprite3d/sprite3d.cpp'
 ])
 
 # EOF #

Modified: trunk/windstille/src/config.cpp
===================================================================
--- trunk/windstille/src/config.cpp	2009-02-10 14:35:30 UTC (rev 2431)
+++ trunk/windstille/src/config.cpp	2009-02-10 14:44:55 UTC (rev 2432)
@@ -22,11 +22,12 @@
 #include &lt;memory&gt;
 #include &lt;iostream&gt;
 #include &quot;config.hpp&quot;
-#include &quot;tinygettext/gettext.hpp&quot;
 #include &quot;sexpr_file_reader.hpp&quot;
 #include &quot;command_line.hpp&quot;
 #include &quot;globals.hpp&quot;
 
+#define _(A) A
+
 std::vector&lt;std::string&gt; arg_files;
 
 Config config;

Modified: trunk/windstille/src/lisp/lexer.cpp
===================================================================
--- trunk/windstille/src/lisp/lexer.cpp	2009-02-10 14:35:30 UTC (rev 2431)
+++ trunk/windstille/src/lisp/lexer.cpp	2009-02-10 14:44:55 UTC (rev 2432)
@@ -21,7 +21,7 @@
 #include &lt;sstream&gt;
 #include &lt;stdexcept&gt;
 #include &lt;iostream&gt;
-
+#include &lt;string.h&gt;
 #include &quot;lexer.hpp&quot;
 
 namespace lisp

Modified: trunk/windstille/src/lisp/lisp.cpp
===================================================================
--- trunk/windstille/src/lisp/lisp.cpp	2009-02-10 14:35:30 UTC (rev 2431)
+++ trunk/windstille/src/lisp/lisp.cpp	2009-02-10 14:44:55 UTC (rev 2432)
@@ -17,6 +17,8 @@
 //  You should have received a copy of the GNU General Public License
 //  along with this program; if not, write to the Free Software
 //  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.
+
+#include &lt;string.h&gt;
 #include &lt;config.h&gt;
 #include &lt;assert.h&gt;
 #include &quot;lisp.hpp&quot;

Modified: trunk/windstille/src/lisp/parser.cpp
===================================================================
--- trunk/windstille/src/lisp/parser.cpp	2009-02-10 14:35:30 UTC (rev 2431)
+++ trunk/windstille/src/lisp/parser.cpp	2009-02-10 14:44:55 UTC (rev 2432)
@@ -19,13 +19,14 @@
 //  Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.
 #include &lt;config.h&gt;
 
+#include &lt;memory&gt;
+#include &lt;string.h&gt;
 #include &lt;sstream&gt;
 #include &lt;cassert&gt;
 #include &lt;iostream&gt;
 #include &lt;string&gt;
 #include &lt;exception&gt;
 
-#include &quot;tinygettext/tinygettext.hpp&quot;
 #include &quot;physfs/physfs_stream.hpp&quot;
 #include &quot;parser.hpp&quot;
 #include &quot;lisp.hpp&quot;
@@ -56,16 +57,13 @@
 };
 
 Parser::Parser()
-  : lexer(0), dictionary_manager(0), dictionary(0)
+  : lexer(0)
 {
-  dictionary_manager = new tinygettext::DictionaryManager();
-  dictionary_manager-&gt;set_charset(&quot;UTF-8&quot;);
 }
 
 Parser::~Parser()
 {
   delete lexer;
-  delete dictionary_manager;
 }
 
 static std::string dirname(std::string filename)
@@ -96,8 +94,6 @@
   std::auto_ptr&lt;Parser&gt; parser (new Parser());
 
   parser-&gt;filename = filename;
-  parser-&gt;dictionary_manager-&gt;add_directory(dirname(filename));
-  parser-&gt;dictionary = &amp; (parser-&gt;dictionary_manager-&gt;get_dictionary());
   parser-&gt;lexer = new Lexer(stream);
 
   parser-&gt;token = parser-&gt;lexer-&gt;getNextToken();
@@ -131,13 +127,9 @@
             token = lexer-&gt;getNextToken();
             if(token != Lexer::TOKEN_STRING)
               throw ParseError(this, &quot;Expected string after '(_' sequence&quot;);
-            if(dictionary) {
-              std::string translation = dictionary-&gt;translate(lexer-&gt;getString());
-              entries.push_back(new Lisp(Lisp::TYPE_STRING, translation));
-            } else {
-              entries.push_back(new Lisp(Lisp::TYPE_STRING, lexer-&gt;getString()));
-            }
             
+            entries.push_back(new Lisp(Lisp::TYPE_STRING, lexer-&gt;getString()));
+            
             token = lexer-&gt;getNextToken();
             if(token != Lexer::TOKEN_CLOSE_PAREN)
               throw ParseError(this, &quot;Expected ')' after '(_ &quot;&quot;' sequence&quot;);

Modified: trunk/windstille/src/lisp/parser.hpp
===================================================================
--- trunk/windstille/src/lisp/parser.hpp	2009-02-10 14:35:30 UTC (rev 2431)
+++ trunk/windstille/src/lisp/parser.hpp	2009-02-10 14:44:55 UTC (rev 2432)
@@ -22,11 +22,6 @@
 #include &lt;string&gt;
 #include &quot;lexer.hpp&quot;
 
-namespace tinygettext {
-class Dictionary;
-class DictionaryManager;
-}
-
 namespace lisp
 {
 
@@ -48,8 +43,6 @@
   
   std::string filename;
   Lexer* lexer;
-  tinygettext::DictionaryManager* dictionary_manager;
-  tinygettext::Dictionary* dictionary;
   Lexer::TokenType token;
 };
 

Modified: trunk/windstille/src/scripting/wrapper.cpp
===================================================================
--- trunk/windstille/src/scripting/wrapper.cpp	2009-02-10 14:35:30 UTC (rev 2431)
+++ trunk/windstille/src/scripting/wrapper.cpp	2009-02-10 14:44:55 UTC (rev 2432)
@@ -33,13 +33,13 @@
     return SQ_ERROR;
   }
   Scripting::GameObject* _this = reinterpret_cast&lt;Scripting::GameObject*&gt; (data);
-  
+
   try {
     const std::string&amp; return_value = _this-&gt;get_name();
-  
+
     sq_pushstring(vm, return_value.c_str(), return_value.size());
     return 1;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -47,7 +47,7 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'get_name'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger GameObject_remove_wrapper(HSQUIRRELVM vm)
@@ -58,12 +58,12 @@
     return SQ_ERROR;
   }
   Scripting::GameObject* _this = reinterpret_cast&lt;Scripting::GameObject*&gt; (data);
-  
+
   try {
     _this-&gt;remove();
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -71,7 +71,7 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'remove'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger GameObject_set_active_wrapper(HSQUIRRELVM vm)
@@ -87,12 +87,12 @@
     sq_throwerror(vm, _SC(&quot;Argument 1 not a bool&quot;));
     return SQ_ERROR;
   }
-  
+
   try {
     _this-&gt;set_active(arg0 == SQTrue);
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -100,7 +100,7 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'set_active'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger GameObject_set_parent_wrapper(HSQUIRRELVM vm)
@@ -116,12 +116,12 @@
     sq_throwerror(vm, _SC(&quot;Argument 1 not a string&quot;));
     return SQ_ERROR;
   }
-  
+
   try {
     _this-&gt;set_parent(arg0);
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -129,7 +129,7 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'set_parent'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger TestObject_release_hook(SQUserPointer ptr, SQInteger )
@@ -152,12 +152,12 @@
     sq_throwerror(vm, _SC(&quot;Argument 1 not a string&quot;));
     return SQ_ERROR;
   }
-  
+
   try {
     _this-&gt;set_sprite(arg0);
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -165,7 +165,7 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'set_sprite'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger TestObject_set_action_wrapper(HSQUIRRELVM vm)
@@ -181,12 +181,12 @@
     sq_throwerror(vm, _SC(&quot;Argument 1 not a string&quot;));
     return SQ_ERROR;
   }
-  
+
   try {
     _this-&gt;set_action(arg0);
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -194,7 +194,7 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'set_action'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger TestObject_set_pos_wrapper(HSQUIRRELVM vm)
@@ -215,12 +215,12 @@
     sq_throwerror(vm, _SC(&quot;Argument 2 not a float&quot;));
     return SQ_ERROR;
   }
-  
+
   try {
     _this-&gt;set_pos(static_cast&lt;float&gt; (arg0), static_cast&lt;float&gt; (arg1));
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -228,7 +228,7 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'set_pos'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger TestObject_set_vflip_wrapper(HSQUIRRELVM vm)
@@ -244,12 +244,12 @@
     sq_throwerror(vm, _SC(&quot;Argument 1 not a bool&quot;));
     return SQ_ERROR;
   }
-  
+
   try {
     _this-&gt;set_vflip(arg0 == SQTrue);
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -257,7 +257,7 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'set_vflip'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger TestObject_attach_wrapper(HSQUIRRELVM vm)
@@ -278,12 +278,12 @@
     sq_throwerror(vm, _SC(&quot;Argument 2 not a string&quot;));
     return SQ_ERROR;
   }
-  
+
   try {
     _this-&gt;attach(arg0, arg1);
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -291,7 +291,7 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'attach'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger Player_release_hook(SQUserPointer ptr, SQInteger )
@@ -309,12 +309,12 @@
     return SQ_ERROR;
   }
   Scripting::Player* _this = reinterpret_cast&lt;Scripting::Player*&gt; (data);
-  
+
   try {
     _this-&gt;start_listening();
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -322,7 +322,7 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'start_listening'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger Player_stop_listening_wrapper(HSQUIRRELVM vm)
@@ -333,12 +333,12 @@
     return SQ_ERROR;
   }
   Scripting::Player* _this = reinterpret_cast&lt;Scripting::Player*&gt; (data);
-  
+
   try {
     _this-&gt;stop_listening();
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -346,7 +346,7 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'stop_listening'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger ScriptableObject_release_hook(SQUserPointer ptr, SQInteger )
@@ -384,12 +384,12 @@
     sq_throwerror(vm, _SC(&quot;Argument 4 not a float&quot;));
     return SQ_ERROR;
   }
-  
+
   try {
     _this-&gt;move_to(static_cast&lt;float&gt; (arg0), static_cast&lt;float&gt; (arg1), static_cast&lt;float&gt; (arg2), static_cast&lt;float&gt; (arg3));
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -397,7 +397,7 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'move_to'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger ScriptableObject_start_flash_wrapper(HSQUIRRELVM vm)
@@ -413,12 +413,12 @@
     sq_throwerror(vm, _SC(&quot;Argument 1 not a float&quot;));
     return SQ_ERROR;
   }
-  
+
   try {
     _this-&gt;start_flash(static_cast&lt;float&gt; (arg0));
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -426,7 +426,7 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'start_flash'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger set_sector_wrapper(HSQUIRRELVM vm)
@@ -436,12 +436,12 @@
     sq_throwerror(vm, _SC(&quot;Argument 1 not a string&quot;));
     return SQ_ERROR;
   }
-  
+
   try {
     Scripting::set_sector(arg0);
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -449,7 +449,7 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'set_sector'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger play_music_wrapper(HSQUIRRELVM vm)
@@ -459,12 +459,12 @@
     sq_throwerror(vm, _SC(&quot;Argument 1 not a string&quot;));
     return SQ_ERROR;
   }
-  
+
   try {
     Scripting::play_music(arg0);
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -472,7 +472,7 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'play_music'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger stop_music_wrapper(HSQUIRRELVM vm)
@@ -482,12 +482,12 @@
     sq_throwerror(vm, _SC(&quot;Argument 1 not a float&quot;));
     return SQ_ERROR;
   }
-  
+
   try {
     Scripting::stop_music(static_cast&lt;float&gt; (arg0));
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -495,7 +495,7 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'stop_music'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger play_sound_wrapper(HSQUIRRELVM vm)
@@ -505,12 +505,12 @@
     sq_throwerror(vm, _SC(&quot;Argument 1 not a string&quot;));
     return SQ_ERROR;
   }
-  
+
   try {
     Scripting::play_sound(arg0);
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -518,7 +518,7 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'play_sound'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger caption_add_wrapper(HSQUIRRELVM vm)
@@ -533,12 +533,12 @@
     sq_throwerror(vm, _SC(&quot;Argument 2 not a string&quot;));
     return SQ_ERROR;
   }
-  
+
   try {
     Scripting::caption_add(static_cast&lt;int&gt; (arg0), arg1);
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -546,18 +546,18 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'caption_add'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger caption_clear_wrapper(HSQUIRRELVM vm)
 {
   (void) vm;
-  
+
   try {
     Scripting::caption_clear();
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -565,18 +565,18 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'caption_clear'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger caption_end_wrapper(HSQUIRRELVM vm)
 {
   (void) vm;
-  
+
   try {
     Scripting::caption_end();
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -584,7 +584,7 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'caption_end'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger camera_set_active_wrapper(HSQUIRRELVM vm)
@@ -594,12 +594,12 @@
     sq_throwerror(vm, _SC(&quot;Argument 1 not a bool&quot;));
     return SQ_ERROR;
   }
-  
+
   try {
     Scripting::camera_set_active(arg0 == SQTrue);
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -607,18 +607,18 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'camera_set_active'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger camera_continue_path_wrapper(HSQUIRRELVM vm)
 {
   (void) vm;
-  
+
   try {
     Scripting::camera_continue_path();
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -626,18 +626,18 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'camera_continue_path'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger camera_begin_path_wrapper(HSQUIRRELVM vm)
 {
   (void) vm;
-  
+
   try {
     Scripting::camera_begin_path();
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -645,7 +645,7 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'camera_begin_path'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger camera_add_point_wrapper(HSQUIRRELVM vm)
@@ -665,12 +665,12 @@
     sq_throwerror(vm, _SC(&quot;Argument 3 not a float&quot;));
     return SQ_ERROR;
   }
-  
+
   try {
     Scripting::camera_add_point(static_cast&lt;float&gt; (arg0), static_cast&lt;float&gt; (arg1), static_cast&lt;float&gt; (arg2));
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -678,18 +678,18 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'camera_add_point'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger camera_end_path_wrapper(HSQUIRRELVM vm)
 {
   (void) vm;
-  
+
   try {
     Scripting::camera_end_path();
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -697,7 +697,7 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'camera_end_path'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger camera_set_pos_wrapper(HSQUIRRELVM vm)
@@ -712,12 +712,12 @@
     sq_throwerror(vm, _SC(&quot;Argument 2 not a float&quot;));
     return SQ_ERROR;
   }
-  
+
   try {
     Scripting::camera_set_pos(static_cast&lt;float&gt; (arg0), static_cast&lt;float&gt; (arg1));
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -725,7 +725,7 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'camera_set_pos'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger camera_set_zoom_wrapper(HSQUIRRELVM vm)
@@ -735,12 +735,12 @@
     sq_throwerror(vm, _SC(&quot;Argument 1 not a float&quot;));
     return SQ_ERROR;
   }
-  
+
   try {
     Scripting::camera_set_zoom(static_cast&lt;float&gt; (arg0));
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -748,7 +748,7 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'camera_set_zoom'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger set_controller_help_active_wrapper(HSQUIRRELVM vm)
@@ -758,12 +758,12 @@
     sq_throwerror(vm, _SC(&quot;Argument 1 not a bool&quot;));
     return SQ_ERROR;
   }
-  
+
   try {
     Scripting::set_controller_help_active(arg0 == SQTrue);
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -771,7 +771,7 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'set_controller_help_active'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger dialog_show_wrapper(HSQUIRRELVM vm)
@@ -796,12 +796,12 @@
     sq_throwerror(vm, _SC(&quot;Argument 4 not a string&quot;));
     return SQ_ERROR;
   }
-  
+
   try {
     Scripting::dialog_show(static_cast&lt;int&gt; (arg0), arg1, arg2, arg3);
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -809,18 +809,18 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'dialog_show'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger wait_for_dialog_wrapper(HSQUIRRELVM vm)
 {
   HSQUIRRELVM arg0 = vm;
-  
+
   try {
     Scripting::wait_for_dialog(arg0);
-  
+
     return sq_suspendvm(vm);
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -828,18 +828,18 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'wait_for_dialog'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger wait_for_fade_wrapper(HSQUIRRELVM vm)
 {
   HSQUIRRELVM arg0 = vm;
-  
+
   try {
     Scripting::wait_for_fade(arg0);
-  
+
     return sq_suspendvm(vm);
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -847,18 +847,18 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'wait_for_fade'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger wait_for_camera_wrapper(HSQUIRRELVM vm)
 {
   HSQUIRRELVM arg0 = vm;
-  
+
   try {
     Scripting::wait_for_camera(arg0);
-  
+
     return sq_suspendvm(vm);
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -866,7 +866,7 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'wait_for_camera'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger conversation_add_wrapper(HSQUIRRELVM vm)
@@ -876,12 +876,12 @@
     sq_throwerror(vm, _SC(&quot;Argument 1 not a string&quot;));
     return SQ_ERROR;
   }
-  
+
   try {
     Scripting::conversation_add(arg0);
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -889,7 +889,7 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'conversation_add'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger conversation_add2_wrapper(HSQUIRRELVM vm)
@@ -904,12 +904,12 @@
     sq_throwerror(vm, _SC(&quot;Argument 2 not a string&quot;));
     return SQ_ERROR;
   }
-  
+
   try {
     Scripting::conversation_add2(arg0, arg1);
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -917,18 +917,18 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'conversation_add2'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger conversation_show_wrapper(HSQUIRRELVM vm)
 {
   (void) vm;
-  
+
   try {
     Scripting::conversation_show();
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -936,18 +936,18 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'conversation_show'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger conversation_get_selection_wrapper(HSQUIRRELVM vm)
 {
-  
+
   try {
     int return_value = Scripting::conversation_get_selection();
-  
+
     sq_pushinteger(vm, return_value);
     return 1;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -955,18 +955,18 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'conversation_get_selection'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger wait_for_conversation_wrapper(HSQUIRRELVM vm)
 {
   HSQUIRRELVM arg0 = vm;
-  
+
   try {
     Scripting::wait_for_conversation(arg0);
-  
+
     return sq_suspendvm(vm);
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -974,7 +974,7 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'wait_for_conversation'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger add_objective_wrapper(HSQUIRRELVM vm)
@@ -989,12 +989,12 @@
     sq_throwerror(vm, _SC(&quot;Argument 2 not a string&quot;));
     return SQ_ERROR;
   }
-  
+
   try {
     Scripting::add_objective(arg0, arg1);
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -1002,7 +1002,7 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'add_objective'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger objective_complete_wrapper(HSQUIRRELVM vm)
@@ -1012,12 +1012,12 @@
     sq_throwerror(vm, _SC(&quot;Argument 1 not a string&quot;));
     return SQ_ERROR;
   }
-  
+
   try {
     Scripting::objective_complete(arg0);
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -1025,7 +1025,7 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'objective_complete'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger is_objective_given_wrapper(HSQUIRRELVM vm)
@@ -1035,13 +1035,13 @@
     sq_throwerror(vm, _SC(&quot;Argument 1 not a string&quot;));
     return SQ_ERROR;
   }
-  
+
   try {
     bool return_value = Scripting::is_objective_given(arg0);
-  
+
     sq_pushbool(vm, return_value);
     return 1;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -1049,7 +1049,7 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'is_objective_given'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger is_objective_complete_wrapper(HSQUIRRELVM vm)
@@ -1059,13 +1059,13 @@
     sq_throwerror(vm, _SC(&quot;Argument 1 not a string&quot;));
     return SQ_ERROR;
   }
-  
+
   try {
     bool return_value = Scripting::is_objective_complete(arg0);
-  
+
     sq_pushbool(vm, return_value);
     return 1;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -1073,19 +1073,19 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'is_objective_complete'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger run_before_wrapper(HSQUIRRELVM vm)
 {
   HSQUIRRELVM arg0 = vm;
-  
+
   try {
     bool return_value = Scripting::run_before(arg0);
-  
+
     sq_pushbool(vm, return_value);
     return 1;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -1093,7 +1093,7 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'run_before'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger save_state_wrapper(HSQUIRRELVM vm)
@@ -1104,12 +1104,12 @@
     sq_throwerror(vm, _SC(&quot;Argument 1 not a string&quot;));
     return SQ_ERROR;
   }
-  
+
   try {
     Scripting::save_state(arg0, arg1);
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -1117,7 +1117,7 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'save_state'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger load_state_wrapper(HSQUIRRELVM vm)
@@ -1128,12 +1128,12 @@
     sq_throwerror(vm, _SC(&quot;Argument 1 not a string&quot;));
     return SQ_ERROR;
   }
-  
+
   try {
     Scripting::load_state(arg0, arg1);
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -1141,18 +1141,18 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'load_state'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger list_objects_wrapper(HSQUIRRELVM vm)
 {
   (void) vm;
-  
+
   try {
     Scripting::list_objects();
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -1160,7 +1160,7 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'list_objects'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger set_debug_wrapper(HSQUIRRELVM vm)
@@ -1170,12 +1170,12 @@
     sq_throwerror(vm, _SC(&quot;Argument 1 not a bool&quot;));
     return SQ_ERROR;
   }
-  
+
   try {
     Scripting::set_debug(arg0 == SQTrue);
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -1183,18 +1183,18 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'set_debug'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger get_debug_wrapper(HSQUIRRELVM vm)
 {
-  
+
   try {
     bool return_value = Scripting::get_debug();
-  
+
     sq_pushbool(vm, return_value);
     return 1;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -1202,18 +1202,18 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'get_debug'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger get_game_speed_wrapper(HSQUIRRELVM vm)
 {
-  
+
   try {
     float return_value = Scripting::get_game_speed();
-  
+
     sq_pushfloat(vm, return_value);
     return 1;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -1221,7 +1221,7 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'get_game_speed'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger set_game_speed_wrapper(HSQUIRRELVM vm)
@@ -1231,12 +1231,12 @@
     sq_throwerror(vm, _SC(&quot;Argument 1 not a float&quot;));
     return SQ_ERROR;
   }
-  
+
   try {
     Scripting::set_game_speed(static_cast&lt;float&gt; (arg0));
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -1244,7 +1244,7 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'set_game_speed'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger wait_wrapper(HSQUIRRELVM vm)
@@ -1255,12 +1255,12 @@
     sq_throwerror(vm, _SC(&quot;Argument 1 not a float&quot;));
     return SQ_ERROR;
   }
-  
+
   try {
     Scripting::wait(arg0, static_cast&lt;float&gt; (arg1));
-  
+
     return sq_suspendvm(vm);
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -1268,7 +1268,7 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'wait'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger display_wrapper(HSQUIRRELVM vm)
@@ -1293,12 +1293,12 @@
     sq_throwerror(vm, _SC(&quot;Argument 2 not an integer&quot;));
     return SQ_ERROR;
   }
-  
+
   try {
     Scripting::set_console_font(arg0, static_cast&lt;int&gt; (arg1));
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -1306,7 +1306,7 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'set_console_font'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger set_gamma_wrapper(HSQUIRRELVM vm)
@@ -1316,12 +1316,12 @@
     sq_throwerror(vm, _SC(&quot;Argument 1 not a float&quot;));
     return SQ_ERROR;
   }
-  
+
   try {
     Scripting::set_gamma(static_cast&lt;float&gt; (arg0));
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -1329,7 +1329,7 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'set_gamma'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger set_gamma_rgb_wrapper(HSQUIRRELVM vm)
@@ -1349,12 +1349,12 @@
     sq_throwerror(vm, _SC(&quot;Argument 3 not a float&quot;));
     return SQ_ERROR;
   }
-  
+
   try {
     Scripting::set_gamma_rgb(static_cast&lt;float&gt; (arg0), static_cast&lt;float&gt; (arg1), static_cast&lt;float&gt; (arg2));
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -1362,18 +1362,18 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'set_gamma_rgb'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger show_config_wrapper(HSQUIRRELVM vm)
 {
   (void) vm;
-  
+
   try {
     Scripting::show_config();
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -1381,18 +1381,18 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'show_config'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger cutscene_begin_wrapper(HSQUIRRELVM vm)
 {
   (void) vm;
-  
+
   try {
     Scripting::cutscene_begin();
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -1400,18 +1400,18 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'cutscene_begin'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger cutscene_end_wrapper(HSQUIRRELVM vm)
 {
   (void) vm;
-  
+
   try {
     Scripting::cutscene_end();
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -1419,7 +1419,7 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'cutscene_end'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger internal_fadeout_rgb_wrapper(HSQUIRRELVM vm)
@@ -1444,12 +1444,12 @@
     sq_throwerror(vm, _SC(&quot;Argument 4 not a float&quot;));
     return SQ_ERROR;
   }
-  
+
   try {
     Scripting::internal_fadeout_rgb(static_cast&lt;float&gt; (arg0), static_cast&lt;float&gt; (arg1), static_cast&lt;float&gt; (arg2), static_cast&lt;float&gt; (arg3));
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -1457,7 +1457,7 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'internal_fadeout_rgb'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger internal_fadein_wrapper(HSQUIRRELVM vm)
@@ -1467,12 +1467,12 @@
     sq_throwerror(vm, _SC(&quot;Argument 1 not a float&quot;));
     return SQ_ERROR;
   }
-  
+
   try {
     Scripting::internal_fadein(static_cast&lt;float&gt; (arg0));
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -1480,18 +1480,18 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'internal_fadein'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger render_mask_get_wrapper(HSQUIRRELVM vm)
 {
-  
+
   try {
     int return_value = Scripting::render_mask_get();
-  
+
     sq_pushinteger(vm, return_value);
     return 1;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -1499,7 +1499,7 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'render_mask_get'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger render_mask_set_wrapper(HSQUIRRELVM vm)
@@ -1509,12 +1509,12 @@
     sq_throwerror(vm, _SC(&quot;Argument 1 not an integer&quot;));
     return SQ_ERROR;
   }
-  
+
   try {
     Scripting::render_mask_set(static_cast&lt;int&gt; (arg0));
-  
+
     return 0;
-  
+
   } catch(std::exception&amp; e) {
     sq_throwerror(vm, e.what());
     return SQ_ERROR;
@@ -1522,7 +1522,7 @@
     sq_throwerror(vm, _SC(&quot;Unexpected exception while executing function 'render_mask_set'&quot;));
     return SQ_ERROR;
   }
-  
+
 }
 
 static SQInteger spawn_object_wrapper(HSQUIRRELVM vm)
@@ -1531,7 +1531,6 @@
 }
 
 } // end of namespace Wrapper
-
 void create_squirrel_instance(HSQUIRRELVM v, Scripting::GameObject* object, bool setup_releasehook)
 {
   using namespace Wrapper;
@@ -2107,4 +2106,3 @@
 }
 
 } // end of namespace Scripting
-

Modified: trunk/windstille/src/scripting/wrapper.hpp
===================================================================
--- trunk/windstille/src/scripting/wrapper.hpp	2009-02-10 14:35:30 UTC (rev 2431)
+++ trunk/windstille/src/scripting/wrapper.hpp	2009-02-10 14:44:55 UTC (rev 2432)
@@ -22,4 +22,3 @@
 }
 
 #endif
-

Modified: trunk/windstille/src/windstille_main.cpp
===================================================================
--- trunk/windstille/src/windstille_main.cpp	2009-02-10 14:35:30 UTC (rev 2431)
+++ trunk/windstille/src/windstille_main.cpp	2009-02-10 14:44:55 UTC (rev 2432)
@@ -32,7 +32,6 @@
 #include &quot;sound/sound_manager.hpp&quot;
 #include &quot;tile_factory.hpp&quot;
 #include &quot;script_manager.hpp&quot;
-#include &quot;tinygettext/gettext.hpp&quot;
 #include &quot;config.hpp&quot;
 #include &quot;util.hpp&quot;
 #include &quot;font/ttf_font.hpp&quot;
@@ -68,10 +67,6 @@
     init_physfs(argv[0]);
     init_sdl();
 
-    dictionaryManager = new tinygettext::DictionaryManager();
-    dictionaryManager-&gt;set_charset(&quot;iso8859-1&quot;);
-    dictionaryManager-&gt;add_directory(&quot;locale&quot;);
-
     config.load();
     
     config.parse_args(argc, argv);
@@ -189,9 +184,6 @@
 
   config.save();
 
-  delete dictionaryManager;
-  dictionaryManager = 0;
-  
   SDL_Quit();
   PHYSFS_deinit();
 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="001427.html">[Windstille-commit] r2431 - trunk/windstille/src/collision
</A></li>
	<LI>Next message: <A HREF="001429.html">[Windstille-commit] r2433 - trunk/windstille/data
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#1428">[ date ]</a>
              <a href="thread.html#1428">[ thread ]</a>
              <a href="subject.html#1428">[ subject ]</a>
              <a href="author.html#1428">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/windstille-commit">More information about the Windstille-commit
mailing list</a><br>
</body></html>
